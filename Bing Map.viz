{"id":"89fab3b0-bd3f-11eb-ae27-5966b85db1ce","name":"Bing Map","version":"1.0.1","displayName":"Bing Map","displayNameKey":"bingMap","icon":"data:image/png;base64,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","iconCss":"","description":"","externalJs":["https://www.bing.com/api/maps/mapcontrol?callback=wynVisualGetMap"],"externalCss":[],"assets":{"images":{"visualIcon":"data:image/png;base64,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"}},"configuration":{"Application Key":""},"i18nResources":{"zh-CN":{"bingMap":"必应地图","key":"密钥","dataRoles":{"longitude":"经度","latitude":"纬度","size":"大小","color":"颜色","values":"值","category":"类别","firstLevelLocationDivision":"国家区域","secondLevelLocationDivision":"省级区域","thirdLevelLocationDivision":"市级区域"},"templates":{"collectionName":"图层","pushPinMapTemplate":"散点图层","heatMapTemplate":"热力图层","blockMapTemplate":"区块图层"},"chartType":{"name":"类型","scatter":"散点图","heat":"热力图","block":"区块图"},"mapType":{"name":"地图类型","road":"道路","canvasDark":"深色画布","grayscale":"灰度","aerial":"航测图","birdseye":"鸟瞰图","streetside":"街景视图"},"colorStyle":{"name":"色彩样式","maintainColorAssignments":"保持颜色分配","palette":"调色板"},"hoverAct":"鼠标浮动展示标签","pinOptions":{"name":"散点图属性","maxRadius":"散点最大半径","colorPreference":{"name":"颜色偏好","palette":"调色板","gradient":"渐变"},"baseColor":"填充颜色","gradientPreference":{"name":"渐变偏好","gradual":"平滑渐变","grouped":"分组渐变"},"rangeCount":"分组个数","showSizeLegend":"显示散点大小图例","showDataLabel":"显示散点值"},"heatOptions":{"name":"热力图属性","step":"阶","radius":"影响半径","unit":"半径单位","pixels":"像素","meters":"米"},"blockOptions":{"name":"区块图属性","locType":"区域类型"},"null":"[空值]"},"zh-TW":{"bingMap":"必應地圖","key":"密鑰","dataRoles":{"longitude":"經度","latitude":"緯度","size":"大小","color":"顏色","values":"值","category":"類別","firstLevelLocationDivision":"國家區域","secondLevelLocationDivision":"省級區域","thirdLevelLocationDivision":"市級區域"},"templates":{"collectionName":"圖層","pushPinMapTemplate":"散點圖層","heatMapTemplate":"熱力圖層","blockMapTemplate":"區塊圖層"},"chartType":{"name":"類型","scatter":"散點圖","heat":"熱力圖","block":"區塊圖"},"mapType":{"name":"地圖類型","road":"道路","canvasDark":"深色畫布","grayscale":"灰度","aerial":"航測圖","birdseye":"鳥瞰圖","streetside":"街景視圖"},"colorStyle":{"name":"色彩樣式","maintainColorAssignments":"保持顏色分配","palette":"調色板"},"hoverAct":"鼠標浮動展示標籤","pinOptions":{"name":"散點圖屬性","maxRadius":"散點最大半徑","colorPreference":{"name":"顏色偏好","palette":"調色板","gradient":"漸變"},"baseColor":"填充顏色","gradientPreference":{"name":"漸變偏好","gradual":"平滑漸變","grouped":"分組漸變"},"rangeCount":"分組個數","showSizeLegend":"顯示散點大小圖例","showDataLabel":"顯示散點值"},"heatOptions":{"name":"熱力圖屬性","step":"階","radius":"影響半徑","unit":"半徑單位","pixels":"像素","meters":"米"},"blockOptions":{"name":"區塊圖屬性","locType":"區域類型"},"null":"[空值]"},"en-US":{"bingMap":"Bing Map","key":"Key","dataRoles":{"longitude":"Longitude","latitude":"Latitude","size":"Size","color":"Color","values":"Values","category":"Category","firstLevelLocationDivision":"Country Region","secondLevelLocationDivision":"First Admin Division","thirdLevelLocationDivision":"Second Admin Division"},"templates":{"collectionName":"Layers","pushPinMapTemplate":"PushPin Map Layer","heatMapTemplate":"Heat Map Layer","blockMapTemplate":"Block Map Layer"},"chartType":{"name":"Chart Type","scatter":"Scatter Plot","heat":"Heat","block":"Block"},"mapType":{"name":"Map Type","road":"road","canvasDark":"canvasDark","grayscale":"grayscale","aerial":"aerial","birdseye":"birdseye","streetside":"streetside"},"colorStyle":{"name":"Color Style","maintainColorAssignments":"Maintain Color Assignments","palette":"Palette"},"hoverAct":"Show ToolTip on hover","pinOptions":{"name":"Pin Map Options","maxRadius":"Max Radius","colorPreference":{"name":"Color Preference","palette":"Palette","gradient":"Gradient"},"baseColor":"Base Color","gradientPreference":{"name":"Gradient Preference","gradual":"Gradual","grouped":"Grouped"},"rangeCount":"Range Count","showSizeLegend":"Show Size Legend","showDataLabel":"Show Data Label"},"heatOptions":{"name":"Heat Map Options","step":"Step","radius":"Radius","unit":"Radius Unit","pixels":"pixels","meters":"meters"},"blockOptions":{"name":"Block Map Options","locType":"Location Type"},"null":"[Null]"}},"capabilities":{"dataBinding":{"dataRoles":[{"kind":"collection","displayNameKey":"templates.collectionName","groups":["pushPinMapTemplate","heatMapTemplate","blockMapTemplate"]}],"templates":[{"name":"pushPinMapTemplate","displayNameKey":"templates.pushPinMapTemplate","dataRoles":[{"name":"latitude","kind":"grouping","displayNameKey":"dataRoles.latitude"},{"name":"longitude","kind":"grouping","displayNameKey":"dataRoles.longitude"},{"name":"pushPinValue","kind":"value","displayNameKey":"dataRoles.size"},{"name":"pushPinCategory","kind":"groupingOrValue","displayNameKey":"dataRoles.color"}],"dataViewMappings":[{"plain":{"dataRoles":["latitude","longitude","pushPinValue","pushPinCategory"],"required":[{"latitude":{"min":1},"longitude":{"min":1}}]}}],"conditions":[{"latitude":{"max":1},"longitude":{"max":1},"pushPinValue":{"max":1},"pushPinCategory":{"max":1}}]},{"name":"heatMapTemplate","displayNameKey":"templates.heatMapTemplate","dataRoles":[{"name":"latitude","kind":"grouping","displayNameKey":"dataRoles.latitude"},{"name":"longitude","kind":"grouping","displayNameKey":"dataRoles.longitude"},{"name":"heatMapValue","kind":"value","displayNameKey":"dataRoles.values"}],"dataViewMappings":[{"plain":{"dataRoles":["latitude","longitude","heatMapValue"],"required":[{"latitude":{"min":1},"longitude":{"min":1},"heatMapValue":{"min":1}}]}}],"conditions":[{"latitude":{"max":1},"longitude":{"max":1},"heatMapValue":{"max":1}}]},{"name":"blockMapTemplate","displayNameKey":"templates.blockMapTemplate","dataRoles":[{"name":"firstLevelLocationDivision","displayNameKey":"dataRoles.firstLevelLocationDivision","kind":"grouping"},{"name":"secondLevelLocationDivision","displayNameKey":"dataRoles.secondLevelLocationDivision","kind":"grouping"},{"name":"thirdLevelLocationDivision","displayNameKey":"dataRoles.thirdLevelLocationDivision","kind":"grouping"},{"name":"blockMapValue","kind":"attributeOrValue","preferredKind":"value","displayNameKey":"dataRoles.values"}],"dataViewMappings":[{"matrix":{"values":["blockMapValue"],"rows":["firstLevelLocationDivision","secondLevelLocationDivision","thirdLevelLocationDivision"],"columns":[],"rowGrandTotal":true,"columnGrandTotal":true,"required":[{"blockMapValue":{"min":1}}]}}],"conditions":[{"firstLevelLocationDivision":{"max":1},"secondLevelLocationDivision":{"max":1},"thirdLevelLocationDivision":{"max":1},"blockMapValue":{"max":1}}]}]},"options":{"visual":[{"properties":[{"name":"hoverAct","type":"Boolean","displayNameKey":"hoverAct","defaultValue":true},{"name":"mapType","type":"Enum","items":[{"value":"road","displayNameKey":"mapType.road"},{"value":"canvasDark","displayNameKey":"mapType.canvasDark"},{"value":"grayscale","displayNameKey":"mapType.grayscale"},{"value":"aerial","displayNameKey":"mapType.aerial"},{"value":"birdseye","displayNameKey":"mapType.birdseye"},{"value":"streetside","displayNameKey":"mapType.streetside"}],"displayNameKey":"mapType.name","defaultValue":"road"}]},{"displayNameKey":"pinOptions.name","properties":[{"name":"maxRadius","type":"Integer","displayNameKey":"pinOptions.maxRadius","min":1,"defaultValue":50},{"name":"showSizeLegend","type":"Boolean","displayNameKey":"pinOptions.showSizeLegend","defaultValue":false},{"name":"showDataLabel","type":"Boolean","displayNameKey":"pinOptions.showDataLabel","defaultValue":true},{"name":"colorPreference","type":"Enum","items":[{"value":"palette","displayNameKey":"pinOptions.colorPreference.palette"},{"value":"gradient","displayNameKey":"pinOptions.colorPreference.gradient"}],"displayNameKey":"pinOptions.colorPreference.name","defaultValue":"palette"},{"name":"baseColor","type":"Color","displayNameKey":"pinOptions.baseColor","defaultValue":"rgb(243, 128, 68)"},{"name":"gradientPreference","type":"Enum","items":[{"value":"gradual","displayNameKey":"pinOptions.gradientPreference.gradual"},{"value":"grouped","displayNameKey":"pinOptions.gradientPreference.grouped"}],"displayNameKey":"pinOptions.gradientPreference.name","defaultValue":"gradual"},{"name":"rangeCount","type":"Integer","displayNameKey":"pinOptions.rangeCount","defaultValue":5,"min":1}]},{"displayNameKey":"colorStyle.name","properties":[{"name":"maintainColorAssignments","type":"ColorAssignment","displayNameKey":"colorStyle.maintainColorAssignments","defaultValue":false,"palettePath":"paletteId"},{"name":"paletteId","type":"Palette","displayNameKey":"colorStyle.palette","inheritFrom":"dashboard.palette"}]},{"displayNameKey":"heatOptions.name","properties":[{"name":"step","type":"Integer","displayNameKey":"heatOptions.step","min":1,"defaultValue":2},{"name":"radius","type":"Float","displayNameKey":"heatOptions.radius","min":0,"defaultValue":20},{"name":"unit","type":"Enum","displayNameKey":"heatOptions.unit","items":[{"value":"pixels","displayNameKey":"heatOptions.pixels"},{"value":"meters","displayNameKey":"heatOptions.meters"}],"defaultValue":"pixels"}]},{"properties":[{"name":"mapCenter","defaultValue":{},"hidden":true},{"name":"pinCenter","defaultValue":{},"hidden":true}]},{"type":"interaction","disable":{"jumpTo":true,"contextMenuActions":true}},{"type":"title"},{"type":"appearance"}]},"actions":[{"type":"clearSelection"},{"type":"edit"},{"type":"focus"},{"type":"annotation"},{"type":"export"},{"type":"filter"},{"type":"rank"},{"type":"analysisPath"},{"type":"shareScenario"},{"type":"openFullDashboard"}],"analysis":[]},"jsContent":"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.WynVisualClass=e():t.WynVisualClass=e()}(window,function(){return d=[function(t,e,i){\"use strict\";var h=i(8),c=i(11),u=[].slice,d=[\"keyword\",\"gray\",\"hex\"],p={};Object.keys(c).forEach(function(t){p[u.call(c[t].labels).sort().join(\"\")]=t});var f={};function g(t,e){if(!(this instanceof g))return new g(t,e);if(e&&e in d&&(e=null),e&&!(e in c))throw new Error(\"Unknown model: \"+e);var i;if(null==t)this.model=\"rgb\",this.color=[0,0,0],this.valpha=1;else if(t instanceof g)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(\"string\"==typeof t){var n=h.get(t);if(null===n)throw new Error(\"Unable to parse color from string: \"+t);this.model=n.model,i=c[this.model].channels,this.color=n.value.slice(0,i),this.valpha=\"number\"==typeof n.value[i]?n.value[i]:1}else if(t.length){this.model=e||\"rgb\",i=c[this.model].channels;var o=u.call(t,0,i);this.color=v(o,i),this.valpha=\"number\"==typeof t[i]?t[i]:1}else if(\"number\"==typeof t)t&=16777215,this.model=\"rgb\",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;o=Object.keys(t);\"alpha\"in t&&(o.splice(o.indexOf(\"alpha\"),1),this.valpha=\"number\"==typeof t.alpha?t.alpha:0);o=o.sort().join(\"\");if(!(o in p))throw new Error(\"Unable to parse color from object: \"+JSON.stringify(t));this.model=p[o];for(var a=c[this.model].labels,r=[],s=0;s<a.length;s++)r.push(t[a[s]]);this.color=v(r)}if(f[this.model])for(i=c[this.model].channels,s=0;s<i;s++){var l=f[this.model][s];l&&(this.color[s]=l(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function n(i,n,o){return(i=Array.isArray(i)?i:[i]).forEach(function(t){(f[t]||(f[t]=[]))[n]=o}),i=i[0],function(t){var e;return arguments.length?(o&&(t=o(t)),(e=this[i]()).color[n]=t):(e=this[i]().color[n],o&&(e=o(e))),e}}function o(e){return function(t){return Math.max(0,Math.min(e,t))}}function v(t,e){for(var i=0;i<e;i++)\"number\"!=typeof t[i]&&(t[i]=0);return t}g.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in h.to?this:this.rgb(),t=1===(e=e.round(\"number\"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return h.to[e.model](t)},percentString:function(t){t=this.rgb().round(\"number\"==typeof t?t:1),t=1===t.valpha?t.color:t.color.concat(this.valpha);return h.to.rgb.percent(t)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=c[this.model].channels,i=c[this.model].labels,n=0;n<e;n++)t[i[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new g(this.color.map((i=t,function(t){return e=i,Number(t.toFixed(e));var e})).concat(this.valpha),this.model);var i},alpha:function(t){return arguments.length?new g(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:n(\"rgb\",0,o(255)),green:n(\"rgb\",1,o(255)),blue:n(\"rgb\",2,o(255)),hue:n([\"hsl\",\"hsv\",\"hsl\",\"hwb\",\"hcg\"],0,function(t){return(t%360+360)%360}),saturationl:n(\"hsl\",1,o(100)),lightness:n(\"hsl\",2,o(100)),saturationv:n(\"hsv\",1,o(100)),value:n(\"hsv\",2,o(100)),chroma:n(\"hcg\",1,o(100)),gray:n(\"hcg\",2,o(100)),white:n(\"hwb\",1,o(100)),wblack:n(\"hwb\",2,o(100)),cyan:n(\"cmyk\",0,o(100)),magenta:n(\"cmyk\",1,o(100)),yellow:n(\"cmyk\",2,o(100)),black:n(\"cmyk\",3,o(100)),x:n(\"xyz\",0,o(100)),y:n(\"xyz\",1,o(100)),z:n(\"xyz\",2,o(100)),l:n(\"lab\",0,o(100)),a:n(\"lab\",1),b:n(\"lab\",2),keyword:function(t){return arguments.length?new g(t):c[this.model].keyword(this.color)},hex:function(t){return arguments.length?new g(t):h.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),t=t.luminosity();return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(t){t=this.contrast(t);return 7.1<=t?\"AAA\":4.5<=t?\"AA\":\"\"},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,t=.3*t[0]+.59*t[1]+.11*t[2];return g.rgb(t,t,t)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),i=e.color[0];return i=(i=(i+t)%360)<0?360+i:i,e.color[0]=i,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to \"mix\" was not a Color instance, but rather an instance of '+typeof t);var i=t.rgb(),n=this.rgb(),o=void 0===e?.5:e,t=2*o-1,e=i.alpha()-n.alpha(),t=(1+(t*e==-1?t:(t+e)/(1+t*e)))/2,e=1-t;return g.rgb(t*i.red()+e*n.red(),t*i.green()+e*n.green(),t*i.blue()+e*n.blue(),i.alpha()*o+n.alpha()*(1-o))}},Object.keys(c).forEach(function(i){var n;-1===d.indexOf(i)&&(n=c[i].channels,g.prototype[i]=function(){if(this.model===i)return new g(this);if(arguments.length)return new g(arguments,i);var t,e=\"number\"==typeof arguments[n]?n:this.valpha;return new g((t=c[this.model][i].raw(this.color),(Array.isArray(t)?t:[t]).concat(e)),i)},g[i]=function(t){return\"number\"==typeof t&&(t=v(u.call(arguments),n)),new g(t,i)})}),t.exports=g},function(t,e,i){\"use strict\";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,i){var n,s=i(1),l={};for(n in s)s.hasOwnProperty(n)&&(l[s[n]]=n);var o,a=t.exports={rgb:{channels:3,labels:\"rgb\"},hsl:{channels:3,labels:\"hsl\"},hsv:{channels:3,labels:\"hsv\"},hwb:{channels:3,labels:\"hwb\"},cmyk:{channels:4,labels:\"cmyk\"},xyz:{channels:3,labels:\"xyz\"},lab:{channels:3,labels:\"lab\"},lch:{channels:3,labels:\"lch\"},hex:{channels:1,labels:[\"hex\"]},keyword:{channels:1,labels:[\"keyword\"]},ansi16:{channels:1,labels:[\"ansi16\"]},ansi256:{channels:1,labels:[\"ansi256\"]},hcg:{channels:3,labels:[\"h\",\"c\",\"g\"]},apple:{channels:3,labels:[\"r16\",\"g16\",\"b16\"]},gray:{channels:1,labels:[\"gray\"]}};for(o in a)if(a.hasOwnProperty(o)){if(!(\"channels\"in a[o]))throw new Error(\"missing channels property: \"+o);if(!(\"labels\"in a[o]))throw new Error(\"missing channel labels property: \"+o);if(a[o].labels.length!==a[o].channels)throw new Error(\"channel and label counts mismatch: \"+o);var r=a[o].channels,h=a[o].labels;delete a[o].channels,delete a[o].labels,Object.defineProperty(a[o],\"channels\",{value:r}),Object.defineProperty(a[o],\"labels\",{value:h})}a.rgb.hsl=function(t){var e,i=t[0]/255,n=t[1]/255,o=t[2]/255,a=Math.min(i,n,o),r=Math.max(i,n,o),t=r-a;return r===a?e=0:i===r?e=(n-o)/t:n===r?e=2+(o-i)/t:o===r&&(e=4+(i-n)/t),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+r)/2,[e,100*(r===a?0:n<=.5?t/(r+a):t/(2-r-a)),100*n]},a.rgb.hsv=function(t){var e,i,n,o=t[0]/255,a=t[1]/255,r=t[2]/255,s=Math.max(o,a,r),l=s-Math.min(o,a,r),h=function(t){return(s-t)/6/l+.5};return 0==l?i=n=0:(n=l/s,e=h(o),t=h(a),h=h(r),o===s?i=h-t:a===s?i=1/3+e-h:r===s&&(i=2/3+t-e),i<0?i+=1:1<i&&--i),[360*i,100*n,100*s]},a.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(i,n))),100*(n=1-1/255*Math.max(e,Math.max(i,n)))]},a.rgb.cmyk=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255,t=Math.min(1-e,1-i,1-n);return[100*((1-e-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-n-t)/(1-t)||0),100*t]},a.rgb.keyword=function(t){var e=l[t];if(e)return e;var i,n,o,a,r=1/0;for(n in s){s.hasOwnProperty(n)&&(a=s[n],o=t,a=a,(a=Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2))<r&&(r=a,i=n))}return i},a.keyword.rgb=function(t){return s[t]},a.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,t=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*e+.7152*i+.0722*t),100*(.0193*e+.1192*i+.9505*t)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),i=e[0],t=e[1],e=e[2];return t/=100,e/=108.883,i=.008856<(i/=95.047)?Math.pow(i,1/3):7.787*i+16/116,[116*(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116)-16,500*(i-t),200*(t-(e=.008856<e?Math.pow(e,1/3):7.787*e+16/116))]},a.hsl.rgb=function(t){var e,i,n,o,a,r=t[0]/360,s=t[1]/100,t=t[2]/100;if(0==s)return[a=255*t,a,a];e=2*t-(i=t<.5?t*(1+s):t+s-t*s),o=[0,0,0];for(var l=0;l<3;l++)(n=r+1/3*-(l-1))<0&&n++,1<n&&n--,a=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,o[l]=255*a;return o},a.hsl.hsv=function(t){var e=t[0],i=t[1]/100,n=t[2]/100,o=i,t=Math.max(n,.01);return i*=(n*=2)<=1?n:2-n,o*=t<=1?t:2-t,[e,100*(0==n?2*o/(t+o):2*i/(n+i)),100*((n+i)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,a=e-Math.floor(e),t=255*n*(1-i),e=255*n*(1-i*a),a=255*n*(1-i*(1-a));switch(n*=255,o){case 0:return[n,a,t];case 1:return[e,n,t];case 2:return[t,n,a];case 3:return[t,e,n];case 4:return[a,t,n];case 5:return[n,t,e]}},a.hsv.hsl=function(t){var e=t[0],i=t[1]/100,n=t[2]/100,o=Math.max(n,.01),t=(2-i)*n,n=(2-i)*o,o=i*o;return[e,100*((o/=n<=1?n:2-n)||0),100*(t/=2)]},a.hwb.rgb=function(t){var e,i,n,o=t[0]/360,a=t[1]/100,r=t[2]/100,t=a+r;switch(1<t&&(a/=t,r/=t),o=6*o-(t=Math.floor(6*o)),0!=(1&t)&&(o=1-o),r=a+o*((o=1-r)-a),t){default:case 6:case 0:e=o,i=r,n=a;break;case 1:e=r,i=o,n=a;break;case 2:e=a,i=o,n=r;break;case 3:e=a,i=r,n=o;break;case 4:e=r,i=a,n=o;break;case 5:e=o,i=a,n=r}return[255*e,255*i,255*n]},a.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,t=t[3]/100;return[255*(1-Math.min(1,e*(1-t)+t)),255*(1-Math.min(1,i*(1-t)+t)),255*(1-Math.min(1,n*(1-t)+t))]},a.xyz.rgb=function(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,o=3.2406*e+-1.5372*i+-.4986*n,t=-.9689*e+1.8758*i+.0415*n,n=.0557*e+-.204*i+1.057*n;return o=.0031308<o?1.055*Math.pow(o,1/2.4)-.055:12.92*o,t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(o=Math.min(Math.max(0,o),1)),255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],i=t[1],t=t[2];return i/=100,t/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116))]},a.lab.xyz=function(t){var e=(t[0]+16)/116,i=t[1]/500+e,n=e-t[2]/200,o=Math.pow(e,3),a=Math.pow(i,3),t=Math.pow(n,3);return e=.008856<o?o:(e-16/116)/7.787,i=.008856<a?a:(i-16/116)/7.787,n=.008856<t?t:(n-16/116)/7.787,[i*=95.047,e*=100,n*=108.883]},a.lab.lch=function(t){var e=t[0],i=t[1],n=t[2],t=360*Math.atan2(n,i)/2/Math.PI;return t<0&&(t+=360),[e,Math.sqrt(i*i+n*n),t]},a.lch.lab=function(t){var e=t[0],i=t[1],t=t[2]/360*2*Math.PI;return[e,i*Math.cos(t),i*Math.sin(t)]},a.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],t=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(t=Math.round(t/50)))return 30;e=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===t&&(e+=60),e},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],i=t[1],t=t[2];return e===i&&i===t?e<8?16:248<e?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(t/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return 50<t&&(e+=3.5),[e=e/10.5*255,e,e];t=.5*(1+~~(50<t));return[(1&e)*t*255,(e>>1&1)*t*255,(e>>2&1)*t*255]},a.ansi256.rgb=function(t){if(232<=t){var e=10*(t-232)+8;return[e,e,e]}return t-=16,[Math.floor(t/36)/5*255,Math.floor((t=t%36)/6)/5*255,t%6/5*255]},a.rgb.hex=function(t){t=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return\"000000\".substring(t.length)+t},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];t=e[0];3===e[0].length&&(t=t.split(\"\").map(function(t){return t+t}).join(\"\"));t=parseInt(t,16);return[t>>16&255,t>>8&255,255&t]},a.rgb.hcg=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255,o=Math.max(Math.max(e,i),n),a=Math.min(Math.min(e,i),n),t=o-a,a=t<1?a/(1-t):0,i=t<=0?0:o===e?(i-n)/t%6:o===i?2+(n-e)/t:4+(e-i)/t+4;return i/=6,[360*(i%=1),100*t,100*a]},a.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=1,o=0;return(n=i<.5?2*e*i:2*e*(1-i))<1&&(o=(i-.5*n)/(1-n)),[t[0],100*n,100*o]},a.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,e=e*i,i=e<1?(i-e)/(1-e):0;return[t[0],100*e,100*i]},a.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0==i)return[255*n,255*n,255*n];var o=[0,0,0],a=e%1*6,r=a%1,t=1-r;switch(Math.floor(a)){case 0:o[0]=1,o[1]=r,o[2]=0;break;case 1:o[0]=t,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=r;break;case 3:o[0]=0,o[1]=t,o[2]=1;break;case 4:o[0]=r,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=t}return e=(1-i)*n,[255*(i*o[0]+e),255*(i*o[1]+e),255*(i*o[2]+e)]},a.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),e=0<i?e/i:0;return[t[0],100*e,100*i]},a.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return 0<i&&i<.5?n=e/(2*i):.5<=i&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i]},a.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},a.hwb.hcg=function(t){var e=t[1]/100,i=1-t[2]/100,e=i-e,i=e<1?(i-e)/(1-e):0;return[t[0],100*e,100*i]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){t=255&Math.round(t[0]/100*255),t=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return\"000000\".substring(t.length)+t},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,i){\"use strict\";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(i(0)),a=(o.prototype.hex2hsl=function(t){var e=new r.default(t),i=e.red(),n=e.green(),o=e.blue();i/=255,n/=255,o/=255;var a=Math.max(i,n,o),t=Math.min(i,n,o);if(this.l=(a+t)/2,a==t)this.h=this.s=0;else{e=a-t;switch(this.s=.5<this.l?e/(2-a-t):e/(a+t),a){case i:this.h=(n-o)/e+(n<o?6:0);break;case n:this.h=(o-i)/e+2;break;case o:this.h=(i-n)/e+4}this.h/=6}},o.prototype.toRgba=function(t){var e,i,n,o,a;return 0==this.s?n=o=a=this.l:(e=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,i=2*this.l-e,n=this.hue2rgb(i,e,this.h+1/3),o=this.hue2rgb(i,e,this.h),a=this.hue2rgb(i,e,this.h-1/3)),\"rgba(\"+Math.floor(255*n)+\",\"+Math.floor(255*o)+\",\"+Math.floor(255*a)+\",\"+t+\")\"},o.prototype.hue2rgb=function(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},o);function o(t,e){return this.value=t,\"object\"==typeof e?(this.h=(e.h+50/360)%1,this.s=e.s,this.l=e.l,this):\"string\"==typeof e?(this.hex2hsl(e),this):void 0}s.prototype.getColor=function(t,e){var i=.7;e&&(i=1);var n=this.colorMap.get(t);if(void 0!==n)return this.colorList[n].toRgba(i);e=this.colorMap.size;return this.colorMap.set(t,e),e>=this.colorList.length?(n=new a(t,this.colorList[e-this.cycleLength]),this.colorList.push(n)):this.colorList[e].value=t,this.colorList[e].toRgba(i)},s.prototype.updateLegend=function(){var t=[];t.push(this.name,\"<br/>\");var e=this.colorMap.size;10<e&&(e=10);for(var i=0;i<e;i++)t.push('<svg width=\"12\" height=\"12\"><rect width=\"12\" height=\"12\" style=\"fill:'),t.push(this.colorList[i].toRgba(1),'\"></rect></svg> '),t.push(this.colorList[i].value,\"<br/>\");10<this.colorMap.size&&t.push(\"...\"),this.legend.innerHTML=t.join(\"\")},s.prototype.getLegend=function(){return this.updateLegend(),this.legend},s.prototype.destructLegend=function(){this.legend.remove()},s.prototype.resetLegend=function(){this.colorList=this.initialColorList,this.cycleLength=this.initialColorList.length,this.colorMap=new Map},s.prototype.getColorByColorAssignment=function(t,e,i){var n=i?1:.7;\"object\"==typeof e&&(e=e.colorStops[0]),i=/^(rgb|RGB)/.test(e)?(o=e.replace(/(?:\\(|\\)|rgb|RGB)*/g,\"\").split(\",\"),\"#\"+((1<<24)+(parseInt(o[0])<<16)+(parseInt(o[1])<<8)+parseInt(o[2])).toString(16).substr(1)):e;var o=this.colorMap.get(t);if(void 0!==o)return this.colorList[o].toRgba(n);e=this.colorMap.size;return this.colorMap.set(t,e),e>=this.colorList.length?(o=new a(t,i),this.colorList.push(o)):this.colorList[e]=new a(t,i),this.colorList[e].toRgba(n)},i=s;function s(t,e){var i=this;this.colorList=[],this.name=t,e.forEach(function(t){i.colorList.push(new a(\"\",t))}),this.initialColorList=this.colorList,this.cycleLength=e.length,this.colorMap=new Map,this.legend=document.createElement(\"div\"),this.legend.className=\"wyn-visual-bing-map palette-legend\"}e.default=i},function(t,e,i){\"use strict\";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0}),i(5);var r=a(i(6));window.wynVisualGetMap=function(){var t;document.isWynVisualMapOnReady=!0,document.wynMapVisualInstance&&((t=document.wynMapVisualInstance).loadMap(),t.update&&t.update(t.options))};var s,o=(s=WynVisual,o(l,s),l.prototype.paletteLegendBoxInit=function(t){var e=document.createElement(\"div\");e.id=\"paletteLegendBox\",e.className=\"wyn-visual-bing-map palette-legend-box\";var i=document.createElement(\"div\");i.className=\"wyn-visual-bing-map palette-legend-container\",i.appendChild(e),t.appendChild(i)},l.prototype.update=function(t){this.options=t,void 0!==this.mapViewer?this.mapViewer.update(t):this.needUpdate=!0},l.prototype.onDestroy=function(){window.wynVisualGetMap=void 0,document.wynMapVisualInstance=void 0,(document.isWynVisualMapOnReady=void 0)!==this.mapViewer&&this.mapViewer.onDestroy()},l.prototype.onResize=function(){},l.prototype.getInspectorHiddenState=function(t){var e=[];return t.properties.maintainColorAssignments&&e.push(\"paletteId\"),\"palette\"===t.properties.colorPreference?(e.push(\"baseColor\"),e.push(\"gradientPreference\"),e.push(\"rangeCount\")):\"gradual\"===t.properties.gradientPreference&&e.push(\"rangeCount\"),e},l.prototype.getActionBarHiddenState=function(t){return null},l.prototype.getColorAssignmentConfigMapping=function(t){if(!t.length)return null;var e,i,n,o=[],a=[];return t[0]&&(e=t[0].plain,(i=e.profile.pushPinCategory.values[0])&&(a.push.apply(a,e.data.map(function(t){return t[i.display]})),o.push(i))),t[2]&&(t=t[2].matrix,(n=t.profile.blockMapValue.values[0])&&\"fst\"===n.method&&(a.push.apply(a,t.matrix.values.map(function(t){return t[n.display]})),o.push(n))),0===a.length?null:{maintainColorAssignments:{values:Array.from(new Set(a)),type:\"dimension\",columns:Array.from(new Set(o))}}},l);function l(t,e,i){var n=s.call(this,t,e,i)||this;return n.needUpdate=!1,n.options=i,n.loadMap=function(){n.mapViewer=new r.default(t,e,n.options),n.paletteLegendBoxInit(t)},document.isWynVisualMapOnReady?n.loadMap():document.wynMapVisualInstance=n,n}e.default=o},function(t,e,i){},function(t,e,i){\"use strict\";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(i(7)),a=n(i(14)),r=n(i(15)),s=n(i(16)),i=(l.prototype.newMap=function(t,e,i){var n=document.createElement(\"div\");n.id=\"wynBingMap\",n.style.width=\"100%\";var o={credentials:i,zoom:4,showZoomButtons:!(n.style.height=\"100%\"),disableBirdseye:!1,disableStreetside:!1},a=e.properties.mapCenter,i=a.center,a=a.zoom;void 0!==i&&void 0!==a&&(o.zoom=a,o.center=i),this.mapInstance=new Microsoft.Maps.Map(n,o),this.mapCenter=this.mapInstance.getCenter(),this.mapZoom=this.mapInstance.getZoom();try{this.mapInstance.setMapType(Microsoft.Maps.MapTypeId[e.properties.mapType])}catch(t){}t.appendChild(n)},l.prototype.initLayers=function(t){this.pinMap=new s.default(this.mapInstance,this.host,this.visualHost),this.heatMap=new a.default(this.mapInstance),this.blockMap=new o.default(this.mapInstance,this.host,t)},l.prototype.initMapEventHandler=function(i,n){var o=this;this.viewChangeEndEventHandler=function(){if(!i.isViewer){var t=o.mapInstance.getCenter(),e=o.mapInstance.getZoom();if(Microsoft.Maps.Location.areEqual(o.mapCenter,t)&&o.mapZoom===e)return;n.propertyService.setProperty(\"mapCenter\",{center:o.mapInstance.getCenter(),zoom:o.mapInstance.getZoom()})}},this.viewChangeEndEventHandlerId=Microsoft.Maps.Events.addHandler(this.mapInstance,\"viewchangeend\",this.viewChangeEndEventHandler),this.handlerIdList.push(Microsoft.Maps.Events.addHandler(this.mapInstance,\"click\",function(){o.host.hideToolTipByClick(),o.host.clearSelection(),o.pinMap.clearSelection(),o.blockMap.clearSelection()}))},l.prototype.isMapViewChanged=function(t){var e=t.properties.mapCenter,t=e.center,e=e.zoom;return void 0!==t&&void 0!==e&&(Microsoft.Maps.Location.areEqual(this.mapInstance.getCenter(),t)&&!this.mapInstance.getZoom()!==e||(Microsoft.Maps.Events.removeHandler(this.viewChangeEndEventHandlerId),this.mapInstance.setView({center:t,zoom:e}),this.viewChangeEndEventHandlerId=Microsoft.Maps.Events.addHandler(this.mapInstance,\"viewchangeend\",this.viewChangeEndEventHandler)),(!Microsoft.Maps.Location.areEqual(this.mapCenter,t)||this.mapZoom!==e)&&(this.mapCenter=t,this.mapZoom=e,!0))},l.prototype.clearHandlers=function(){Microsoft.Maps.Events.removeHandler(this.viewChangeEndEventHandlerId),this.handlerIdList.forEach(function(t){Microsoft.Maps.Events.removeHandler(t)}),this.handlerIdList.length=0},l.prototype.update=function(n){var o=this;if(this.host.hoverSwitch=n.properties.hoverAct,this.firstUpdate||!this.isMapViewChanged(n)){this.firstUpdate=!1;try{this.mapInstance.setMapType(Microsoft.Maps.MapTypeId[n.properties.mapType])}catch(t){}Microsoft.Maps.loadModule([\"Microsoft.Maps.SpatialMath\",\"Microsoft.Maps.HeatMap\",\"Microsoft.Maps.SpatialDataService\"],function(){o.pinMap.mapClear(),o.heatMap.mapClear(),o.blockMap.mapClear();var e=!1,i=!1;n.dataViews.forEach(function(t){void 0!==t&&(null!==t.plain&&void 0!==t.plain.profile.pushPinValue&&(o.pinMap.update(n,t.plain),e=!0),null!==t.plain&&void 0!==t.plain.profile.heatMapValue&&o.heatMap.render(t.plain,n.properties),null!==t.matrix&&void 0!==t.matrix.profile.blockMapValue&&(o.blockMap.update(n,t.matrix),i=!0))}),e||(o.pinMap.renderDataList.length=0),i||o.blockMap.clearBlockDataList()})}},l.prototype.onDestroy=function(){this.clearHandlers()},l);function l(t,e,i){this.handlerIdList=[],this.firstUpdate=!0;var n=e.configurationManager.get(\"Application Key\");this.visualHost=e,this.host=new r.default(e),this.newMap(t,i,n),this.initLayers(n),this.initMapEventHandler(i,e)}e.default=i},function(module,exports,__webpack_require__){\"use strict\";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var color_1=__importDefault(__webpack_require__(0)),palette_1=__importDefault(__webpack_require__(3)),legend_1=__importDefault(__webpack_require__(13)),BlockMap=function(){function BlockMap(t,e,i){var n=this;this.layer=new Microsoft.Maps.Layer,this.locDataSet=new Map,this.taskStatus={count:0},this.blockDataList={countryRegion:void 0,firstAdminDivision:void 0,secondAdminDivision:void 0},this.entityTypeList=[\"countryRegion\",\"firstAdminDivision\",\"secondAdminDivision\"],this.entityMap={countryRegion:\"CountryRegion\",firstAdminDivision:\"AdminDivision1\",secondAdminDivision:\"AdminDivision2\"},t.layers.insert(this.layer),this.map=t,this.licenseKey=i,this.host=e,Microsoft.Maps.Events.addHandler(this.map,\"viewchangeend\",function(){n.mapViewChangeEnd()})}return BlockMap.prototype.update=function(t,e){this.updateProperties(t);t=t.updateType;\"dataViewChange\"!==t&&\"fullyChange\"!==t||(void 0!==this.curEntityTypeIdx&&this.disableEntity(this.entityTypeList[this.curEntityTypeIdx]),this.updateDisplay(e),this.updateData(e),this.updateCurEntityTypeIdx()),this.updateLegend(),this.updateColor(),\"fst\"===this.valueMethod&&document.getElementById(\"paletteLegendBox\").appendChild(this.paletteLegend.getLegend()),\"dataViewChange\"===t||\"fullyChange\"===t?this.searchLocation():this.showEntity(this.entityTypeList[this.curEntityTypeIdx])},BlockMap.prototype.updateProperties=function(t){var e=this;this.colorAssignment=t.properties.maintainColorAssignments,this.paletteId=[],t.properties.paletteId.forEach(function(t){\"object\"==typeof t?e.paletteId.push(t.colorStops[0]):e.paletteId.push(t)})},BlockMap.prototype.updateDisplay=function(t){this.firstLLDStr=0<t.profile.firstLevelLocationDivision.values.length?t.profile.firstLevelLocationDivision.values[0].display:void 0,this.secondLLDStr=0<t.profile.secondLevelLocationDivision.values.length?t.profile.secondLevelLocationDivision.values[0].display:void 0,this.thirdLLDStr=0<t.profile.thirdLevelLocationDivision.values.length?t.profile.thirdLevelLocationDivision.values[0].display:void 0,this.vStr=t.profile.blockMapValue.values[0].display,this.vFormat=t.profile.blockMapValue.values[0].format,this.valueMethod=t.profile.blockMapValue.values[0].method},BlockMap.prototype.updateData=function(l){var h=this;this.blockDataList={countryRegion:void 0,firstAdminDivision:void 0,secondAdminDivision:void 0},void 0!==this.firstLLDStr&&(this.blockDataList.countryRegion={dataList:[],maxValue:void 0,minValue:void 0,legend:void 0}),void 0!==this.secondLLDStr&&(this.blockDataList.firstAdminDivision={dataList:[],maxValue:void 0,minValue:void 0,legend:void 0}),void 0!==this.thirdLLDStr&&(this.blockDataList.secondAdminDivision={dataList:[],maxValue:void 0,minValue:void 0,legend:void 0});var c=new Set,u=new Set,d=new Set;l.matrix.values.forEach(function(t){if(\"fst\"===h.valueMethod||null!=t[h.vStr]){var e,i,n=function(){return{name:void 0,value:t[h.vStr],selectionId:void 0,choose:!1,color:void 0,show:!1,polygons:void 0,bound:void 0,isRequest:!1}},o=void 0,a=void 0,r=void 0;if(void 0!==h.firstLLDStr&&(o=t[h.firstLLDStr]),void 0!==h.secondLLDStr&&(a=t[h.secondLLDStr]),void 0!==h.thirdLLDStr&&(r=t[h.thirdLLDStr]),\"fst\"===h.valueMethod)return null==r||d.has(r)||((e=n()).name=r,e.selectionId=h.host.createSelectionId().withDimension(l.profile.thirdLevelLocationDivision.values[0],t),h.blockDataList.secondAdminDivision.dataList.push(e),d.add(r)),null==a||u.has(a)||((i=n()).name=a,i.selectionId=h.host.createSelectionId().withDimension(l.profile.secondLevelLocationDivision.values[0],t),h.blockDataList.firstAdminDivision.dataList.push(i),u.add(a)),void(null==o||c.has(o)||((i=n()).name=o,i.selectionId=h.host.createSelectionId().withDimension(l.profile.firstLevelLocationDivision.values[0],t),h.blockDataList.countryRegion.dataList.push(i),c.add(o)));var s,n=n();null!=r?(n.name=r,n.selectionId=h.host.createSelectionId().withDimension(l.profile.thirdLevelLocationDivision.values[0],t),s=h.blockDataList.secondAdminDivision,\"fst\"!==h.valueMethod&&((void 0===s.minValue||n.value<s.minValue)&&(s.minValue=n.value),(void 0===s.maxValue||n.value>s.maxValue)&&(s.maxValue=n.value)),s.dataList.push(n)):null!=a?(n.name=a,n.selectionId=h.host.createSelectionId().withDimension(l.profile.secondLevelLocationDivision.values[0],t),s=h.blockDataList.firstAdminDivision,\"fst\"!==h.valueMethod&&((void 0===s.minValue||n.value<s.minValue)&&(s.minValue=n.value),(void 0===s.maxValue||n.value>s.maxValue)&&(s.maxValue=n.value)),s.dataList.push(n)):null!=o&&(n.name=o,n.selectionId=h.host.createSelectionId().withDimension(l.profile.firstLevelLocationDivision.values[0],t),s=h.blockDataList.countryRegion,\"fst\"!==h.valueMethod&&((void 0===s.minValue||n.value<s.minValue)&&(s.minValue=n.value),(void 0===s.maxValue||n.value>s.maxValue)&&(s.maxValue=n.value)),s.dataList.push(n))}})},BlockMap.prototype.updateCurEntityTypeIdx=function(){void 0!==this.curEntityTypeIdx&&void 0!==this.blockDataList[this.entityTypeList[this.curEntityTypeIdx]]||(void 0!==this.blockDataList.countryRegion?this.curEntityTypeIdx=0:void 0!==this.blockDataList.firstAdminDivision?this.curEntityTypeIdx=1:void 0!==this.blockDataList.secondAdminDivision&&(this.curEntityTypeIdx=2))},BlockMap.prototype.updateLegend=function(){var t;this.paletteLegend&&this.paletteLegend.destructLegend(),void 0!==this.legendForCurEntityType&&this.legendForCurEntityType.destructLegend(),this.paletteLegend=void 0,this.legendForCurEntityType=void 0,\"fst\"===this.valueMethod?this.paletteLegend=new palette_1.default(\"Block Map Legend\",this.paletteId):(void 0!==this.blockDataList.countryRegion&&(this.blockDataList.countryRegion.legend=new legend_1.default(this.blockDataList.countryRegion.minValue,this.blockDataList.countryRegion.maxValue)),void 0!==this.blockDataList.firstAdminDivision&&(this.blockDataList.firstAdminDivision.legend=new legend_1.default(this.blockDataList.firstAdminDivision.minValue,this.blockDataList.firstAdminDivision.maxValue)),void 0!==this.blockDataList.secondAdminDivision&&(this.blockDataList.secondAdminDivision.legend=new legend_1.default(this.blockDataList.secondAdminDivision.minValue,this.blockDataList.secondAdminDivision.maxValue)),t=this.entityTypeList[this.curEntityTypeIdx],this.legendForCurEntityType=this.blockDataList[t].legend,document.getElementById(\"wynBingMap\").appendChild(this.legendForCurEntityType.getLegendElement()))},BlockMap.prototype.changeColor=function(e){var i;void 0!==e.polygons&&void 0!==e.color&&(i=e.choose?1:.7,e.polygons.forEach(function(t){t.setOptions({fillColor:e.color.alpha(i).toString()})}))},BlockMap.prototype.updateColor=function(){var n=this;this.entityTypeList.forEach(function(t){var i=n.blockDataList[t];void 0!==i&&i.dataList.forEach(function(t){var e;\"fst\"===n.valueMethod?n.colorAssignment?(e=n.colorAssignment[t.value.toString()])&&(t.color=new color_1.default(n.paletteLegend.getColorByColorAssignment(t.value.toString(),e,t.choose))):t.color=new color_1.default(n.paletteLegend.getColor(t.value.toString(),t.choose)):void 0!==(e=i.legend)&&(t.color=new color_1.default(e.getRgb(t.value,t.choose).toRgba())),n.changeColor(t)})})},BlockMap.prototype.searchLocation=function(){function t(t){e.locDataSet.has(t.name)||(i.push(t.name),e.locDataSet.set(t.name,{countryRegion:{location:void 0,result:void 0},firstAdminDivision:{location:void 0,result:void 0},secondAdminDivision:{location:void 0,result:void 0}}))}var e=this,i=[];void 0!==this.blockDataList.countryRegion&&this.blockDataList.countryRegion.dataList.forEach(t),void 0!==this.blockDataList.firstAdminDivision&&this.blockDataList.firstAdminDivision.dataList.forEach(t),void 0!==this.blockDataList.secondAdminDivision&&this.blockDataList.secondAdminDivision.dataList.forEach(t);for(var n=0;n<i.length;)this.taskStatus.count++,this.createSearchTask(i.slice(n,n+50)),n+=50;this.taskStatus.count<=0&&this.showEntity(this.entityTypeList[this.curEntityTypeIdx])},BlockMap.prototype.createSearchTask=function(list){var _this=this,request=new XMLHttpRequest,url=\"https://spatial.virtualearth.net/REST/v1/Dataflows/Geocode?input=xml\";url+=\"&key=\"+this.licenseKey,request.open(\"POST\",url);var xml=document.implementation.createDocument(\"http://schemas.microsoft.com/search/local/2010/5/geocode\",\"\",null),geocodeFeed=document.createElement(\"GeocodeFeed\");geocodeFeed.setAttribute(\"Version\",\"2.0\"),list.forEach(function(t,e){_this.addGeocodeEntity(geocodeFeed,e,t)}),xml.appendChild(geocodeFeed),request.send(xml),request.onload=function(){var jsonObj=eval(\"(\"+request.responseText+\")\"),taskId_1;201!==jsonObj.statusCode?_this.searchEnd():(taskId_1=jsonObj.resourceSets[0].resources[0].id,setTimeout(function(){_this.checkTaskStatus(taskId_1,15)},2e3))}},BlockMap.prototype.addGeocodeEntity=function(t,e,i){var n=document.createElement(\"GeocodeEntity\");n.setAttribute(\"Id\",e.toString()),n.setAttribute(\"xmlns\",\"http://schemas.microsoft.com/search/local/2010/5/geocode\");e=document.createElement(\"GeocodeRequest\");e.setAttribute(\"Culture\",\"en-US\"),e.setAttribute(\"Query\",i),e.setAttribute(\"IncludeNeighborhood\",\"1\"),e.setAttribute(\"IncludeQueryParse\",\"1\"),e.setAttribute(\"MaxResults\",\"3\"),n.appendChild(e),t.appendChild(n)},BlockMap.prototype.checkTaskStatus=function(taskId,retryCount){var _this=this,request=new XMLHttpRequest,url=\"https://spatial.virtualearth.net/REST/v1/Dataflows/Geocode/\";url+=taskId,url+=\"?key=\"+this.licenseKey,request.open(\"GET\",url),request.send(),request.onload=function(){var jsonObj=eval(\"(\"+request.responseText+\")\");if(200===jsonObj.statusCode){var status_1=jsonObj.resourceSets[0].resources[0].status;if(\"Pending\"===status_1&&0<retryCount)return void setTimeout(function(){_this.checkTaskStatus(taskId,retryCount-1)},1e3);if(\"Completed\"===status_1){var links=jsonObj.resourceSets[0].resources[0].links;return void links.forEach(function(t){\"output\"===t.role&&\"succeeded\"===t.name&&_this.getResult(t.url)})}}_this.searchEnd()}},BlockMap.prototype.getResult=function(t){var u=this,d=new XMLHttpRequest;t+=\"?key=\"+this.licenseKey,d.open(\"GET\",t),d.send(),d.onload=function(){for(var t=(new DOMParser).parseFromString(d.responseText,\"text/xml\").children[0],e=t.children.length,i=0;i<e;i++){var n=t.children.item(i),o=n.getElementsByTagName(\"GeocodeRequest\");if(0<o.length)for(var a=o.item(0).getAttribute(\"Query\"),r=n.getElementsByTagName(\"GeocodeResponse\"),s=r.length,l=0;l<s;l++){var h=r.item(l);if(0<h.getElementsByTagName(\"GeocodePoint\").length){var c=h.getElementsByTagName(\"GeocodePoint\").item(0),c=c.getAttribute(\"Latitude\")+\",\"+c.getAttribute(\"Longitude\"),c=Microsoft.Maps.Location.parseLatLong(c);if(u.locDataSet.has(a))switch(h.getAttribute(\"EntityType\")){case\"CountryRegion\":void 0===u.locDataSet.get(a).countryRegion.location&&(u.locDataSet.get(a).countryRegion.location=c);break;case\"AdminDivision1\":void 0===u.locDataSet.get(a).firstAdminDivision.location&&(u.locDataSet.get(a).firstAdminDivision.location=c);break;case\"AdminDivision2\":void 0===u.locDataSet.get(a).secondAdminDivision.location&&(u.locDataSet.get(a).firstAdminDivision.location=c)}}}}u.searchEnd()}},BlockMap.prototype.searchEnd=function(){this.taskStatus.count--,this.taskStatus.count<=0&&this.showEntity(this.entityTypeList[this.curEntityTypeIdx])},BlockMap.prototype.addPolygonHandler=function(e){var i=this;e.polygons.forEach(function(t){Microsoft.Maps.Events.addHandler(t,\"click\",function(t){i.host.showToolTipByClick(t.pageX,t.pageY,[{label:e.name,value:\"number\"==typeof e.value?i.host.formatService.format(i.vFormat,e.value):e.value.toString()}]),i.host.select(e.selectionId),e.choose=!0,i.changeColor(e)}),Microsoft.Maps.Events.addHandler(t,\"mouseover\",function(t){i.host.showToolTipByHover(t.pageX,t.pageY,[{label:e.name,value:\"number\"==typeof e.value?i.host.formatService.format(i.vFormat,e.value):e.value.toString()}])}),Microsoft.Maps.Events.addHandler(t,\"mouseout\",function(){i.host.hideToolTipByHover()})})},BlockMap.prototype.processResult=function(t,e){t.length<=0||(e.polygons=t[0].Polygons,e.bound=Microsoft.Maps.SpatialMath.Geometry.bounds(e.polygons),this.changeColor(e),this.addPolygonHandler(e))},BlockMap.prototype.disableEntity=function(t){void 0!==this.legendForCurEntityType&&(this.legendForCurEntityType.destructLegend(),this.legendForCurEntityType=void 0),void 0!==this.blockDataList[t]&&(this.blockDataList[t].dataList.forEach(function(t){t.show=!1}),this.layer.clear())},BlockMap.prototype.showEntity=function(i){var n=this;\"fst\"!==this.valueMethod&&(this.legendForCurEntityType=this.blockDataList[i].legend,document.getElementById(\"wynBingMap\").appendChild(this.legendForCurEntityType.getLegendElement())),this.blockDataList[i].dataList.forEach(function(t){var e;t.show=!0,void 0!==t.polygons?n.layer.add(t.polygons):n.locDataSet.has(t.name)&&(void 0!==(e=n.locDataSet.get(t.name)[i]).result&&0<e.result.length?(n.processResult(e.result,t),n.layer.add(t.polygons)):null!=e.location?n.getBoundary(e.location,i,t):n.getBoundary(t.name,i,t))})},BlockMap.prototype.getBoundary=function(e,i,n){var o,a=this;n.isRequest||(n.isRequest=!0,(o=function(t){Microsoft.Maps.SpatialDataService.GeoDataAPIManager.getBoundary(e,{entityType:a.entityMap[i],getAllPolygons:!0},a.map,function(t){t.results&&(a.locDataSet.has(n.name)&&(a.locDataSet.get(n.name)[i].result=t.results),a.processResult(t.results,n),n.isRequest=!1,n.show&&void 0!==n.polygons&&a.layer.add(n.polygons))},{},function(){0<t&&n.show?setTimeout(function(){o(t-1)},1e4):n.isRequest=!1})})(3))},BlockMap.prototype.mapViewChangeEnd=function(){var e,i,n,t,o=this;void 0!==this.curEntityTypeIdx&&this.vStr&&(i=e=0,n=this.map.getBounds(),t=this.entityTypeList[this.curEntityTypeIdx],void 0!==this.blockDataList[t]&&(this.blockDataList[t].dataList.forEach(function(t){!t.bound||null!==(t=o.getIntersection(t.bound,n))&&(e++,t=t.width/n.width*t.height/t.height,i<t&&(i=t))}),this.zoomUpdate(e,i)))},BlockMap.prototype.zoomUpdate=function(t,e){var i=this.curEntityTypeIdx;if(t<5&&.85<=e||.95<=e){for(;this.curEntityTypeIdx<2;){this.curEntityTypeIdx++;var n=this.entityTypeList[this.curEntityTypeIdx];if(void 0!==this.blockDataList[n])return this.disableEntity(this.entityTypeList[i]),void this.showEntity(this.entityTypeList[this.curEntityTypeIdx])}this.curEntityTypeIdx=i}else if(15<t&&e<.6||e<.15){for(;0<this.curEntityTypeIdx;){this.curEntityTypeIdx--;n=this.entityTypeList[this.curEntityTypeIdx];if(void 0!==this.blockDataList[n])return this.disableEntity(this.entityTypeList[i]),void this.showEntity(this.entityTypeList[this.curEntityTypeIdx])}this.curEntityTypeIdx=i}},BlockMap.prototype.getIntersection=function(t,e){var i=t.getWest(),n=t.getEast(),o=t.getNorth(),a=t.getSouth();if(t.getWest()<t.getEast()){if(e.getWest()>t.getEast()){if(e.getEast()>e.getWest()||e.getEast()<t.getWest())return null}else if(e.getWest()<t.getWest()&&e.getEast()<t.getWest()&&e.getEast()>e.getWest())return null;e.getWest()>=t.getWest()&&e.getWest()<t.getEast()&&(i=e.getWest()),e.getEast()>t.getWest()&&e.getEast()<=t.getEast()&&(n=e.getEast())}else{if(e.getWest()>=t.getEast()&&e.getEast()>=e.getWest()&&e.getEast()<=t.getWest())return null;(e.getWest()>=t.getWest()||e.getWest()<t.getEast())&&(i=e.getWest()),(e.getEast()>t.getWest()||e.getEast()<=t.getEast())&&(n=e.getEast())}return e.getNorth()>=t.getSouth()&&e.getNorth()<t.getNorth()&&(o=e.getNorth()),e.getSouth()>t.getSouth()&&e.getSouth()<=t.getNorth()&&(a=e.getSouth()),Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(o,i),new Microsoft.Maps.Location(a,n))},BlockMap.prototype.mapClear=function(){void 0!==this.curEntityTypeIdx&&this.disableEntity(this.entityTypeList[this.curEntityTypeIdx]),this.layer.clear(),void 0!==this.paletteLegend&&this.paletteLegend.destructLegend(),void 0!==this.legendForCurEntityType&&this.legendForCurEntityType.destructLegend()},BlockMap.prototype.clearSelection=function(){var e=this;this.entityTypeList.forEach(function(t){t=e.blockDataList[t];void 0!==t&&t.dataList.forEach(function(t){t.choose=!1,e.changeColor(t)})})},BlockMap.prototype.clearBlockDataList=function(){this.blockDataList={countryRegion:void 0,firstAdminDivision:void 0,secondAdminDivision:void 0}},BlockMap}();exports.default=BlockMap},function(t,e,i){var n,r=i(1),o=i(9),s=Object.hasOwnProperty,a=Object.create(null);for(n in r)s.call(r,n)&&(a[r[n]]=n);var l=t.exports={to:{},get:{}};function h(t,e,i){return Math.min(Math.max(e,t),i)}function c(t){t=Math.round(t).toString(16).toUpperCase();return t.length<2?\"0\"+t:t}l.get=function(t){var e,i;switch(t.substring(0,3).toLowerCase()){case\"hsl\":e=l.get.hsl(t),i=\"hsl\";break;case\"hwb\":e=l.get.hwb(t),i=\"hwb\";break;default:e=l.get.rgb(t),i=\"rgb\"}return e?{model:i,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,i,n,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=e[2],e=e[1],i=0;i<3;i++){var a=2*i;o[i]=parseInt(e.slice(a,2+a),16)}n&&(o[3]=parseInt(n,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(n=(e=e[1])[3],i=0;i<3;i++)o[i]=parseInt(e[i]+e[i],16);n&&(o[3]=parseInt(n+n,16)/255)}else if(e=t.match(/^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/)){for(i=0;i<3;i++)o[i]=parseInt(e[i+1],0);e[4]&&(e[5]?o[3]=.01*parseFloat(e[4]):o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/)))return(e=t.match(/^(\\w+)$/))?\"transparent\"===e[1]?[0,0,0,0]:s.call(r,e[1])?((o=r[e[1]])[3]=1,o):null:null;for(i=0;i<3;i++)o[i]=Math.round(2.55*parseFloat(e[i+1]));e[4]&&(e[5]?o[3]=.01*parseFloat(e[4]):o[3]=parseFloat(e[4]))}for(i=0;i<3;i++)o[i]=h(o[i],0,255);return o[3]=h(o[3],0,1),o},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/);if(e){t=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(t)?1:t,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/);if(e){t=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,h(parseFloat(e[2]),0,100),h(parseFloat(e[3]),0,100),h(isNaN(t)?1:t,0,1)]}return null},l.to.hex=function(){var t=o(arguments);return\"#\"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):\"\")},l.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?\"rgb(\"+Math.round(t[0])+\", \"+Math.round(t[1])+\", \"+Math.round(t[2])+\")\":\"rgba(\"+Math.round(t[0])+\", \"+Math.round(t[1])+\", \"+Math.round(t[2])+\", \"+t[3]+\")\"},l.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?\"rgb(\"+e+\"%, \"+i+\"%, \"+n+\"%)\":\"rgba(\"+e+\"%, \"+i+\"%, \"+n+\"%, \"+t[3]+\")\"},l.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?\"hsl(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%)\":\"hsla(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%, \"+t[3]+\")\"},l.to.hwb=function(){var t=o(arguments),e=\"\";return 4<=t.length&&1!==t[3]&&(e=\", \"+t[3]),\"hwb(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%\"+e+\")\"},l.to.keyword=function(t){return a[t.slice(0,3)]}},function(t,e,i){\"use strict\";var a=i(10),r=Array.prototype.concat,s=Array.prototype.slice,n=t.exports=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i];a(o)?e=r.call(e,s.call(o)):e.push(o)}return e};n.wrap=function(t){return function(){return t(n(arguments))}}},function(t,e){t.exports=function(t){return!(!t||\"string\"==typeof t)&&(t instanceof Array||Array.isArray(t)||0<=t.length&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&\"String\"!==t.constructor.name))}},function(t,e,i){var o=i(2),a=i(12),r={};function s(e){function t(t){return null==t?t:(1<arguments.length&&(t=Array.prototype.slice.call(arguments)),e(t))}return\"conversion\"in e&&(t.conversion=e.conversion),t}function l(o){function t(t){if(null==t)return t;1<arguments.length&&(t=Array.prototype.slice.call(arguments));var e=o(t);if(\"object\"==typeof e)for(var i=e.length,n=0;n<i;n++)e[n]=Math.round(e[n]);return e}return\"conversion\"in o&&(t.conversion=o.conversion),t}Object.keys(o).forEach(function(i){r[i]={},Object.defineProperty(r[i],\"channels\",{value:o[i].channels}),Object.defineProperty(r[i],\"labels\",{value:o[i].labels});var n=a(i);Object.keys(n).forEach(function(t){var e=n[t];r[i][t]=l(e),r[i][t].raw=s(e)})}),t.exports=r},function(t,e,i){var h=i(2);function s(t){var e=function(){for(var t={},e=Object.keys(h),i=e.length,n=0;n<i;n++)t[e[n]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var n=i.pop(),o=Object.keys(h[n]),a=o.length,r=0;r<a;r++){var s=o[r],l=e[s];-1===l.distance&&(l.distance=e[n].distance+1,l.parent=n,i.unshift(s))}return e}function l(t,e){for(var i=[e[t].parent,t],n=h[e[t].parent][t],o=e[t].parent;e[o].parent;)i.unshift(e[o].parent),n=function(e,i){return function(t){return i(e(t))}}(h[e[o].parent][o],n),o=e[o].parent;return n.conversion=i,n}t.exports=function(t){for(var e=s(t),i={},n=Object.keys(e),o=n.length,a=0;a<o;a++){var r=n[a];null!==e[r].parent&&(i[r]=l(r,e))}return i}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=(o.prototype.initLegendCanvas=function(){var t=document.createElement(\"canvas\");t.width=this.canvasWidth,t.height=this.canvasHeight;var e=t.getContext(\"2d\"),i=e.createLinearGradient(0,0,256,0);i.addColorStop(0,\"rgb(0,0,255)\"),i.addColorStop(.3,\"rgb(0,255,0)\"),i.addColorStop(.7,\"rgb(255,255,0)\"),i.addColorStop(1,\"rgb(255,0,0)\"),e.fillStyle=i,e.fillRect(0,0,t.width,t.height),this.heatGradientData=e.getImageData(0,0,t.width,1),this.legendInstance.appendChild(t)},o.prototype.initLegendText=function(){var t=document.createElement(\"span\");t.className=\"wyn-visual-bing-map legend-min\",t.innerHTML=\"\"+this.legendMin,this.legendInstance.appendChild(t);t=document.createElement(\"span\");t.className=\"wyn-visual-bing-map legend-max\",t.innerHTML=\"\"+this.legendMax,this.legendInstance.appendChild(t)},o.prototype.getLegendElement=function(){return this.legendInstance},o.prototype.getRgb=function(t,e){t<this.legendMin&&(t=this.legendMin),t>this.legendMax&&(t=this.legendMax);t=(t-this.legendMin)/(this.legendMax-this.legendMin);this.legendMax===this.legendMin&&(t=1);t=4*Math.round(t*this.canvasWidth)-4;t<0&&(t=0);e=e?1:.7;return new Microsoft.Maps.Color(e,this.heatGradientData.data[t],this.heatGradientData.data[t+1],this.heatGradientData.data[t+2])},o.prototype.destructLegend=function(){this.legendInstance.remove()},o);function o(t,e){this.canvasWidth=256,this.canvasHeight=15,this.legendInstance=document.createElement(\"div\"),this.legendInstance.className=\"wyn-visual-bing-map legend\",this.legendMin=t,this.legendMax=e,this.initLegendCanvas(),this.initLegendText()}e.default=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=(o.prototype.render=function(t,e){this.updateDataObj(t),this.stepAnalysis(e),this.updateLayer(e)},o.prototype.updateDataObj=function(t){var i=this,n=t.profile.latitude.values[0].display,o=t.profile.longitude.values[0].display,a=t.profile.heatMapValue.values[0].display;this.dataObj={dataList:[],min:void 0,max:void 0},t.data.forEach(function(t){var e;\"number\"==typeof t[n]&&\"number\"==typeof t[o]&&(null==t[n]||null==t[o]||null!=(e=t[a])&&(t={x:t[n],y:t[o],v:e},i.dataObj.dataList.push(t),(void 0===i.dataObj.min||e<i.dataObj.min)&&(i.dataObj.min=e),(void 0===i.dataObj.max||e>i.dataObj.max)&&(i.dataObj.max=e)))})},o.prototype.stepAnalysis=function(t){var i,n=this;this.locs=[],\"number\"==typeof this.dataObj.min&&\"number\"==typeof this.dataObj.max&&(i=(this.dataObj.max-this.dataObj.min)/t.step,this.dataObj.dataList.forEach(function(t){for(var e=t.v;e>=n.dataObj.min&&(n.locs.push(new Microsoft.Maps.Location(t.x,t.y)),e-=i,0!=i););}))},o.prototype.updateLayer=function(t){this.map.layers.remove(this.layer),this.layer.dispose(),this.layer=new Microsoft.Maps.HeatMapLayer(this.locs,{colorGradient:{\"0.00\":\"rgb(0,0,255)\",\"0.30\":\"rgb(0,255,0)\",\"0.70\":\"rgb(255,255,0)\",\"1.00\":\"rgb(255,0,0)\"},intensity:1/t.step,radius:t.radius,unit:t.unit}),this.map.layers.insert(this.layer)},o.prototype.mapClear=function(){this.layer.clear()},o);function o(t){var e=this;this.map=t,Microsoft.Maps.loadModule(\"Microsoft.Maps.HeatMap\",function(){e.layer=new Microsoft.Maps.HeatMapLayer([]),e.map.layers.insert(e.layer)})}e.default=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=(o.prototype.showToolTipByClick=function(t,e,i){this.hoverBlock=!0,this.visualHost.toolTipService.show({position:{x:t,y:e},fields:i})},o.prototype.hideToolTipByClick=function(){this.hoverBlock=!1,this.visualHost.toolTipService.hide()},o.prototype.showToolTipByHover=function(t,e,i){!this.hoverBlock&&this.hoverSwitch&&this.visualHost.toolTipService.show({position:{x:t,y:e},fields:i})},o.prototype.hideToolTipByHover=function(){!this.hoverBlock&&this.hoverSwitch&&this.visualHost.toolTipService.hide()},o.prototype.createSelectionId=function(){return this.visualHost.selectionService.createSelectionId()},o.prototype.select=function(t){this.selectionManager.select(t,!0)},o.prototype.clearSelection=function(){this.selectionManager.clear()},o);function o(t){this.visualHost=t,this.selectionManager=t.selectionService.createSelectionManager(),this.formatService=t.formatService,this.hoverBlock=!1,this.hoverSwitch=!1}e.default=n},function(t,e,i){\"use strict\";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0});var s,l,o=n(i(0)),a=n(i(3));(i=s=s||{}).palette=\"palette\",i.gradient=\"gradient\",(i=l=l||{}).gradual=\"gradual\",i.grouped=\"grouped\";r.prototype.update=function(t,e){var i=t.updateType;\"dataViewChange\"!==i&&\"fullyChange\"!==i||(this.updateDisplay(e),this.updateData(e)),this.updateProperties(t),this.updateLegend(),this.renderPins(),this.renderLegend()},r.prototype.updateDisplay=function(t){this.xStr=t.profile.latitude.values[0],this.yStr=t.profile.longitude.values[0],this.vStr=void 0,this.cStr=void 0;var e=t.profile.pushPinValue.values;0<e.length&&(this.vStr=e[0]);t=t.profile.pushPinCategory.values;0<t.length&&(this.cStr=t[0])},r.prototype.updateData=function(n){var o=this,t=n.data;this.maxPinSizeValue=void 0,this.maxPinColorValue=void 0,this.minPinColorValue=void 0,this.renderDataList=[];var a=void 0;t.forEach(function(t){var e,i;null!=t[o.xStr.display]&&null!=t[o.yStr.display]&&(e={x:t[o.xStr.display],y:t[o.yStr.display],v:void 0,c:void 0,choose:!1,selectionId:o.host.createSelectionId().withDimension(n.profile.latitude.values[0],t).withDimension(n.profile.longitude.values[0],t)},void 0!==o.vStr&&null!=(i=t[o.vStr.display])&&(e.v=i,(void 0===o.maxPinSizeValue||i>o.maxPinSizeValue)&&(o.maxPinSizeValue=i)),void 0!==o.cStr&&(null!=t[o.cStr.display]?(e.c=t[o.cStr.display],\"number\"==typeof t[o.cStr.display]&&(i=t[o.cStr.display],(void 0===o.maxPinColorValue||i>o.maxPinColorValue)&&(o.maxPinColorValue=i),(void 0===o.minPinColorValue||i<o.minPinColorValue)&&(o.minPinColorValue=i))):e.c=o.visualHost.localizationManager.getDisplay(\"null\")),o.renderDataList.push(e),t=new Microsoft.Maps.Location(t[o.xStr.display],t[o.yStr.display]),a=void 0===a?t:Microsoft.Maps.SpatialMath.interpolate(a,t))}),a&&this.map.setView({center:a})},r.prototype.updateProperties=function(t){var e=this;this.maxRadius=t.properties.maxRadius,this.colorPreference=t.properties.colorPreference,this.baseColor=o.default(t.properties.baseColor),this.gradientPreference=t.properties.gradientPreference,this.rangeCount=t.properties.rangeCount,this.colorAssignment=t.properties.maintainColorAssignments,this.showDataLabel=t.properties.showDataLabel,this.paletteId=[],t.properties.paletteId.forEach(function(t){\"object\"==typeof t?e.paletteId.push(t.colorStops[0]):e.paletteId.push(t)}),this.showSizeLegend=t.properties.showSizeLegend},r.prototype.updateLegend=function(){this.palette&&this.palette.destructLegend(),void 0!==this.cStr&&(this.palette=new a.default(\"Pin Color Legend\",this.paletteId)),this.pinLegend&&this.pinLegend.destructLegend(),void 0!==this.vStr&&this.maxPinSizeValue&&this.maxRadius&&(this.pinLegend=new h(this.maxPinSizeValue,this.maxRadius,this.defaultColor,this.vStr.format,this.host.formatService)),this.pinGroupGradientColorLegend&&this.pinGroupGradientColorLegend.destructLegend(),this.pinGradualGradientColorLegend&&this.pinGradualGradientColorLegend.destructLegend(),void 0!==this.cStr&&this.colorPreference===s.gradient&&this.maxPinColorValue&&(this.gradientPreference===l.grouped?this.pinGroupGradientColorLegend=new u(this.maxPinColorValue,this.minPinColorValue,this.rangeCount,this.baseColor,this.cStr.format,this.host.formatService):this.pinGradualGradientColorLegend=new p(this.minPinColorValue,this.maxPinColorValue,this.baseColor,this.cStr.format,this.host.formatService))},r.prototype.renderLegend=function(){this.renderDataList.length<=0||(this.cStr&&(this.colorPreference===s.gradient&&void 0!==this.maxPinColorValue?this.gradientPreference===l.grouped?document.getElementById(\"paletteLegendBox\").appendChild(this.pinGroupGradientColorLegend.getLegend()):document.getElementById(\"paletteLegendBox\").appendChild(this.pinGradualGradientColorLegend.getLegend()):document.getElementById(\"paletteLegendBox\").appendChild(this.palette.getLegend())),this.vStr&&this.showSizeLegend&&document.getElementById(\"paletteLegendBox\").appendChild(this.pinLegend.getLegend()))},r.prototype.renderPins=function(){var r=this;this.renderDataList.forEach(function(t){var e,i=null==t.v?r.defaultRadius:t.v/r.maxPinSizeValue*r.maxRadius,n=r.defaultColor;t.choose&&(n=\"rgba(0, 109, 255, 1)\"),null!=t.c&&(r.colorPreference===s.gradient&&void 0!==r.maxPinColorValue?(e=1,r.maxPinColorValue!==r.minPinColorValue&&(e=r.gradientPreference===l.gradual?(t.c-r.minPinColorValue)/(r.maxPinColorValue-r.minPinColorValue):Math.ceil((t.c-r.minPinColorValue)/((r.maxPinColorValue-r.minPinColorValue)/r.rangeCount))/r.rangeCount),n=r.baseColor.alpha(e).toString()):null!=t.c&&(a=t.c.toString(),r.colorAssignment?(o=r.colorAssignment[a])&&(n=r.palette.getColorByColorAssignment(t.c.toString(),o,t.choose)):n=r.palette.getColor(a,t.choose)));var o=void 0;null!=t.c&&(o=\"number\"==typeof t.c?r.host.formatService.format(r.cStr.format,t.c):t.c),null!=t.v&&(o?o+=\", \"+r.host.formatService.format(r.vStr.format,t.v):o=r.host.formatService.format(r.vStr.format,t.v));var a=void 0,a=o&&r.showDataLabel?r.newPin(t.x,t.y,i,n,o):r.newPin(t.x,t.y,i,n);r.addMouseEvents(a,t),r.layer.add(a)})},r.prototype.addMouseEvents=function(t,e){var i=this,n=[{label:this.xStr.display,value:this.host.formatService.format(this.xStr.format,e.x)},{label:this.yStr.display,value:this.host.formatService.format(this.yStr.format,e.y)}];void 0!==e.v&&n.push({label:this.vStr.display,value:this.host.formatService.format(this.vStr.format,e.v)}),void 0!==e.c&&n.push({label:this.cStr.display,value:\"number\"==typeof e.c?this.host.formatService.format(this.cStr.format,e.c):e.c}),Microsoft.Maps.Events.addHandler(t,\"click\",function(t){i.host.showToolTipByClick(t.pageX,t.pageY,n),e.choose=!0,i.host.select(e.selectionId),i.layer.clear(),i.renderPins()}),Microsoft.Maps.Events.addHandler(t,\"mouseover\",function(t){i.host.showToolTipByHover(t.pageX,t.pageY,n)}),Microsoft.Maps.Events.addHandler(t,\"mouseout\",function(){i.host.hideToolTipByHover()})},r.prototype.newPin=function(t,e,i,n,o){e=new Microsoft.Maps.Location(t,e),i={icon:['<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"',2*i,'\" height=\"',2*i,'\"><circle cx=\"',i,'\" cy=\"',i,'\" r=\"',i,'\" stroke=\"none\" fill=\"',n,'\"/></svg>'].join(\"\"),anchor:new Microsoft.Maps.Point(i,i),roundClickableArea:!0};return o&&(i.title=o),new Microsoft.Maps.Pushpin(e,i)},r.prototype.clearSelection=function(){this.renderDataList.forEach(function(t){t.choose=!1}),this.layer.clear(),this.renderPins()},r.prototype.mapClear=function(){this.layer.clear(),this.palette&&this.palette.destructLegend(),this.pinLegend&&this.pinLegend.destructLegend()},i=r;function r(t,e,i){this.layer=new Microsoft.Maps.Layer,this.renderDataList=[],this.defaultRadius=10,this.defaultColor=\"rgba(0, 109, 255, 0.7)\",(this.map=t).layers.insert(this.layer),this.host=e,this.visualHost=i}e.default=i;var h=(c.prototype.getLegend=function(){return this.legend},c.prototype.destructLegend=function(){this.legend.remove()},c);function c(t,e,i,n,o){this.legend=document.createElement(\"div\"),this.legend.className=\"wyn-visual-bing-map palette-legend\";var a=[];a.push(\"Pin Size Legend<br/>\");for(var r=t/5,s=e/5,l=1;l<=5;l++){var h=l*r,c=l*s;a.push('<svg width=\"'+2*c+'\" height=\"'+2*c+'\">'),a.push('<circle cx=\"'+c+'\" cy=\"'+c+'\" r=\"'+c+'\" stroke=\"none\" fill=\"'+i+'\"/></svg>'),a.push(o.format(n,h)+\"<br/>\")}this.legend.innerHTML=a.join(\"\")}var u=(d.prototype.getLegend=function(){return this.legend},d.prototype.destructLegend=function(){this.legend.remove()},d);function d(t,e,i,n,o,a){this.legend=document.createElement(\"div\"),this.legend.className=\"wyn-visual-bing-map palette-legend\";var r=[];r.push(\"Pin Color Legend<br/>\");var s=(t-e)/i;0==s&&(i=1);for(var l=1/i,h=i;1<=h;h--){var c=h*s+e,u=h*l;r.push('<svg width=\"20\" height=\"20\">'),r.push('<circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\" fill=\"'+n.alpha(u).toString()+'\"/></svg>'),1===i?r.push(a.format(o,c)+\"<br/>\"):r.push(a.format(o,c-s)+\" - \"+a.format(o,c)+\"<br/>\")}this.legend.innerHTML=r.join(\"\")}var p=(f.prototype.initLegendCanvas=function(t){var e=document.createElement(\"canvas\");e.width=this.canvasWidth,e.height=this.canvasHeight;var i=e.getContext(\"2d\"),n=i.createLinearGradient(0,0,0,100);n.addColorStop(0,t.alpha(0).toString()),n.addColorStop(1,t.alpha(1).toString()),i.fillStyle=n,i.fillRect(0,0,e.width,e.height),this.legendInstance.appendChild(e)},f.prototype.initLegendText=function(t,e,i,n){var o=document.createElement(\"span\");o.className=\"wyn-visual-bing-map gradual-legend-text\",t!==e&&((a=document.createElement(\"span\")).className=\"wyn-visual-bing-map gradual-legend-min\",a.innerHTML=\"\"+n.format(i,t),o.appendChild(a));var a=document.createElement(\"span\");a.innerHTML=\"\"+n.format(i,e),o.appendChild(a),this.legendInstance.appendChild(o)},f.prototype.getLegend=function(){return this.legendInstance},f.prototype.destructLegend=function(){this.legendInstance.remove()},f);function f(t,e,i,n,o){this.canvasWidth=15,this.canvasHeight=100,this.legendInstance=document.createElement(\"div\"),this.legendInstance.className=\"wyn-visual-bing-map palette-legend\",this.legendInstance.innerHTML=\"Pin Color Legend<br/>\",this.initLegendCanvas(i),this.initLegendText(t,e,n,o)}}],e={},f.m=d,f.c=e,f.d=function(t,e,i){f.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},f.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},f.t=function(e,t){if(1&t&&(e=f(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(f.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)f.d(i,n,function(t){return e[t]}.bind(null,n));return i},f.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(e,\"a\",e),e},f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f.p=\"\",f(f.s=4).default;function f(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return d[t].call(i.exports,i,i.exports,f),i.l=!0,i.exports}var d,e});","cssContent":".wyn-visual-bing-map.legend{position:absolute;bottom:30px;right:5px;width:256px;height:35px;font-family:Arial;font-size:12px;background-color:hsla(0,0%,100%,.8);border-radius:5px;padding:5px}.wyn-visual-bing-map.palette-legend-container{position:absolute;bottom:80px;right:5px;border:none;top:60px;overflow:auto;display:flex;flex-direction:column-reverse}.wyn-visual-bing-map.palette-legend-container::-webkit-scrollbar{width:3px}.wyn-visual-bing-map.palette-legend-container::-webkit-scrollbar-thumb{border-radius:3px;background-color:#dadada}.wyn-visual-bing-map.palette-legend-box{bottom:0;right:0}.wyn-visual-bing-map.palette-legend{font-family:Arial;font-size:12px;background-color:hsla(0,0%,100%,.8);border-radius:5px;padding:5px;margin-top:5px}.wyn-visual-bing-map.legend-max{float:right}.wyn-visual-bing-map.gradual-legend-text{position:relative;margin-left:5px}.wyn-visual-bing-map.gradual-legend-min{position:absolute;left:0}"}