{"name":"Organization Diagram","version":"1.0.0","displayName":"Organization Diagram","displayNameKey":"organizationDiagram","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAWtJREFUeAHt2cGtwjAQhOEE0QIN0A5NcKCD1JEOONAE7dAARQRxidbxRGOJYGH0v5OzI2zzeZUXha7jDwEEEEAAgVYF+pobn+7Haav1+tOjyt53W234X+cByJwsQAAZARPTQQAZARPTQQAZARPTQQAZARPTQQAZARPTQQAZARPTQQAZAWIEvipQ5bVlyTcYxzF5HTsMw0/sjZu0OT2AADICJqaDADICJqaDADICJqaDDFDxw9jyQc7M20Rc8jBKB5mjBAggI2BiOsgA7U2+Gpfc4FY/LILlP4Gt538vuVxDbCMr0UEZSVoAKPXIrgDKSNICQKlHdgVQRpIWAEo9siuAMhIKCCBQUWB+H3S4XZMf7j7Zw/N8meeN87S4BjfpeIJiDJBAiSWAooYYAyRQYgmgqCHGAAmUWAIoaogxQAIllgCKGmIMkECJJYCihhgDJFBiCaCoIcYACZRYAihqiDFAAoUSAggggEAjAi8f8SBv3V9twAAAAABJRU5ErkJggg==","iconCss":"","description":"","externalJs":[],"externalCss":[],"assets":{"images":{"visualIcon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAWtJREFUeAHt2cGtwjAQhOEE0QIN0A5NcKCD1JEOONAE7dAARQRxidbxRGOJYGH0v5OzI2zzeZUXha7jDwEEEEAAgVYF+pobn+7Haav1+tOjyt53W234X+cByJwsQAAZARPTQQAZARPTQQAZARPTQQAZARPTQQAZARPTQQAZARPTQQAZAWIEvipQ5bVlyTcYxzF5HTsMw0/sjZu0OT2AADICJqaDADICJqaDADICJqaDDFDxw9jyQc7M20Rc8jBKB5mjBAggI2BiOsgA7U2+Gpfc4FY/LILlP4Gt538vuVxDbCMr0UEZSVoAKPXIrgDKSNICQKlHdgVQRpIWAEo9siuAMhIKCCBQUWB+H3S4XZMf7j7Zw/N8meeN87S4BjfpeIJiDJBAiSWAooYYAyRQYgmgqCHGAAmUWAIoaogxQAIllgCKGmIMkECJJYCihhgDJFBiCaCoIcYACZRYAihqiDFAAoUSAggggEAjAi8f8SBv3V9twAAAAABJRU5ErkJggg=="}},"configuration":{"$trusted":false},"i18nResources":{"zh-CN":{"organizationDiagram":"组织关系图","dataBinding":{"name":"名字","parentName":"父名字","color":"颜色","title":"主题","image":"图片"},"options":{"chartStyle":"图表样式","maintainColorAssignment":"保持颜色分配","nodeColor":"调色板","opacity":"图表不透明度","edgeColor":"边颜色","graphLayout":"图表布局","TB":"自顶向下","BT":"自下向顶","LR":"从左至右","RL":"从右至左","nodeAspectRatio":"节点宽高比","imageNodeWidth":"图片宽度占比","imageAspectRatio":"图片宽高比","horizontalSpacing":"横向间距","verticalSpacing":"纵向间距","radius":"圆角弧度","buttonSize":"按钮尺寸","large":"大","medium":"中","small":"小","nameTextStyle":"名字字体设置","titleTextStyle":"标题字体设置"},"visual":{"null":"[空值]","emptyDisplay":"[空白]"}},"zh-TW":{"organizationDiagram":"組織關係圖","dataBinding":{"name":"名字","parentName":"父名字","color":"顏色","title":"主題","image":"圖片"},"options":{"chartStyle":"圖表樣式","maintainColorAssignment":"保持顏色分配","nodeColor":"調色板","opacity":"圖表不透明度","edgeColor":"邊顏色","graphLayout":"圖表佈局","TB":"自頂向下","BT":"自下向頂","LR":"從左至右","RL":"從右至左","nodeAspectRatio":"節點寬高比","imageNodeWidth":"圖片寬度佔比","imageAspectRatio":"圖片寬高比","horizontalSpacing":"橫向間距","verticalSpacing":"縱向間距","radius":"圓角弧度","buttonSize":"按鈕尺寸","large":"大","medium":"中","small":"小","nameTextStyle":"名字字體設置","titleTextStyle":"標題字體設置"},"visual":{"null":"[空值]","emptyDisplay":"[空白文本]"}},"en-US":{"organizationDiagram":"Organization Diagram","dataBinding":{"name":"Name(id)","parentName":"Parent Name(pid)","color":"Color","title":"Title","image":"Image"},"options":{"chartStyle":"Chart Style","maintainColorAssignment":"Maintain Color Assignments","nodeColor":"Palette","opacity":"Graph Opacity","edgeColor":"Edge Color","graphLayout":"Graph Layout","TB":"Top Bottom","BT":"Bottom Top","LR":"Left Right","RL":"Right Left","nodeAspectRatio":"Node Aspect Ratio","imageNodeWidth":"Image Node Width","imageAspectRatio":"Image Aspect Ratio","horizontalSpacing":"Horizontal Spacing","verticalSpacing":"Vertical spacing","radius":"Corner Radius","buttonSize":"Button Size","large":"Large","medium":"Medium","small":"Small","nameTextStyle":"Name Font Setting","titleTextStyle":"Title Font Setting"},"visual":{"null":"[NULL]","emptyDisplay":"[Blank]"}}},"capabilities":{"dataBinding":{"dataRoles":[{"name":"name","displayNameKey":"dataBinding.name","kind":"grouping"},{"name":"parentName","displayNameKey":"dataBinding.parentName","kind":"grouping"},{"name":"color","displayNameKey":"dataBinding.color","kind":"grouping"},{"name":"title","displayNameKey":"dataBinding.title","kind":"grouping"},{"name":"image","displayNameKey":"dataBinding.image","_imageFormat":true,"kind":"grouping"}],"dataViewMappings":[{"plain":{"required":[{"name":{"min":1},"parentName":{"min":1}}]}}],"conditions":[{"name":{"max":1},"parentName":{"max":1},"color":{"max":1},"title":{"max":1},"image":{"max":1}}]},"options":{"visual":[{"displayNameKey":"options.chartStyle","properties":[{"name":"maintainColorAssignment","type":"ColorAssignment","displayNameKey":"options.maintainColorAssignment","defaultValue":false,"palettePath":"nodeColor"},{"name":"nodeColor","type":"Palette","displayNameKey":"options.nodeColor","defaultValue":"dashboard.palette"},{"name":"opacity","type":"Percentage","displayNameKey":"options.opacity","defaultValue":80},{"name":"edgeColor","type":"Color","displayNameKey":"options.edgeColor","defaultValue":"#999999"},{"name":"graphLayout","type":"Enum","displayNameKey":"options.graphLayout","items":[{"value":"TB","displayNameKey":"options.TB"},{"value":"BT","displayNameKey":"options.BT"},{"value":"LR","displayNameKey":"options.LR"},{"value":"RL","displayNameKey":"options.RL"}],"defaultValue":"TB"},{"name":"nodeAspectRatio","type":"Float","displayNameKey":"options.nodeAspectRatio","min":0,"defaultValue":2},{"name":"imageNodeWidth","type":"Percentage","displayNameKey":"options.imageNodeWidth","min":0,"max":50,"defaultValue":25},{"name":"imageAspectRatio","type":"Float","displayNameKey":"options.imageAspectRatio","min":0,"defaultValue":1},{"name":"horizontalSpacing","type":"Float","displayNameKey":"options.horizontalSpacing","min":0,"defaultValue":0.2},{"name":"verticalSpacing","type":"Float","displayNameKey":"options.verticalSpacing","min":0,"defaultValue":1},{"name":"radius","type":"Angle","displayNameKey":"options.radius","min":0,"max":30,"defaultValue":6},{"name":"buttonSize","type":"Enum","displayNameKey":"options.buttonSize","items":[{"value":"large","displayNameKey":"options.large"},{"value":"medium","displayNameKey":"options.medium"},{"value":"small","displayNameKey":"options.small"}],"defaultValue":"medium"},{"name":"nameTextStyle","type":"TextStyle","displayNameKey":"options.nameTextStyle","inheritFrom":"dashboard.textStyle"},{"name":"titleTextStyle","type":"TextStyle","displayNameKey":"options.titleTextStyle","inheritFrom":"dashboard.textStyle"}]},{"type":"interaction"},{"type":"title"},{"type":"appearance"}]},"actions":[{"type":"clearSelection"},{"type":"focus"},{"type":"annotation"},{"type":"export"},{"type":"shareScenario"},{"type":"openFullDashboard"},{"type":"filter"},{"type":"analysisPath"}],"analysis":[]},"jsContent":"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.WynVisualClass=e():t.WynVisualClass=e()}(window,function(){return r={},i.m=n=[function(t,e,n){\"use strict\";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=this&&this.__assign||function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,\"__esModule\",{value:!0}),n(1);var a,s=o(n(2)),u=o(n(3)),l=o(n(4)),c=(a=WynVisual,i(f,a),f.prototype.updateGraphOptions=function(){this.registerNode(),this.registerEdge(),this.configNode(),this.configEdge()},f.prototype.render=function(){this.graph.clear(),this.updateGraphOptions(),this.graph.data(this.renderData),this.updateLayout(),this.graph.render()},f.prototype.update=function(t){this.isRender=!0,this.colors=[],this.styleConfig=t.properties,this.setRenderConfig(t),this.isRender&&this.render()},f.prototype.onDestroy=function(){this.graph.off(\"node:click\",this.nodeClickHandler),this.graph.off(\"node:mouseover\",this.nodeMouseoverHandler),this.graph.off(\"node:mouseout\",this.nodeMouseoutHandler),this.graph.off(\"canvas:dragend\",this.dragendHandler),this.dom.removeEventListener(\"click\",this.domClickHandler)},f.prototype.onResize=function(){this.graph.changeSize(this.dom.clientWidth,this.dom.clientHeight),this.graph.render()},f.prototype.getInspectorHiddenState=function(t){var e=[];return t.properties.maintainColorAssignment&&e.push(\"nodeColor\"),e},f.prototype.getActionBarHiddenState=function(t){return null},f.prototype.getColorAssignmentConfigMapping=function(t){if(!t.length)return null;var e=t[0].plain,n=e.profile.color.values[0];if(!n)return null;var r=e.data.map(function(t){return t[n.display]});return{maintainColorAssignment:{values:Array.from(new Set(r)),type:\"dimension\",columns:[n]}}},f);function f(t,e,n){var c=a.call(this,t,e,n)||this;c.COLLAPSE_ICON=function(t,e,n){return[[\"M\",t-n,e-n],[\"a\",n,n,0,1,0,2*n,0],[\"a\",n,n,0,1,0,2*-n,0],[\"M\",t+2-n,e-n],[\"L\",t+n-2,e-n]]},c.EXPAND_ICON=function(t,e,n){return[[\"M\",t-n,e-n],[\"a\",n,n,0,1,0,2*n,0],[\"a\",n,n,0,1,0,2*-n,0],[\"M\",t+2-n,e-n],[\"L\",t+n-2,e-n],[\"M\",t,e-2*n+2],[\"L\",t,e-2]]},c.convertOtherUnitToPx=function(t){var e=document.createElement(\"div\");e.style.visibility=\"hidden\",e.style.position=\"absolute\",e.style.padding=\"0\",e.style.border=\"0\",e.style.width=t,document.body.appendChild(e);var n=e.getBoundingClientRect();return document.body.removeChild(e),n.width},c.dragendHandler=function(){c.isDragCanvas=!0},c.setNodeOpacity=function(){var n=c.styleConfig.opacity;c.graph.findAll(\"node\",function(t){return!0}).forEach(function(t){var e=c.getIsSelected(t.get(\"id\"));c.graph.updateItem(t,{type:\"icon-node\",style:{opacity:e?n/100:n/100*.3}})})},c.isUpdate=function(){c.isRender?c.setNodeOpacity():c.render()},c.resetGraph=function(t){c.host.toolTipService.hide(),c.isUpdate()},c.domClickHandler=function(){!c.isStartDomClick||c.isDragCanvas||c.selectionManager.isEmpty()||c.selectionManager.clear(),c.isStartDomClick=!0,c.isDragCanvas=!1},c.imageShape=function(t,e){var n=c.styleConfig,r=n.nodeAspectRatio,i=n.imageNodeWidth,o=n.imageAspectRatio,a=c.nodeHeight*r,s=a*i/100,u=s/o;e.addShape(\"image\",{attrs:{x:(a/2-s)/3,y:-u/3,width:s,height:u,img:t.image},name:\"image-shape\"})},c.nameShape=function(t,e){var n=t.nameCfg,r=void 0===n?{}:n,i=c.styleConfig,o=i.nodeAspectRatio,a=i.nameTextStyle.fontSize,s=c.nodeHeight*o;e.addShape(\"text\",{attrs:h(h({},r.style),{text:t.name,x:.9*s,y:.1*c.nodeHeight+c.convertOtherUnitToPx(a),textAlign:\"right\"})})},c.getButtonSize=function(t){switch(t){case\"large\":return 10;case\"medium\":return 6;case\"small\":return 4}},c.titleShape=function(t,e){var n=t.titleCfg,r=void 0===n?{}:n,i=c.styleConfig,o=i.nodeAspectRatio,a=i.buttonSize,s=c.nodeHeight*o,u=c.getButtonSize(a);e.addShape(\"text\",{attrs:h(h({},r.style),{text:t.title,x:s/2,y:c.nodeHeight-u-3,textAlign:\"center\"})})},c.childrenShape=function(t){var e=c.styleConfig,n=e.graphLayout,r=e.nodeAspectRatio,i=e.buttonSize,o=c.nodeHeight*r,a=c.getButtonSize(i);t.addShape(\"marker\",{attrs:{x:c.getMarketX(n,o),y:c.getMarketY(n,c.nodeHeight,a),r:a,fill:\"#ffffff\",stroke:\"gray\",cursor:\"pointer\",symbol:c.COLLAPSE_ICON},name:\"hidden-item\"})},c.getKeyShape=function(t,e){return e.addShape(\"rect\",{attrs:h(h({},t),{x:0,y:0})})},c.registerNode=function(){var i=c;s.default.registerNode(\"icon-node\",{draw:function(t,e){var n=this.getShapeStyle(t),r=i.getKeyShape(n,e);return t.image&&i.imageShape(t,e),t.name&&i.nameShape(t,e),t.title&&i.titleShape(t,e),t.children&&i.childrenShape(e),r},update:function(t,e){e.getKeyShape().attr(\"opacity\",t.style.opacity)}},\"rect\")},c.getMarketX=function(t,e){return\"LR\"===t?e:\"RL\"===t?0:e/2},c.getMarketY=function(t,e,n){return\"TB\"===t?e+n:\"BT\"===t?n:e/2+n},c.getEdgePath=function(t,e){var n=c.styleConfig,r=n.graphLayout,i=n.nodeAspectRatio,o=c.nodeHeight*i;switch(r){case\"TB\":return[[\"M\",t.x,t.y+c.nodeHeight/2],[\"L\",t.x,(t.y+e.y)/2],[\"L\",e.x,(t.y+e.y)/2],[\"L\",e.x,e.y-c.nodeHeight/2]];case\"BT\":return[[\"M\",t.x,t.y-c.nodeHeight/2],[\"L\",t.x,(t.y+e.y)/2],[\"L\",e.x,(t.y+e.y)/2],[\"L\",e.x,e.y+c.nodeHeight/2]];case\"LR\":return[[\"M\",t.x+o/2,t.y],[\"L\",(t.x+e.x)/2,t.y],[\"L\",(t.x+e.x)/2,e.y],[\"L\",e.x-o/2,e.y]];case\"RL\":return[[\"M\",t.x-o/2,t.y],[\"L\",(t.x+e.x)/2,t.y],[\"L\",(t.x+e.x)/2,e.y],[\"L\",e.x+o/2,e.y]]}},c.registerEdge=function(){var r=c;s.default.registerEdge(\"flow-line\",{draw:function(t,e){var n=t.style;return e.addShape(\"path\",{attrs:{stroke:n.stroke,path:r.getEdgePath(t.startPoint,t.endPoint)}})}})},c.recursionHideChildren=function(t){t.forEach(function(t){var e=c.graph.findById(t.id);c.graph.hideItem(e),e._cfg.children&&c.recursionHideChildren(e._cfg.model.children)})},c.recursionShowChildren=function(t){t.forEach(function(t){var e=c.graph.findById(t.id);c.graph.showItem(e),e._cfg.children&&e._cfg.model.isShow&&c.recursionShowChildren(e._cfg.model.children)})},c.getFields=function(t){var e=[],n=t.item.getModel();return e.push({label:c.idDisplay,value:n.id}),e.push({label:c.pidDisplay,value:t.item._cfg.parent?t.item._cfg.parent._cfg.id:c.host.localizationManager.getDisplay(\"visual.null\")}),n.color&&e.push({label:c.colorDisplay,value:n.color}),n.title&&e.push({label:c.titleDisplay,value:n.title}),e},c.nodeMouseoverHandler=function(t){var e,n;JSON.stringify(c.renderData)!==JSON.stringify(u.default)&&(e=t.item.getModel(),n=c.getFields(t),c.host.toolTipService.show({position:{x:t.clientX,y:t.clientY},title:e.id,fields:n,menu:!1}))},c.nodeMouseoutHandler=function(t){t.toShape||c.selectionManager.isEmpty()&&c.host.toolTipService.hide()},c.showClickToolTip=function(t){var e;JSON.stringify(c.renderData)!==JSON.stringify(u.default)&&(e=c.getFields(t),c.host.toolTipService.show({position:{x:t.clientX,y:t.clientY},fields:e,selected:c.selectionManager.getSelectionIds(),menu:!0}))},c.clickHiddenHandler=function(t,e){c.recursionHideChildren(e.children),t.attrs.symbol=c.EXPAND_ICON,e.isShow=!1,t.cfg.name=\"show-item\"},c.clickShowHandler=function(t,e){c.recursionShowChildren(e.children),t.attrs.symbol=c.COLLAPSE_ICON,e.isShow=!0,t.cfg.name=\"hidden-item\"},c.changeSelectionManager=function(e){var t=c.selectionIds.filter(function(t){return t.dimensions[c.idDisplay]===e.id})[0];c.selectionManager.contains(t)?c.selectionManager.clear(t):c.selectionManager.select(t,!0)},c.nodeClickHandler=function(t){c.isStartDomClick=!1;var e=t.item,n=t.target,r=t.shape,i=n.get(\"type\"),o=n.get(\"name\"),a=e.getModel();\"marker\"===i?\"hidden-item\"===o?c.clickHiddenHandler(r,a):\"show-item\"===o&&c.clickShowHandler(r,a):(c.changeSelectionManager(a),c.showClickToolTip(t))},c.defaultNameCfg=function(){var t=c.styleConfig.nameTextStyle,e=t.color,n=t.fontFamily,r=t.fontSize;return{style:{fill:e,fontFamily:n,fontStyle:t.fontStyle,fontWeight:t.fontWeight,fontSize:c.convertOtherUnitToPx(r)}}},c.defaultTitleCfg=function(){var t=c.styleConfig.titleTextStyle,e=t.color,n=t.fontFamily,r=t.fontSize;return{style:{fill:e,fontFamily:n,fontStyle:t.fontStyle,fontWeight:t.fontWeight,fontSize:c.convertOtherUnitToPx(r)}}},c.getIsSelected=function(e){if(!c.selectionIds||c.selectionManager.isEmpty())return!0;var t=c.selectionIds.filter(function(t){return t.dimensions[c.idDisplay]===e})[0];return c.selectionManager.contains(t)},c.getPalette=function(){var t=c.styleConfig.nodeColor,e=[];c.palettes=[];for(var n=0;n<c.colors.length;n++)n<6?e.push(new l.default(c.colors[n],t[n])):e.push(new l.default(c.colors[n],e[n-6])),c.palettes.push(e[n].ToRgba(1))},c.getFillColor=function(t){var e=c.styleConfig,n=e.nodeColor,r=e.maintainColorAssignment;return r?r[t]:0===c.colors.length?n[0]:c.palettes[c.colors.indexOf(t)]},c.defaultNodeStyle=function(t){var e=c.styleConfig,n=e.opacity,r=e.edgeColor,i=e.radius,o=c.getIsSelected(t.id);return{fill:c.getFillColor(t.color),opacity:o?n/100:n/100*.3,stroke:r,radius:i}},c.defaultEdgeStyle=function(){return{stroke:c.styleConfig.edgeColor}},c.defaultLayout=function(){var t=c.styleConfig,e=t.graphLayout,n=t.verticalSpacing,r=t.horizontalSpacing,i=t.nodeAspectRatio;return{type:\"compactBox\",direction:e,getId:function(t){return t.id},getHeight:function(){return 0},getWidth:function(){return 0},getVGap:function(){return c.nodeHeight*(n+.5)},getHGap:function(){return c.nodeHeight*i*(r+.5)}}},c.configNode=function(){c.graph.node(function(t){return{type:\"icon-node\",size:[c.nodeHeight*c.styleConfig.nodeAspectRatio,c.nodeHeight],style:c.defaultNodeStyle(t),nameCfg:c.defaultNameCfg(),titleCfg:c.defaultTitleCfg(),isShow:!0}})},c.configEdge=function(){c.graph.edge(function(){return{type:\"flow-line\",style:c.defaultEdgeStyle()}})},c.updateLayout=function(){c.graph.updateLayout(c.defaultLayout())},c.dealNullText=function(t){return null===t?c.host.localizationManager.getDisplay(\"visual.null\"):\"\"===t?c.host.localizationManager.getDisplay(\"visual.emptyDisplay\"):t},c.mergeData=function(t,e){void 0===e&&(e=null);var n={};return n.id=c.dealNullText(t[c.idDisplay]),n.name=c.dealNullText(t[c.idDisplay]),c.colorDisplay&&(n.color=c.dealNullText(t[c.colorDisplay])),c.titleDisplay&&(n.title=c.dealNullText(t[c.titleDisplay])),c.imageDisplay&&c.judgeUrl(t[c.imageDisplay],n),e&&(n.children=e),n},c.appendChildren=function(n,r,e){var t=n.filter(function(t){return t[c.pidDisplay]===e});t&&t.forEach(function(e){var t;n.some(function(t){return t[c.pidDisplay]===e[c.idDisplay]})?(t=[],r.push(c.mergeData(e,t)),c.appendChildren(n,t,e[c.idDisplay])):r.push(c.mergeData(e))})},c.isOutLink=function(t){return t.includes(\".\")},c.judgeUrl=function(t,e){c.isOutLink(t)?(c.isRender=!1,c.getImage(t,e)):(c.internalUrlSum++,c.setUrl(t,e))},c.getPromise=function(r){return new Promise(function(t,e){var n=new Image(c.styleConfig.imageWidth,c.styleConfig.imageHeight);n.onload=function(){t(n)},n.onerror=function(){e()},n.src=r})},c.promiseRender=function(){c.externalUrlSum++,c.externalUrlSum===c.plainDataView.data.length-c.internalUrlSum&&c.render()},c.getImage=function(t,e){c.getPromise(t).then(function(t){e.image=t,c.promiseRender()},function(){e.image=\"\",c.promiseRender()})},c.setUrl=function(t,e){var n=c.plainDataView.profile.image.options.renderSetting;n&&\"imageBinary\"===n[0]?e.image=c.getBinaryImageURL(t):e.image=t},c.getBinaryImageURL=function(t){return\"data:image/*;base64,\"+t},c.getRoot=function(t){var e=[];return t.forEach(function(t){return e.push(t[c.idDisplay])}),t.find(function(t){return!e.includes(t[c.pidDisplay])})},c.formatData=function(t){var e=c.getRoot(t),n=[];return c.appendChildren(t,n,e[c.idDisplay]),t.some(function(t){return t[c.pidDisplay]===e[c.idDisplay]})?c.mergeData(e,n):c.mergeData(e)},c.setSelectionIds=function(){c.selectionIds=[],c.plainDataView.data.forEach(function(t){var e=c.host.selectionService.createSelectionId(),n=c.plainDataView.profile;e.withDimension(n.name.values[0],t).withDimension(n.parentName.values[0],t),0!==n.title.values.length&&e.withDimension(n.title.values[0],t),0!==n.image.values.length&&e.withDimension(n.image.values[0],t),0!==n.color.values.length&&e.withDimension(n.color.values[0],t),c.selectionIds.push(e)})},c.clearOtherDisplay=function(){c.colorDisplay=null,c.titleDisplay=null,c.imageDisplay=null},c.setRenderConfig=function(t){var e,n;c.plainDataView=t.dataViews[0]&&t.dataViews[0].plain,c.plainDataView?(n=c.plainDataView.profile,c.idDisplay=n.name.values[0].display,c.pidDisplay=n.parentName.values[0].display,c.clearOtherDisplay(),0!==n.title.values.length&&(c.titleDisplay=n.title.values[0].display),0!==n.image.values.length&&(c.imageDisplay=n.image.values[0].display,c.externalUrlSum=0,c.internalUrlSum=0),0!==n.color.values.length&&(c.colorDisplay=n.color.values[0].display,(e=c.colors).push.apply(e,c.plainDataView.sort[c.colorDisplay].order),c.getPalette()),c.setSelectionIds(),c.renderData=c.formatData(c.plainDataView.data)):c.plainDataView||(c.renderData=u.default)},c.dom=t,c.host=e,c.idDisplay=\"id\",c.pidDisplay=\"pid\",c.nodeHeight=60,c.selectionManager=e.selectionService.createSelectionManager(),c.selectionManager.registerOnSelectCallback(c.resetGraph);var r={container:t,width:c.dom.clientWidth,height:c.dom.clientHeight,linkCenter:!0,fitView:!0,modes:{default:[\"drag-canvas\",\"zoom-canvas\"]}};return c.graph=new s.default.TreeGraph(r),c.graph.on(\"node:click\",c.nodeClickHandler),c.graph.on(\"node:mouseover\",c.nodeMouseoverHandler),c.graph.on(\"node:mouseout\",c.nodeMouseoutHandler),c.graph.on(\"canvas:dragend\",c.dragendHandler),c.dom.addEventListener(\"click\",c.domClickHandler),c}e.default=c},function(t,e,n){},function(t,e,n){window,t.exports=function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=564)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"contains\",function(){return r}),n.d(e,\"includes\",function(){return r}),n.d(e,\"difference\",function(){return o}),n.d(e,\"find\",function(){return x}),n.d(e,\"findIndex\",function(){return w}),n.d(e,\"firstValue\",function(){return M}),n.d(e,\"flatten\",function(){return S}),n.d(e,\"flattenDeep\",function(){return _}),n.d(e,\"getRange\",function(){return O}),n.d(e,\"pull\",function(){return j}),n.d(e,\"pullAt\",function(){return I}),n.d(e,\"reduce\",function(){return A}),n.d(e,\"remove\",function(){return T}),n.d(e,\"sortBy\",function(){return B}),n.d(e,\"union\",function(){return L}),n.d(e,\"uniq\",function(){return D}),n.d(e,\"valuesOfKey\",function(){return R}),n.d(e,\"head\",function(){return z}),n.d(e,\"last\",function(){return Y}),n.d(e,\"startsWith\",function(){return F}),n.d(e,\"endsWith\",function(){return X}),n.d(e,\"filter\",function(){return i}),n.d(e,\"every\",function(){return G}),n.d(e,\"some\",function(){return V}),n.d(e,\"group\",function(){return U}),n.d(e,\"groupBy\",function(){return H}),n.d(e,\"groupToMap\",function(){return W}),n.d(e,\"getWrapBehavior\",function(){return Z}),n.d(e,\"wrapBehavior\",function(){return $}),n.d(e,\"number2color\",function(){return Q}),n.d(e,\"parseRadius\",function(){return J}),n.d(e,\"clamp\",function(){return tt}),n.d(e,\"fixedBase\",function(){return et}),n.d(e,\"isDecimal\",function(){return rt}),n.d(e,\"isEven\",function(){return it}),n.d(e,\"isInteger\",function(){return ot}),n.d(e,\"isNegative\",function(){return at}),n.d(e,\"isNumberEqual\",function(){return st}),n.d(e,\"isOdd\",function(){return ut}),n.d(e,\"isPositive\",function(){return ct}),n.d(e,\"maxBy\",function(){return ht}),n.d(e,\"minBy\",function(){return lt}),n.d(e,\"mod\",function(){return ft}),n.d(e,\"toDegree\",function(){return pt}),n.d(e,\"toInteger\",function(){return gt}),n.d(e,\"toRadian\",function(){return yt}),n.d(e,\"forIn\",function(){return mt}),n.d(e,\"has\",function(){return bt}),n.d(e,\"hasKey\",function(){return xt}),n.d(e,\"hasValue\",function(){return Mt}),n.d(e,\"keys\",function(){return g}),n.d(e,\"isMatch\",function(){return v}),n.d(e,\"values\",function(){return wt}),n.d(e,\"lowerCase\",function(){return _t}),n.d(e,\"lowerFirst\",function(){return Ot}),n.d(e,\"substitute\",function(){return Ct}),n.d(e,\"upperCase\",function(){return kt}),n.d(e,\"upperFirst\",function(){return Et}),n.d(e,\"getType\",function(){return Pt}),n.d(e,\"isArguments\",function(){return It}),n.d(e,\"isArray\",function(){return l}),n.d(e,\"isArrayLike\",function(){return s}),n.d(e,\"isBoolean\",function(){return At}),n.d(e,\"isDate\",function(){return Tt}),n.d(e,\"isError\",function(){return Nt}),n.d(e,\"isFunction\",function(){return c}),n.d(e,\"isFinite\",function(){return Bt}),n.d(e,\"isNil\",function(){return h}),n.d(e,\"isNull\",function(){return Dt}),n.d(e,\"isNumber\",function(){return nt}),n.d(e,\"isObject\",function(){return d}),n.d(e,\"isObjectLike\",function(){return m}),n.d(e,\"isPlainObject\",function(){return b}),n.d(e,\"isPrototype\",function(){return Rt}),n.d(e,\"isRegExp\",function(){return zt}),n.d(e,\"isString\",function(){return N}),n.d(e,\"isType\",function(){return u}),n.d(e,\"isUndefined\",function(){return Yt}),n.d(e,\"isElement\",function(){return Ft}),n.d(e,\"requestAnimationFrame\",function(){return Xt}),n.d(e,\"clearAnimationFrame\",function(){return Gt}),n.d(e,\"augment\",function(){return Ht}),n.d(e,\"clone\",function(){return Ut}),n.d(e,\"debounce\",function(){return Zt}),n.d(e,\"memoize\",function(){return $t}),n.d(e,\"deepMix\",function(){return Qt}),n.d(e,\"each\",function(){return p}),n.d(e,\"extend\",function(){return Jt}),n.d(e,\"indexOf\",function(){return te}),n.d(e,\"isEmpty\",function(){return ne}),n.d(e,\"isEqual\",function(){return re}),n.d(e,\"isEqualWith\",function(){return ie}),n.d(e,\"map\",function(){return oe}),n.d(e,\"mapValues\",function(){return ae}),n.d(e,\"mix\",function(){return qt}),n.d(e,\"assign\",function(){return qt}),n.d(e,\"get\",function(){return se}),n.d(e,\"set\",function(){return ue}),n.d(e,\"pick\",function(){return he}),n.d(e,\"throttle\",function(){return le}),n.d(e,\"toArray\",function(){return fe}),n.d(e,\"toString\",function(){return St}),n.d(e,\"uniqueId\",function(){return pe}),n.d(e,\"noop\",function(){return ge}),n.d(e,\"identity\",function(){return ve}),n.d(e,\"size\",function(){return ye}),n.d(e,\"Cache\",function(){return me});var s=function(t){return null!==t&&\"function\"!=typeof t&&isFinite(t.length)},r=function(t,e){return!!s(t)&&-1<t.indexOf(e)},i=function(t,e){if(!s(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},o=function(t,e){return void 0===e&&(e=[]),i(t,function(t){return!r(e,t)})},a={}.toString,u=function(t,e){return a.call(t)===\"[object \"+e+\"]\"},c=function(t){return u(t,\"Function\")},h=function(t){return null==t},l=function(t){return Array.isArray?Array.isArray(t):u(t,\"Array\")};function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var d=function(t){var e=f(t);return null!==t&&\"object\"===e||\"function\"===e},p=function(t,e){if(t)if(l(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},g=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return p(n,function(t,e){c(n)&&\"prototype\"===e||r.push(e)}),r},v=function(t,e){var n=g(e),r=n.length;if(h(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0};function y(t){return(y=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var m=function(t){return\"object\"===y(t)&&null!==t},b=function(t){if(!m(t)||!u(t,\"Object\"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},x=function(t,e){if(!l(t))return null;var n;if(c(e)&&(n=e),b(e)&&(n=function(t){return v(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null},w=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},M=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!h(i)){n=l(i)?i[0]:i;break}}return n},S=function(t){if(!l(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},_=function t(e,n){if(void 0===n&&(n=[]),l(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n},O=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(l(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}},C=Array.prototype,k=C.splice,E=C.indexOf,j=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i,o=e[r];-1<(i=E.call(t,o));)k.call(t,i,1);return t},P=Array.prototype.splice,I=function(t,e){if(!s(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||(i=o,P.call(t,o,1))}return t},A=function(t,n,e){if(!l(t)&&!b(t))return t;var r=e;return p(t,function(t,e){r=n(r,t,e)}),r},T=function(t,e){var n=[];if(!s(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return I(t,i),n},N=function(t){return u(t,\"String\")},B=function(t,n){var i,e=c(n)?function(t,e){return n(t)-n(e)}:(i=[],N(n)?i.push(n):l(n)&&(i=n),function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0});return t.sort(e),t},D=function(t){var e=[];return p(t,function(t){r(e,t)||e.push(t)}),e},L=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D([].concat.apply([],t))},R=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!h(o)){l(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function z(t){if(s(t))return t[0]}function Y(t){if(s(t))return t[t.length-1]}var F=function(t,e){return!(!l(t)&&!N(t))&&t[0]===e},X=function(t,e){return!(!l(t)&&!N(t))&&t[t.length-1]===e},G=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},V=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},q=Object.prototype.hasOwnProperty,H=function(t,e){if(!e||!l(t))return{};for(var n={},r=c(e)?e:function(t){return t[e]},i=0;i<t.length;i++){var o=t[i],a=r(o);q.call(n,a)?n[a].push(o):n[a]=[o]}return n},W=function(t,e){return e?(c(e)||(i=l(e)?e:e.replace(/\\s+/g,\"\").split(\"*\"),e=function(t){for(var e=\"_\",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}),H(t,e)):{0:t};var i},U=function(t,e){if(!e)return[t];var n,r=W(t,e),i=[];for(n in r)i.push(r[n]);return i},Z=function(t,e){return t[\"_wrap_\"+e]},$=function(e,n){if(e[\"_wrap_\"+n])return e[\"_wrap_\"+n];function t(t){e[n](t)}return e[\"_wrap_\"+n]=t},K={},Q=function(t){var e=K[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n=\"0\"+n;e=\"#\"+n,K[t]=e}return e},J=function(t){var e=0,n=0,r=0,i=0;return l(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},tt=function(t,e,n){return t<e?e:n<t?n:t},et=function(t,e){var n=e.toString(),r=n.indexOf(\".\");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return 20<i&&(i=20),parseFloat(t.toFixed(i))},nt=function(t){return u(t,\"Number\")},rt=function(t){return nt(t)&&t%1!=0},it=function(t){return nt(t)&&t%2==0},ot=Number.isInteger?Number.isInteger:function(t){return nt(t)&&t%1==0},at=function(t){return nt(t)&&t<0};function st(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var ut=function(t){return nt(t)&&t%2!=0},ct=function(t){return nt(t)&&0<t},ht=function(t,e){if(l(t)){var n,r=t[0],i=c(e)?e(t[0]):t[0][e];return p(t,function(t){(n=c(e)?e(t):t[e])>i&&(r=t,i=n)}),r}},lt=function(t,e){if(l(t)){var n,r=t[0],i=c(e)?e(t[0]):t[0][e];return p(t,function(t){(n=c(e)?e(t):t[e])<i&&(r=t,i=n)}),r}},ft=function(t,e){return(t%e+e)%e},dt=180/Math.PI,pt=function(t){return dt*t},gt=parseInt,vt=Math.PI/180,yt=function(t){return vt*t},mt=p,bt=function(t,e){return t.hasOwnProperty(e)},xt=bt,wt=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return p(n,function(t,e){c(n)&&\"prototype\"===e||r.push(t)}),r},Mt=function(t,e){return r(wt(t),e)},St=function(t){return h(t)?\"\":t.toString()},_t=function(t){return St(t).toLowerCase()},Ot=function(t){var e=St(t);return e.charAt(0).toLowerCase()+e.substring(1)},Ct=function(t,n){return t&&n?t.replace(/\\\\?\\{([^{}]+)\\}/g,function(t,e){return\"\\\\\"===t.charAt(0)?t.slice(1):void 0===n[e]?\"\":n[e]}):t},kt=function(t){return St(t).toUpperCase()},Et=function(t){var e=St(t);return e.charAt(0).toUpperCase()+e.substring(1)},jt={}.toString,Pt=function(t){return jt.call(t).replace(/^\\[object /,\"\").replace(/]$/,\"\")},It=function(t){return u(t,\"Arguments\")},At=function(t){return u(t,\"Boolean\")},Tt=function(t){return u(t,\"Date\")},Nt=function(t){return u(t,\"Error\")},Bt=function(t){return nt(t)&&isFinite(t)},Dt=function(t){return null===t},Lt=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||Lt)},zt=function(t){return u(t,\"RegExp\")},Yt=function(t){return void 0===t},Ft=function(t){return t instanceof Element||t instanceof HTMLDocument};function Xt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Vt(t,e){for(var n in e)e.hasOwnProperty(n)&&\"constructor\"!==n&&void 0!==e[n]&&(t[n]=e[n])}function qt(t,e,n,r){return e&&Vt(t,e),n&&Vt(t,n),r&&Vt(t,r),t}var Ht=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];c(i)&&(i=i.prototype),qt(n.prototype,i)}};function Wt(t){return(Wt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var Ut=function t(e){if(\"object\"!==Wt(e)||null===e)return e;var n;if(l(e)){n=[];for(var r=0,i=e.length;r<i;r++)\"object\"===Wt(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)\"object\"===Wt(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n},Zt=function(r,i,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(t,e)},i),n&&r.apply(t,e)}},$t=function(o,a){if(!c(o))throw new TypeError(\"Expected a function\");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a?a.apply(this,t):t[0],r=s.cache;if(r.has(n))return r.get(n);var i=o.apply(this,t);return r.set(n,i),i}return s.cache=new Map,s};function Kt(t){return t}var Qt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)!function t(e,n,r,i){for(var o in r=r||0,i=i||5,n){var a;n.hasOwnProperty(o)&&(null!==(a=n[o])&&b(a)?(b(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):l(a)?(e[o]=[],e[o]=e[o].concat(a)):void 0!==a&&(e[o]=a))}}(t,e[r]);return t},Jt=function(t,e,n,r){c(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=qt(o,t.prototype),t.superclass=i(e.prototype,e),qt(o,n),qt(t,r),t},te=function(t,e){if(!s(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},ee=Object.prototype.hasOwnProperty,ne=function(t){if(h(t))return!0;if(s(t))return!t.length;var e,n=Pt(t);if(\"Map\"===n||\"Set\"===n)return!t.size;if(Rt(t))return!Object.keys(t).length;for(e in t)if(ee.call(t,e))return!1;return!0},re=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(N(e)||N(n))return!1;if(s(e)||s(n)){if(e.length!==n.length)return!1;for(var r=!0,i=0;i<e.length&&(r=t(e[i],n[i]));i++);return r}if(m(e)||m(n)){var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(r=!0,i=0;i<o.length&&(r=t(e[o[i]],n[o[i]]));i++);return r}return!1},ie=function(t,e,n){return c(n)?!!n(t,e):re(t,e)},oe=function(t,e){if(!s(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},ae=function(e,n){void 0===n&&(n=Kt);var r={};return d(e)&&!h(e)&&Object.keys(e).forEach(function(t){r[t]=n(e[t],t)}),r},se=function(t,e,n){for(var r=0,i=N(e)?e.split(\".\"):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},ue=function(t,e,n){var r=t,i=N(e)?e.split(\".\"):e;return i.forEach(function(t,e){e<i.length-1?(d(r[t])||(r[t]=nt(i[e+1])?[]:{}),r=r[t]):r[t]=n}),t},ce=Object.prototype.hasOwnProperty,he=function(e,t){if(null===e||!b(e))return{};var n={};return p(t,function(t){ce.call(e,t)&&(n[t]=e[t])}),n},le=function(n,r,i){var o,a,s,u,c=0;i=i||{};function h(){c=!1===i.leading?0:Date.now(),o=null,u=n.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();c||!1!==i.leading||(c=t);var e=r-(t-c);return a=this,s=arguments,e<=0||r<e?(o&&(clearTimeout(o),o=null),c=t,u=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(h,e)),u}return t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t},fe=function(t){return s(t)?Array.prototype.slice.call(t):[]},de={},pe=function(t){return de[t=t||\"g\"]?de[t]+=1:de[t]=1,t+de[t]},ge=function(){},ve=function(t){return t};function ye(t){return h(t)?0:s(t)?t.length:Object.keys(t).length}var me=(be.prototype.has=function(t){return void 0!==this.map[t]},be.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},be.prototype.set=function(t,e){this.map[t]=e},be.prototype.clear=function(){this.map={}},be.prototype.delete=function(t){delete this.map[t]},be.prototype.size=function(){return Object.keys(this.map).length},be);function be(){this.map={}}},function(t,e,n){\"use strict\";function u(t){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */n.r(e),n.d(e,\"__extends\",function(){return i}),n.d(e,\"__assign\",function(){return o}),n.d(e,\"__rest\",function(){return a}),n.d(e,\"__decorate\",function(){return s}),n.d(e,\"__param\",function(){return c}),n.d(e,\"__metadata\",function(){return h}),n.d(e,\"__awaiter\",function(){return l}),n.d(e,\"__generator\",function(){return f}),n.d(e,\"__createBinding\",function(){return d}),n.d(e,\"__exportStar\",function(){return p}),n.d(e,\"__values\",function(){return g}),n.d(e,\"__read\",function(){return v}),n.d(e,\"__spread\",function(){return y}),n.d(e,\"__spreadArrays\",function(){return m}),n.d(e,\"__await\",function(){return b}),n.d(e,\"__asyncGenerator\",function(){return x}),n.d(e,\"__asyncDelegator\",function(){return w}),n.d(e,\"__asyncValues\",function(){return M}),n.d(e,\"__makeTemplateObject\",function(){return S}),n.d(e,\"__importStar\",function(){return O}),n.d(e,\"__importDefault\",function(){return C}),n.d(e,\"__classPrivateFieldGet\",function(){return k}),n.d(e,\"__classPrivateFieldSet\",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(\"object\"===(\"undefined\"==typeof Reflect?\"undefined\":u(Reflect))&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a}function c(n,r){return function(t,e){r(t,e,n)}}function h(t,e){if(\"object\"===(\"undefined\"==typeof Reflect?\"undefined\":u(Reflect))&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,a,s,u){return new(s=s||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((u=u.apply(t,a||[])).next())})}function f(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return\"function\"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function p(t,e){for(var n in t)\"default\"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function g(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function v(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function x(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var i=n.apply(t,e||[]),o=[],a={};return r(\"next\"),r(\"throw\"),r(\"return\"),a[Symbol.asyncIterator]=function(){return this},a;function r(r){i[r]&&(a[r]=function(n){return new Promise(function(t,e){1<o.push([r,n,t,e])||s(r,n)})})}function s(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s(\"next\",t)}function c(t){s(\"throw\",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(r){var i,t={};return e(\"next\"),e(\"throw\",function(t){throw t}),e(\"return\"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=r[e]?function(t){return(i=!i)?{value:b(r[e](t)),done:\"return\"===e}:n?n(t):t}:n}}function M(u){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var t,e=u[Symbol.asyncIterator];return e?e.call(u):(u=g(u),t={},n(\"next\"),n(\"throw\"),n(\"return\"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=u[s]&&function(a){return new Promise(function(t,e){var n,r,i,o;n=t,r=e,i=(a=u[s](a)).done,o=a.value,Promise.resolve(o).then(function(t){n({value:t,done:i})},r)})}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e,t}var _=Object.create?function(t,e){Object.defineProperty(t,\"default\",{enumerable:!0,value:e})}:function(t,e){t.default=e};function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)\"default\"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return _(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return e.get(t)}function E(t,e,n){if(!e.has(t))throw new TypeError(\"attempted to set private field on non-instance\");return e.set(t,n),n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(4),a=n(32);e.default=function(t,e){if(t)if(o.default(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(a.default(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"String\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return Array.isArray?Array.isArray(t):r.default(t,\"Array\")}},function(t,e,n){\"use strict\";n.d(e,\"d\",function(){return w}),n.d(e,\"b\",function(){return M}),n.d(e,\"e\",function(){return S}),n.d(e,\"f\",function(){return _}),n.d(e,\"l\",function(){return O}),n.d(e,\"j\",function(){return C});var r=n(8),i=n.n(r);n.d(e,\"i\",function(){return i.a});var o=n(3),a=n.n(o);n.d(e,\"k\",function(){return a.a});var s=n(12),u=n.n(s);n.d(e,\"h\",function(){return u.a});var c=n(4),h=n.n(c);n.d(e,\"g\",function(){return h.a});var l=n(2),f=n.n(l);n.d(e,\"c\",function(){return f.a});var d=n(55),p=n.n(d);n.d(e,\"o\",function(){return p.a});var g=n(54),v=n.n(g);n.d(e,\"m\",function(){return v.a}),n(73);var y=n(87),m=n.n(y);n.d(e,\"n\",function(){return m.a});var b=n(88),x=n.n(b);function w(){return window?window.devicePixelRatio:1}function M(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function S(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r}function _(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function O(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function C(t,e){return t[0]===e[0]&&t[1]===e[1]}n.d(e,\"a\",function(){return x.a})},function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return r}),n.d(e,\"a\",function(){return i}),n.d(e,\"c\",function(){return o});var r=1e-6,i=\"undefined\"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return null==t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(86);e.contains=r.default,e.includes=r.default;var i=n(257);e.difference=i.default;var o=n(258);e.find=o.default;var a=n(259);e.findIndex=a.default;var s=n(260);e.firstValue=s.default;var u=n(261);e.flatten=u.default;var c=n(262);e.flattenDeep=c.default;var h=n(263);e.getRange=h.default;var l=n(264);e.pull=l.default;var f=n(157);e.pullAt=f.default;var d=n(265);e.reduce=d.default;var p=n(266);e.remove=p.default;var g=n(267);e.sortBy=g.default;var v=n(268);e.union=v.default;var y=n(158);e.uniq=y.default;var m=n(269);e.valuesOfKey=m.default;var b=n(270);e.head=b.default;var x=n(271);e.last=x.default;var w=n(272);e.startsWith=w.default;var M=n(273);e.endsWith=M.default;var S=n(154);e.filter=S.default;var _=n(274);e.every=_.default;var O=n(275);e.some=O.default;var C=n(276);e.group=C.default;var k=n(83);e.groupBy=k.default;var E=n(159);e.groupToMap=E.default;var j=n(277);e.getWrapBehavior=j.default;var P=n(56);e.wrapBehavior=P.default;var I=n(278);e.number2color=I.default;var A=n(279);e.parseRadius=A.default;var T=n(280);e.clamp=T.default;var N=n(281);e.fixedBase=N.default;var B=n(282);e.isDecimal=B.default;var D=n(283);e.isEven=D.default;var L=n(284);e.isInteger=L.default;var R=n(285);e.isNegative=R.default;var z=n(73);e.isNumberEqual=z.default;var Y=n(286);e.isOdd=Y.default;var F=n(287);e.isPositive=F.default;var X=n(288);e.maxBy=X.default;var G=n(289);e.minBy=G.default;var V=n(54);e.mod=V.default;var q=n(290);e.toDegree=q.default;var H=n(291);e.toInteger=H.default;var W=n(55);e.toRadian=W.default;var U=n(292);e.forIn=U.default;var Z=n(160);e.has=Z.default;var $=n(293);e.hasKey=$.default;var K=n(294);e.hasValue=K.default;var Q=n(156);e.keys=Q.default;var J=n(155);e.isMatch=J.default;var tt=n(161);e.values=tt.default;var et=n(295);e.lowerCase=et.default;var nt=n(296);e.lowerFirst=nt.default;var rt=n(297);e.substitute=rt.default;var it=n(298);e.upperCase=it.default;var ot=n(45);e.upperFirst=ot.default;var at=n(162);e.getType=at.default;var st=n(299);e.isArguments=st.default;var ut=n(4);e.isArray=ut.default;var ct=n(27);e.isArrayLike=ct.default;var ht=n(300);e.isBoolean=ht.default;var lt=n(301);e.isDate=lt.default;var ft=n(302);e.isError=ft.default;var dt=n(12);e.isFunction=dt.default;var pt=n(303);e.isFinite=pt.default;var gt=n(8);e.isNil=gt.default;var vt=n(304);e.isNull=vt.default;var yt=n(13);e.isNumber=yt.default;var mt=n(32);e.isObject=mt.default;var bt=n(125);e.isObjectLike=bt.default;var xt=n(72);e.isPlainObject=xt.default;var wt=n(163);e.isPrototype=wt.default;var Mt=n(305);e.isRegExp=Mt.default;var St=n(3);e.isString=St.default;var _t=n(34);e.isType=_t.default;var Ot=n(306);e.isUndefined=Ot.default;var Ct=n(307);e.isElement=Ct.default;var kt=n(87);e.requestAnimationFrame=kt.default;var Et=n(88);e.clearAnimationFrame=Et.default;var jt=n(308);e.augment=jt.default;var Pt=n(120);e.clone=Pt.default;var It=n(309);e.debounce=It.default;var At=n(310);e.memoize=At.default;var Tt=n(15);e.deepMix=Tt.default;var Nt=n(2);e.each=Nt.default;var Bt=n(311);e.extend=Bt.default;var Dt=n(312);e.indexOf=Dt.default;var Lt=n(313);e.isEmpty=Lt.default;var Rt=n(111);e.isEqual=Rt.default;var zt=n(314);e.isEqualWith=zt.default;var Yt=n(315);e.map=Yt.default;var Ft=n(316);e.mapValues=Ft.default;var Xt=n(20);e.mix=Xt.default,e.assign=Xt.default;var Gt=n(150);e.get=Gt.default;var Vt=n(317);e.set=Vt.default;var qt=n(318);e.pick=qt.default;var Ht=n(319);e.throttle=Ht.default;var Wt=n(320);e.toArray=Wt.default;var Ut=n(74);e.toString=Ut.default;var Zt=n(321);e.uniqueId=Zt.default;var $t=n(322);e.noop=$t.default;var Kt=n(323);e.identity=Kt.default;var Qt=n(324);e.size=Qt.default;var Jt=n(325);e.Cache=Jt.default},function(t,e,n){\"use strict\";n.d(e,\"j\",function(){return y}),n.d(e,\"c\",function(){return m}),n.d(e,\"g\",function(){return b}),n.d(e,\"b\",function(){return x});var r=n(8),i=n.n(r);n.d(e,\"e\",function(){return i.a});var o=n(12),a=n.n(o);n.d(e,\"d\",function(){return a.a});var s=n(3),u=n.n(s);n.d(e,\"h\",function(){return u.a});var c=n(32),h=n.n(c);n.d(e,\"f\",function(){return h.a}),n(4);var l=n(20),f=n.n(l);n.d(e,\"i\",function(){return f.a});var d=n(2),p=n.n(d);n.d(e,\"a\",function(){return p.a});var g=n(45),v=n.n(g);function y(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,\"k\",function(){return v.a});var m=\"undefined\"!=typeof window&&void 0!==window.document;function b(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function x(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){\"use strict\";var i,o,a,s;Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){i||(i=document.createElement(\"table\"),o=document.createElement(\"tr\"),a=/^\\s*<(\\w+|!)[^>]*>/,s={tr:document.createElement(\"tbody\"),tbody:i,thead:i,tfoot:i,td:o,th:o,\"*\":document.createElement(\"div\")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e=\"*\");var n=s[e];t=t.replace(/(^\\s*)|(\\s*$)/g,\"\"),n.innerHTML=\"\"+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"Function\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"Number\")}},function(t,e,n){var r;try{r={cloneDeep:n(494),constant:n(142),defaults:n(495),each:n(196),filter:n(199),find:n(496),flatten:n(226),forEach:n(197),forIn:n(501),has:n(210),isUndefined:n(211),last:n(502),map:n(212),mapValues:n(503),max:n(504),merge:n(506),min:n(512),minBy:n(513),now:n(514),pick:n(515),range:n(520),reduce:n(214),sortBy:n(523),uniqueId:n(528),values:n(219),zipObject:n(529)}}catch(t){}r=r||window._,t.exports=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(4),u=n(72);e.default=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)!function t(e,n,r,i){for(var o in r=r||0,i=i||5,n){var a;n.hasOwnProperty(o)&&(null!==(a=n[o])&&u.default(a)?(u.default(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):s.default(a)?(e[o]=[],e[o]=e[o].concat(a)):void 0!==a&&(e[o]=a))}}(t,e[r]);return t}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"mat3\",function(){return s}),n.d(e,\"vec2\",function(){return R}),n.d(e,\"vec3\",function(){return z}),n.d(e,\"ext\",function(){return r});var s={};n.r(s),n.d(s,\"create\",function(){return i}),n.d(s,\"fromMat4\",function(){return o}),n.d(s,\"clone\",function(){return a}),n.d(s,\"copy\",function(){return u}),n.d(s,\"fromValues\",function(){return c}),n.d(s,\"set\",function(){return h}),n.d(s,\"identity\",function(){return l}),n.d(s,\"transpose\",function(){return f}),n.d(s,\"invert\",function(){return d}),n.d(s,\"adjoint\",function(){return p}),n.d(s,\"determinant\",function(){return g}),n.d(s,\"multiply\",function(){return v}),n.d(s,\"translate\",function(){return y}),n.d(s,\"rotate\",function(){return m}),n.d(s,\"scale\",function(){return b}),n.d(s,\"fromTranslation\",function(){return w}),n.d(s,\"fromRotation\",function(){return M}),n.d(s,\"fromScaling\",function(){return S}),n.d(s,\"fromMat2d\",function(){return _}),n.d(s,\"fromQuat\",function(){return O}),n.d(s,\"normalFromMat4\",function(){return C}),n.d(s,\"projection\",function(){return k}),n.d(s,\"str\",function(){return E}),n.d(s,\"frob\",function(){return j}),n.d(s,\"add\",function(){return P}),n.d(s,\"subtract\",function(){return I}),n.d(s,\"multiplyScalar\",function(){return A}),n.d(s,\"multiplyScalarAndAdd\",function(){return T}),n.d(s,\"exactEquals\",function(){return N}),n.d(s,\"equals\",function(){return B}),n.d(s,\"mul\",function(){return D}),n.d(s,\"sub\",function(){return L});var r={};n.r(r),n.d(r,\"leftTranslate\",function(){return Y}),n.d(r,\"leftRotate\",function(){return F}),n.d(r,\"leftScale\",function(){return X}),n.d(r,\"transform\",function(){return G}),n.d(r,\"direction\",function(){return V}),n.d(r,\"angleTo\",function(){return q}),n.d(r,\"vertical\",function(){return H});var x=n(6);function i(){var t=new x.a(9);return x.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new x.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function c(t,e,n,r,i,o,a,s,u){var c=new x.a(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function h(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,e){var n,r,i;return t===e?(n=e[1],r=e[2],i=e[5],t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function g(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*h,t[5]=g*o+v*u+y*l,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*h,t[8]=m*o+b*u+x*l,t}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t}function b(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function O(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t}function C(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,M=r*c-o*s,S=i*c-o*u,_=h*g-l*p,O=h*v-f*p,C=h*y-d*p,k=l*v-f*g,E=l*y-d*g,j=f*y-d*v,P=m*j-b*E+x*k+w*C-M*O+S*_;return P?(P=1/P,t[0]=(s*j-u*E+c*k)*P,t[1]=(u*C-a*j-c*O)*P,t[2]=(a*E-s*C+c*_)*P,t[3]=(i*E-r*j-o*k)*P,t[4]=(n*j-i*C+o*O)*P,t[5]=(r*C-n*E-o*_)*P,t[6]=(g*S-v*M+y*w)*P,t[7]=(v*x-p*S-y*b)*P,t[8]=(p*M-g*x+y*m)*P,t):null}function k(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function E(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function P(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function A(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function T(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function B(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7],b=e[8];return Math.abs(n-l)<=x.b*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=x.b*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=x.b*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=x.b*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=x.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=x.b*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=x.b*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=x.b*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)<=x.b*Math.max(1,Math.abs(h),Math.abs(b))}var D=v,L=I,R=n(127),z=n(82);function Y(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return s.fromTranslation(r,n),s.multiply(t,r,e)}function F(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return s.fromRotation(r,n),s.multiply(t,r,e)}function X(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return s.fromScaling(r,n),s.multiply(t,r,e)}function G(t,e){for(var n,r=t?[].concat(t):[1,0,0,0,1,0,0,0,1],i=0,o=e.length;i<o;i++){var a=e[i];switch(a[0]){case\"t\":Y(r,r,[a[1],a[2]]);break;case\"s\":X(r,r,[a[1],a[2]]);break;case\"r\":F(r,r,a[1]);break;case\"m\":n=a[1],s.multiply(r,n,r)}}return r}function V(t,e){return t[0]*e[1]-e[0]*t[1]}function q(t,e,n){var r=R.angle(t,e),i=0<=V(t,e);return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function H(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return i}),n.d(e,\"d\",function(){return o}),n.d(e,\"b\",function(){return c}),n.d(e,\"c\",function(){return h}),n.d(e,\"e\",function(){return f}),n.d(e,\"h\",function(){return d}),n.d(e,\"f\",function(){return p}),n.d(e,\"g\",function(){return g});var a=n(0),s=n(124),_=n(5);function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function O(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function C(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(O(t,e))}function j(t,e){var n=e[1],r=e[2],i=Object(_.m)(Object(_.o)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],h=e[7],l=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-h)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-h)/2,d=l*l/(n*n)+f*f/(r*r);1<d&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(l*l),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*l/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+h)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(l-v)/n,(f-y)/r],w=[(-1*l-v)/n,(-1*f-y)/r],M=C([1,0],x),S=C(x,w);return O(x,w)<=-1&&(S=Math.PI),1<=O(x,w)&&(S=0),0===a&&0<S&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:m,cy:b,rx:Object(_.j)(t,[c,h])?0:n,ry:Object(_.j)(t,[c,h])?0:r,startAngle:M,endAngle:M+S,xRotation:i,arcFlag:o,sweepFlag:a}}var P=n(21),u={fill:\"fillStyle\",stroke:\"strokeStyle\",opacity:\"globalAlpha\"};function i(t,e){var n,r=e.attr();for(n in r){var i=r[n],o=u[n]?u[n]:n;\"matrix\"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):\"lineDash\"===o&&t.setLineDash?Object(a.isArray)(i)&&t.setLineDash(i):(\"strokeStyle\"===o||\"fillStyle\"===o?i=Object(s.b)(t,e,i):\"globalAlpha\"===o&&(i*=t.globalAlpha),t[o]=i)}}function o(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function c(n,t,e){var r=n.get(\"refreshElements\");Object(a.each)(r,function(t){if(t!==n)for(var e=t.cfg.parent;e&&e!==n&&!e.cfg.refresh;)e.cfg.refresh=!0,e=e.cfg.parent}),(r[0]===n?l:function t(e,n){for(var r,i,o,a=0;a<e.length;a++){var s,u=e[a];u.cfg.visible&&(u.cfg.hasChanged?(u.cfg.refresh=!0,u.isGroup()&&l(u.cfg.children,n)):u.cfg.refresh?u.isGroup()&&t(u.cfg.children,n):(i=n,o=void 0,o=(r=u).cfg.cacheCanvasBBox,s=r.cfg.isInView&&o&&Object(_.f)(o,i),(u.cfg.refresh=s)&&u.isGroup()&&t(u.cfg.children,n)))}})(t,e)}function h(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&h(n.cfg.children)}}function l(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&l(r.get(\"children\"),e)}}function f(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow,s=[0,0],u=[0,0],c={dx:0,dy:0};e.beginPath();for(var h=0;h<i.length;h++){var l,f=i[h],d=f[0];0===h&&o&&o.d?(l=t.getStartTangent(),c=P.c(l[0][0],l[0][1],l[1][0],l[1][1],o.d)):h===i.length-2&&\"Z\"===i[h+1][0]&&a&&a.d?\"Z\"===i[h+1][0]&&(l=t.getEndTangent(),c=P.c(l[0][0],l[0][1],l[1][0],l[1][1],a.d)):h===i.length-1&&a&&a.d&&\"Z\"!==i[0]&&(l=t.getEndTangent(),c=P.c(l[0][0],l[0][1],l[1][0],l[1][1],a.d));var p,g=c.dx,v=c.dy;switch(d){case\"M\":e.moveTo(f[1]-g,f[2]-v),u=[f[1],f[2]];break;case\"L\":e.lineTo(f[1]-g,f[2]-v);break;case\"Q\":e.quadraticCurveTo(f[1],f[2],f[3]-g,f[4]-v);break;case\"C\":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-g,f[6]-v);break;case\"A\":var y=void 0;r?(y=r[h])||(y=j(s,f),r[h]=y):y=j(s,f);var m,b,x,w=y.cx,M=y.cy,S=y.rx,_=y.ry,O=y.startAngle,C=y.endAngle,k=y.xRotation,E=y.sweepFlag;e.ellipse?e.ellipse(w,M,S,_,k,O,C,1-E):(m=_<S?S:_,b=_<S?1:S/_,x=_<S?_/S:1,e.translate(w,M),e.rotate(k),e.scale(b,x),e.arc(0,0,m,O,C,1-E),e.scale(1/b,1/x),e.rotate(-k),e.translate(-w,-M));break;case\"Z\":e.closePath()}s=\"Z\"===d?u:[f[(p=f.length)-2],f[p-1]]}}function d(t,e){var n=t.get(\"canvas\");n&&(\"remove\"===e&&(t._cacheCanvasBBox=t.get(\"cacheCanvasBBox\")),t.get(\"hasChanged\")||(t.set(\"hasChanged\",!0),t.cfg.parent&&t.cfg.parent.get(\"hasChanged\")||(n.refreshElement(t,e,n),n.get(\"autoDraw\")&&n.draw())))}function p(t){if(!t.length)return null;var u=[],c=[],h=[],l=[];return Object(a.each)(t,function(t){var e,n,r,i,o,a,s=((e=t).destroyed?n=e._cacheCanvasBBox:(i=(r=e.get(\"cacheCanvasBBox\"))&&!(!r.width||!r.height),a=(o=e.getCanvasBBox())&&!(!o.width||!o.height),i&&a?n=Object(_.l)(r,o):i?n=r:a&&(n=o)),n);s&&(u.push(s.minX),c.push(s.minY),h.push(s.maxX),l.push(s.maxY))}),{minX:Math.min.apply(null,u),minY:Math.min.apply(null,c),maxX:Math.max.apply(null,h),maxY:Math.max.apply(null,l)}}function g(t,e){return t&&e&&Object(_.f)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"version\",function(){return f});var r=n(42);n.d(e,\"PathUtil\",function(){return r});var i=n(164);for(o in i)[\"default\",\"version\",\"Event\",\"Base\",\"AbstractCanvas\",\"AbstractGroup\",\"AbstractShape\",\"PathUtil\"].indexOf(o)<0&&function(t){n.d(e,t,function(){return i[t]})}(o);var o,a=n(165);for(o in a)[\"default\",\"version\",\"Event\",\"Base\",\"AbstractCanvas\",\"AbstractGroup\",\"AbstractShape\",\"PathUtil\"].indexOf(o)<0&&function(t){n.d(e,t,function(){return a[t]})}(o);var s=n(112);n.d(e,\"Event\",function(){return s.a});var u=n(113);n.d(e,\"Base\",function(){return u.a});var c=n(237);n.d(e,\"AbstractCanvas\",function(){return c.a});var h=n(166);n.d(e,\"AbstractGroup\",function(){return h.a});var l=n(167);n.d(e,\"AbstractShape\",function(){return l.a});var f=n(326).version},function(t,e,n){\"use strict\";function i(t,e){for(var n in e)e.hasOwnProperty(n)&&\"constructor\"!==n&&void 0!==e[n]&&(t[n]=e[n])}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e,n){\"use strict\";n.d(e,\"c\",function(){return r}),n.d(e,\"b\",function(){return i}),n.d(e,\"a\",function(){return o});var b=n(1),x=n(47);function a(t){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var w=Math.sin,M=Math.cos,S=Math.atan2,l=Math.PI;function s(t,e,n,r,i,o,a){var s=e.stroke,u=e.lineWidth,c=S(r-o,n-i),h=new x.Path({type:\"path\",canvas:t.get(\"canvas\"),isArrowShape:!0,attrs:{path:\"M\"+10*M(l/6)+\",\"+10*w(l/6)+\" L0,0 L\"+10*M(l/6)+\",-\"+10*w(l/6),stroke:s,lineWidth:u}});h.translate(i,o),h.rotateAtPoint(i,o,c),t.set(a?\"startArrowShape\":\"endArrowShape\",h)}function u(t,e,n,r,i,o,a){var s=e.startArrow,u=e.endArrow,c=e.stroke,h=e.lineWidth,l=a?s:u,f=l.d,d=l.fill,p=l.stroke,g=l.lineWidth,v=Object(b.__rest)(l,[\"d\",\"fill\",\"stroke\",\"lineWidth\"]),y=S(r-o,n-i);f&&(i-=M(y)*f,o-=w(y)*f);var m=new x.Path({type:\"path\",canvas:t.get(\"canvas\"),isArrowShape:!0,attrs:Object(b.__assign)(Object(b.__assign)({},v),{stroke:p||c,lineWidth:g||h,fill:d})});m.translate(i,o),m.rotateAtPoint(i,o,y),t.set(a?\"startArrowShape\":\"endArrowShape\",m)}function r(t,e,n,r,i){var o=S(r-e,n-t);return{dx:M(o)*i,dy:w(o)*i}}function i(t,e,n,r,i,o){\"object\"===a(e.startArrow)?u(t,e,n,r,i,o,!0):e.startArrow?s(t,e,n,r,i,o,!0):t.set(\"startArrowShape\",null)}function o(t,e,n,r,i,o){\"object\"===a(e.endArrow)?u(t,e,n,r,i,o,!1):e.endArrow?s(t,e,n,r,i,o,!1):t.set(\"startArrowShape\",null)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(40),c=n(127);e.default={box:function(t,e,n,r){return s.getBBoxByArray([t,n],[e,r])},length:function(t,e,n,r){return s.distance(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);return a<0?s.distance(t,e,i,o):(n-t)*(n-t)+(r-e)*(r-e)<a?s.distance(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(c.exactEquals(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];c.normalize(s,s);var u=[i-t,o-e];return Math.abs(c.dot(u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new x.ARRAY_TYPE(9);return x.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new x.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,o,a,s,u){var c=new x.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c},e.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){var n,r,i;return t===e?(n=e[1],r=e[2],i=e[5],t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},e.multiply=r,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,M=r*c-o*s,S=i*c-o*u,_=h*g-l*p,O=h*v-f*p,C=h*y-d*p,k=l*v-f*g,E=l*y-d*g,j=f*y-d*v,P=m*j-b*E+x*k+w*C-M*O+S*_;return P?(P=1/P,t[0]=(s*j-u*E+c*k)*P,t[1]=(u*C-a*j-c*O)*P,t[2]=(a*E-s*C+c*_)*P,t[3]=(i*E-r*j-o*k)*P,t[4]=(n*j-i*C+o*O)*P,t[5]=(r*C-n*E-o*_)*P,t[6]=(g*S-v*M+y*w)*P,t[7]=(v*x-p*S-y*b)*P,t[8]=(p*M-g*x+y*m)*P,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7],b=e[8];return Math.abs(n-l)<=x.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=x.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=x.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=x.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=x.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=x.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=x.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=x.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)<=x.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(126));function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*h,t[5]=g*o+v*u+y*l,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*h,t[8]=m*o+b*u+x*l,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=r,e.sub=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},e.inBox=function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var r=n(8);Object.defineProperty(e,\"isNil\",{enumerable:!0,get:function(){return r.default}});var i=n(3);Object.defineProperty(e,\"isString\",{enumerable:!0,get:function(){return i.default}});var o=n(12);Object.defineProperty(e,\"isFunction\",{enumerable:!0,get:function(){return o.default}});var a=n(4);Object.defineProperty(e,\"isArray\",{enumerable:!0,get:function(){return a.default}});var s=n(2);Object.defineProperty(e,\"each\",{enumerable:!0,get:function(){return s.default}});var u=n(55);Object.defineProperty(e,\"toRadian\",{enumerable:!0,get:function(){return u.default}});var c=n(54);Object.defineProperty(e,\"mod\",{enumerable:!0,get:function(){return c.default}});var h=n(73);Object.defineProperty(e,\"isNumberEqual\",{enumerable:!0,get:function(){return h.default}});var l=n(87);Object.defineProperty(e,\"requestAnimationFrame\",{enumerable:!0,get:function(){return l.default}});var f=n(88);Object.defineProperty(e,\"clearAnimationFrame\",{enumerable:!0,get:function(){return f.default}})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EVENTS=e.SVG_ATTR_MAP=e.SHAPE_TO_TAGS=void 0,e.SHAPE_TO_TAGS={rect:\"path\",circle:\"circle\",line:\"line\",path:\"path\",marker:\"path\",text:\"text\",polyline:\"polyline\",polygon:\"polygon\",image:\"image\",ellipse:\"ellipse\",dom:\"foreignObject\"},e.SVG_ATTR_MAP={opacity:\"opacity\",fillStyle:\"fill\",fill:\"fill\",fillOpacity:\"fill-opacity\",strokeStyle:\"stroke\",strokeOpacity:\"stroke-opacity\",stroke:\"stroke\",x:\"x\",y:\"y\",r:\"r\",rx:\"rx\",ry:\"ry\",width:\"width\",height:\"height\",x1:\"x1\",x2:\"x2\",y1:\"y1\",y2:\"y2\",lineCap:\"stroke-linecap\",lineJoin:\"stroke-linejoin\",lineWidth:\"stroke-width\",lineDash:\"stroke-dasharray\",lineDashOffset:\"stroke-dashoffset\",miterLimit:\"stroke-miterlimit\",font:\"font\",fontSize:\"font-size\",fontStyle:\"font-style\",fontVariant:\"font-variant\",fontWeight:\"font-weight\",fontFamily:\"font-family\",startArrow:\"marker-start\",endArrow:\"marker-end\",path:\"d\",class:\"class\",id:\"id\",style:\"style\",preserveAspectRatio:\"preserveAspectRatio\"},e.EVENTS=[\"click\",\"mousedown\",\"mouseup\",\"dblclick\",\"contextmenu\",\"mouseenter\",\"mouseleave\",\"mouseover\",\"mouseout\",\"mousemove\",\"wheel\"]},function(t,e,n){\"use strict\";var s=n(14),o=n(37).Graph;function a(t,e,n,r){for(var i;i=s.uniqueId(r),t.hasNode(i););return n.dummy=e,t.setNode(i,n),i}function u(n){return s.max(s.map(n.nodes(),function(t){var e=n.node(t).rank;if(!s.isUndefined(e))return e}))}t.exports={addDummyNode:a,simplify:function(r){var i=(new o).setGraph(r.graph());return s.forEach(r.nodes(),function(t){i.setNode(t,r.node(t))}),s.forEach(r.edges(),function(t){var e=i.edge(t.v,t.w)||{weight:0,minlen:1},n=r.edge(t);i.setEdge(t.v,t.w,{weight:e.weight+n.weight,minlen:Math.max(e.minlen,n.minlen)})}),i},asNonCompoundGraph:function(e){var n=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return s.forEach(e.nodes(),function(t){e.children(t).length||n.setNode(t,e.node(t))}),s.forEach(e.edges(),function(t){n.setEdge(t,e.edge(t))}),n},successorWeights:function(n){var t=s.map(n.nodes(),function(t){var e={};return s.forEach(n.outEdges(t),function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight}),e});return s.zipObject(n.nodes(),t)},predecessorWeights:function(n){var t=s.map(n.nodes(),function(t){var e={};return s.forEach(n.inEdges(t),function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight}),e});return s.zipObject(n.nodes(),t)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error(\"Not possible to find intersection inside of the rectangle\");return r=Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,c):(a<0&&(u=-u),(n=u)*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(r){var i=s.map(s.range(u(r)+1),function(){return[]});return s.forEach(r.nodes(),function(t){var e=r.node(t),n=e.rank;s.isUndefined(n)||(i[n][e.order]=t)}),i},normalizeRanks:function(n){var r=s.min(s.map(n.nodes(),function(t){return n.node(t).rank}));s.forEach(n.nodes(),function(t){var e=n.node(t);s.has(e,\"rank\")&&(e.rank-=r)})},removeEmptyRanks:function(n){var r=s.min(s.map(n.nodes(),function(t){return n.node(t).rank})),i=[];s.forEach(n.nodes(),function(t){var e=n.node(t).rank-r;i[e]||(i[e]=[]),i[e].push(t)});var o=0,a=n.graph().nodeRankFactor;s.forEach(i,function(t,e){s.isUndefined(t)&&e%a!=0?--o:o&&s.forEach(t,function(t){n.node(t).rank+=o})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return 4<=arguments.length&&(i.rank=n,i.order=r),a(t,\"border\",i,e)},maxRank:u,partition:function(t,e){var n={lhs:[],rhs:[]};return s.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=s.now();try{return e()}finally{console.log(t+\" time: \"+(s.now()-n)+\"ms\")}},notime:function(t,e){return e()}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return null!==t&&\"function\"!=typeof t&&isFinite(t.length)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(177);e.mat3=r.default;var i=n(376);e.vec2=i.default;var o=n(377);e.vec3=o.default;var a=n(378);e.transform=a.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(19),u=n(76),a=n(36),s=n(129),l=n(25),c=n(130),h=n(176),f=n(115),d=(r=o.AbstractShape,i.__extends(p,r),p.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},p.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var e,n=this.get(\"canvas\");n&&n.get(\"autoDraw\")&&(e=n.get(\"context\"),this.draw(e,t))},p.prototype.getShapeBase=function(){return c},p.prototype.getGroupBase=function(){return h.default},p.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},p.prototype.calculateBBox=function(){var t,e=this.get(\"el\"),n=null;if(e?n=e.getBBox():(t=f.getBBoxMethod(this.get(\"type\")))&&(n=t(this)),n){var r=n.x,i=n.y,o=n.width,a=n.height,s=this.getHitLineWidth(),u=s/2,c=r-u,h=i-u;return{x:c,y:h,minX:c,minY:h,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},p.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},p.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},p.prototype.draw=function(t,e){var n=this.get(\"el\");this.get(\"destroyed\")?n&&n.parentNode.removeChild(n):(n||a.createDom(this),u.setClip(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},p.prototype.createPath=function(t,e){},p.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineWidth,h=this.get(\"el\");this.canFill&&(e?\"fill\"in n?this._setColor(t,\"fill\",r):\"fillStyle\"in n&&this._setColor(t,\"fill\",i):this._setColor(t,\"fill\",r||i),s&&h.setAttribute(l.SVG_ATTR_MAP.fillOpacity,s)),this.canStroke&&0<c&&(e?\"stroke\"in n?this._setColor(t,\"stroke\",o):\"strokeStyle\"in n&&this._setColor(t,\"stroke\",a):this._setColor(t,\"stroke\",o||a),u&&h.setAttribute(l.SVG_ATTR_MAP.strokeOpacity,u),c&&h.setAttribute(l.SVG_ATTR_MAP.lineWidth,c))},p.prototype._setColor=function(t,e,n){var r,i=this.get(\"el\");n?(n=n.trim(),/^[r,R,L,l]{1}[\\s]*\\(/.test(n)?((r=t.find(\"gradient\",n))||(r=t.addGradient(n)),i.setAttribute(l.SVG_ATTR_MAP[e],\"url(#\"+r+\")\")):/^[p,P]{1}[\\s]*\\(/.test(n)?((r=t.find(\"pattern\",n))||(r=t.addPattern(n)),i.setAttribute(l.SVG_ATTR_MAP[e],\"url(#\"+r+\")\")):i.setAttribute(l.SVG_ATTR_MAP[e],n)):i.setAttribute(l.SVG_ATTR_MAP[e],\"none\")},p.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&u.setShadow(this,t)},p.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&u.setTransform(this)},p.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},p.prototype.isPointInPath=function(t,e){var n=this.get(\"el\"),r=this.get(\"canvas\").get(\"el\").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},p.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},p);function p(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"svg\",t.canFill=!1,t.canStroke=!1,t}e.default=d},function(t,e,n){var r;try{r={clone:n(381),constant:n(142),each:n(196),filter:n(199),has:n(210),isArray:n(18),isEmpty:n(458),isFunction:n(77),isUndefined:n(211),keys:n(48),map:n(212),reduce:n(214),size:n(461),transform:n(467),union:n(468),values:n(219)}}catch(t){}r=r||window._,t.exports=r},function(t,e){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){var e=n(t);return null!=t&&(\"object\"==e||\"function\"==e)}},function(t,e,n){\"use strict\";function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=r(t);return null!==t&&\"object\"===e||\"function\"===e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new a.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=i,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=c,e.squaredDistance=h,e.length=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return 0<i&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;0<a&&(a=1/Math.sqrt(a));var s=i*i+o*o;0<s&&(s=1/Math.sqrt(s));var u=(n*i+r*o)*a*s;return 1<u?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var u,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(126));function r(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function h(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function l(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function f(t){var e=t[0],n=t[1];return e*e+n*n}e.len=l,e.sub=i,e.mul=o,e.div=s,e.dist=c,e.sqrDist=h,e.sqrLen=f,e.forEach=(u=r(),function(t,e,n,r,i,o){var a,s=void 0;for(e=e||2,n=n||0,a=r?Math.min(r*e+n,t.length):t.length,s=n;s<a;s+=e)u[0]=t[s],u[1]=t[s+1],i(u,u,o),t[s]=u[0],t[s+1]=u[1];return t})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r={}.toString;e.default=function(t,e){return r.call(t)===\"[object \"+e+\"]\"}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(19),a=n(24),s=n(75),u=n(115),c=n(89),h=n(171),l=(r=o.AbstractShape,i.__extends(f,r),f.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},f.prototype.getShapeBase=function(){return c},f.prototype.getGroupBase=function(){return h.default},f.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},f.prototype.calculateBBox=function(){var t=this.get(\"type\"),e=this.getHitLineWidth(),n=u.getBBoxMethod(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},f.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},f.prototype.isStroke=function(){return!!this.attrs.stroke},f.prototype._applyClip=function(t,e){e&&(t.save(),s.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},f.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set(\"hasChanged\",!1);var r=this.getCanvasBBox();if(!a.intersectRect(e,r))return this.set(\"hasChanged\",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),s.applyAttrsToContext(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},f.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},f.prototype.cacheCanvasBBox=function(){var t,e,n=this.getCanvasViewBox();n&&(t=this.getCanvasBBox(),e=a.intersectRect(t,n),this.set(\"isInView\",e),e?this.set(\"cacheCanvasBBox\",t):this.set(\"cacheCanvasBBox\",null))},f.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set(\"hasChanged\",!1),this.set(\"refresh\",null)},f.prototype.skipDraw=function(){this.set(\"cacheCanvasBBox\",null),this.set(\"isInView\",null),this.set(\"hasChanged\",!1)},f.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},f.prototype.fill=function(t){t.fill()},f.prototype.stroke=function(t){t.stroke()},f.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(a.isNil(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&0<n&&(a.isNil(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},f.prototype.createPath=function(t){},f.prototype.afterDrawPath=function(t){},f.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},f.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},f.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},f);function f(){return null!==r&&r.apply(this,arguments)||this}e.default=l},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.moveTo=e.sortDom=e.createDom=e.createSVGElement=void 0;var o=n(0),a=n(25);function s(t){return document.createElementNS(\"http://www.w3.org/2000/svg\",t)}e.createSVGElement=s,e.createDom=function(t){var e=a.SHAPE_TO_TAGS[t.type],n=t.getParent();if(!e)throw new Error(\"the type \"+t.type+\" is not supported by svg\");var r,i=s(e);return t.get(\"id\")&&(i.id=t.get(\"id\")),t.set(\"el\",i),t.set(\"attrs\",{}),n&&((r=n.get(\"el\"))||(r=n.createDom(),n.set(\"el\",r)),r.appendChild(i)),i},e.sortDom=function(t,e){var n=t.get(\"el\"),r=o.toArray(n.children).sort(e),i=document.createDocumentFragment();r.forEach(function(t){i.appendChild(t)}),n.appendChild(i)},e.moveTo=function(t,e){var n,r=t.parentNode,i=Array.from(r.childNodes).filter(function(t){return 1===t.nodeType&&\"defs\"!==t.nodeName.toLowerCase()}),o=i[e],a=i.indexOf(t);o?e<a?r.insertBefore(t,o):a<e&&((n=i[e+1])?r.insertBefore(t,n):r.appendChild(t)):r.appendChild(t)}},function(t,e,n){var r;try{r=n(379)}catch(t){}r=r||window.graphlib,t.exports=r},function(t,e,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var i=n(179),o=\"object\"==(\"undefined\"==typeof self?\"undefined\":r(self))&&self&&self.Object===Object&&self,a=i||o||Function(\"return this\")();t.exports=a},function(t,e,n){\"use strict\";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*h,n[2]=f*o+d*u+p*l,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*h,n[5]=g*o+v*u+y*l,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*h,n[8]=m*o+b*u+x*l,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-h*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(h*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}n.d(e,\"b\",function(){return r}),n.d(e,\"c\",function(){return i}),n.d(e,\"a\",function(){return o})},function(t,e,n){\"use strict\";function i(t){return Math.min.apply(null,t)}function o(t){return Math.max.apply(null,t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.piMod=e.getBBoxRange=e.getBBoxByArray=e.isNumberEqual=e.distance=void 0,e.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var n=i(t),r=i(e);return{x:n,y:r,width:o(t)-n,height:o(e)-r}},e.getBBoxRange=function(t,e,n,r){return{minX:i([t,n]),maxX:o([t,n]),minY:i([e,r]),maxY:o([e,r])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){return null!=t&&\"object\"==n(t)}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"catmullRomToBezier\",function(){return j}),n.d(e,\"fillPath\",function(){return l}),n.d(e,\"fillPathByDiff\",function(){return f}),n.d(e,\"formatPath\",function(){return g}),n.d(e,\"intersection\",function(){return c}),n.d(e,\"parsePathArray\",function(){return a}),n.d(e,\"parsePathString\",function(){return M}),n.d(e,\"pathToAbsolute\",function(){return P}),n.d(e,\"pathToCurve\",function(){return I}),n.d(e,\"rectPath\",function(){return s});function m(t,e,n,r,i){var o,a,s;return null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i?(o=Math.PI/180,a=t+n*Math.cos(-r*o),s=t+n*Math.cos(-i*o),[[\"M\",a,e+n*Math.sin(-r*o)],[\"A\",n,n,0,+(180<i-r),0,s,e+n*Math.sin(-i*o)]]):[[\"M\",t,e],[\"m\",0,-r],[\"a\",n,r,0,1,1,0,2*r],[\"a\",n,r,0,1,1,0,-2*r],[\"z\"]]}function b(t,e,n,r){return[t,e,n,r,n,r]}function x(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function G(t,e,n,r,i,o,a,s,u,c){function h(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}n===r&&(n+=1);var l,f,d,p,g,v,y,m,b,x,w,M=120*Math.PI/180,S=Math.PI/180*(+i||0),_=[];c?(x=c[0],w=c[1],m=c[2],b=c[3]):(t=(l=h(t,e,-S)).x,e=l.y,s=(l=h(s,u,-S)).x,u=l.y,t===s&&e===u&&(s+=1,u+=1),1<(p=(f=(t-s)/2)*f/(n*n)+(d=(e-u)/2)*d/(r*r))&&(n*=p=Math.sqrt(p),r*=p),g=n*n,v=r*r,m=(y=(o===a?-1:1)*Math.sqrt(Math.abs((g*v-g*d*d-v*f*f)/(g*d*d+v*f*f))))*n*d/r+(t+s)/2,b=y*-r*f/n+(e+u)/2,x=Math.asin(((e-b)/r).toFixed(9)),w=Math.asin(((u-b)/r).toFixed(9)),x=t<m?Math.PI-x:x,w=s<m?Math.PI-w:w,x<0&&(x=2*Math.PI+x),w<0&&(w=2*Math.PI+w),a&&w<x&&(x-=2*Math.PI),!a&&x<w&&(w-=2*Math.PI));var O,C,k,E=w-x;Math.abs(E)>M&&(O=w,C=s,k=u,w=x+M*(a&&x<w?1:-1),_=G(s=m+n*Math.cos(w),u=b+r*Math.sin(w),n,r,i,0,a,C,k,[w,O,m,b])),E=w-x;var j=Math.cos(x),P=Math.sin(x),I=Math.cos(w),A=Math.sin(w),T=Math.tan(E/4),N=4/3*n*T,B=4/3*r*T,D=[t,e],L=[t+N*P,e-B*j],R=[s+N*A,u-B*I],z=[s,u];if(L[0]=2*D[0]-L[0],L[1]=2*D[1]-L[1],c)return[L,R,z].concat(_);for(var Y=[],F=0,X=(_=[L,R,z].concat(_).join().split(\",\")).length;F<X;F++)Y[F]=F%2?h(_[F-1],_[F],S).y:h(_[F],_[F+1],S).x;return Y}function w(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function S(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=c*h[d]+c,g=w(p,t,n,i,a),v=w(p,e,r,o,s),y=g*g+v*v;f+=l[d]*Math.sqrt(y)}return c*f}function _(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function O(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:s(t,e,n,r),vb:[t,e,n,r].join(\" \")}}function C(t,e,n,r,i,o,a,s){Object(v.isArray)(t)||(t=[t,e,n,r,i,o,a,s]);var u=function(t,e,n,r,i,o,a,s){for(var u,c,h,l,f=[],d=[[],[]],p=0;p<2;++p)if(h=0===p?(c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,3*n-3*t):(c=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;0<(l=-h/c)&&l<1&&f.push(l)}else{var g,v,y=c*c-4*h*u,m=Math.sqrt(y);y<0||(0<(g=(-c+m)/(2*u))&&g<1&&f.push(g),0<(v=(-c-m)/(2*u))&&v<1&&f.push(v))}for(var b,x=f.length,w=x;x--;)b=1-(l=f[x]),d[0][x]=b*b*b*t+3*b*b*l*n+3*b*l*l*i+l*l*l*a,d[1][x]=b*b*b*e+3*b*b*l*r+3*b*l*l*o+l*l*l*s;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}}.apply(null,t);return O(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function k(t,e,n,r,i,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(o-2*r+e),v=n+2*u*(i-n)+f*(a-2*i+n),y=r+2*u*(o-r)+f*(s-2*o+r);return{x:h*t+3*l*u*n+3*c*u*u*i+d*a,y:h*e+3*l*u*r+3*c*u*u*o+d*s,m:{x:p,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-y)/Math.PI}}function E(t,e,n){if(r=C(t),i=C(e),r=O(r),i=O(i),!(_(i,r.x,r.y)||_(i,r.x2,r.y)||_(i,r.x,r.y2)||_(i,r.x2,r.y2)||_(r,i.x,i.y)||_(r,i.x2,i.y)||_(r,i.x,i.y2)||_(r,i.x2,i.y2)||(r.x<i.x2&&r.x>i.x||i.x<r.x2&&i.x>r.x)&&(r.y<i.y2&&r.y>i.y||i.y<r.y2&&i.y>r.y)))return n?0:[];for(var r,i,o=~~(S.apply(0,t)/8),a=~~(S.apply(0,e)/8),s=[],u=[],c={},h=n?0:[],l=0;l<1+o;l++){var f=k.apply(0,t.concat(l/o));s.push({x:f.x,y:f.y,t:l/o})}for(l=0;l<1+a;l++)f=k.apply(0,e.concat(l/a)),u.push({x:f.x,y:f.y,t:l/a});for(l=0;l<o;l++)for(var d=0;d<a;d++){var p=s[l],g=s[l+1],v=u[d],y=u[d+1],m=Math.abs(g.x-p.x)<.001?\"y\":\"x\",b=Math.abs(y.x-v.x)<.001?\"y\":\"x\",x=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,h=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,l=+c.toFixed(2),f=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(i,a).toFixed(2)||l>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}}(p.x,p.y,g.x,g.y,v.x,v.y,y.x,y.y);if(x){if(c[x.x.toFixed(4)]===x.y.toFixed(4))continue;c[x.x.toFixed(4)]=x.y.toFixed(4);var w=p.t+Math.abs((x[m]-p[m])/(g[m]-p[m]))*(g.t-p.t),M=v.t+Math.abs((x[b]-v[b])/(y[b]-v[b]))*(y.t-v.t);0<=w&&w<=1&&0<=M&&M<=1&&(n?h+=1:h.push({x:x.x,y:x.y,t1:w,t2:M}))}}return h}var v=n(0),r=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\",i=new RegExp(\"([a-z])[\"+r+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+r+\"]*,?[\"+r+\"]*)+)\",\"ig\"),u=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+r+\"]*,?[\"+r+\"]*\",\"ig\"),M=function(o){if(!o)return null;if(Object(v.isArray)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(i,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(u,function(t,e){e&&r.push(+e)}),\"m\"===i&&2<r.length&&(s.push([e].concat(r.splice(0,2))),i=\"l\",e=\"m\"===e?\"l\":\"L\"),\"o\"===i&&1===r.length&&s.push([e,r[0]]),\"r\"===i)s.push([e].concat(r));else for(;r.length>=a[i]&&(s.push([e].concat(r.splice(0,a[i]))),a[i]););return o}),s},j=function(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push([\"C\",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},P=function(t){if(!(t=M(t))||!t.length)return[[\"M\",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,u=0;\"M\"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],u++,r[0]=[\"M\",i,o]);for(var c=3===t.length&&\"M\"===t[0][0]&&\"R\"===t[1][0].toUpperCase()&&\"Z\"===t[2][0].toUpperCase(),h=void 0,l=void 0,f=u,d=t.length;f<d;f++){if(r.push(h=[]),(e=(l=t[f])[0])!==e.toUpperCase())switch(h[0]=e.toUpperCase(),h[0]){case\"A\":h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=+l[6]+i,h[7]=+l[7]+o;break;case\"V\":h[1]=+l[1]+o;break;case\"H\":h[1]=+l[1]+i;break;case\"R\":for(var p=2,g=(n=[i,o].concat(l.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(j(n,c));break;case\"O\":r.pop(),(n=m(i,o,l[1],l[2])).push(n[0]),r=r.concat(n);break;case\"U\":r.pop(),r=r.concat(m(i,o,l[1],l[2],l[3])),h=[\"U\"].concat(r[r.length-1].slice(-2));break;case\"M\":a=+l[1]+i,s=+l[2]+o;break;default:for(p=1,g=l.length;p<g;p++)h[p]=+l[p]+(p%2?i:o)}else if(\"R\"===e)n=[i,o].concat(l.slice(1)),r.pop(),r=r.concat(j(n,c)),h=[\"R\"].concat(l.slice(-2));else if(\"O\"===e)r.pop(),(n=m(i,o,l[1],l[2])).push(n[0]),r=r.concat(n);else if(\"U\"===e)r.pop(),r=r.concat(m(i,o,l[1],l[2],l[3])),h=[\"U\"].concat(r[r.length-1].slice(-2));else for(var v=0,y=l.length;v<y;v++)h[v]=l[v];if(\"O\"!==(e=e.toUpperCase()))switch(h[0]){case\"Z\":i=+a,o=+s;break;case\"H\":i=h[1];break;case\"V\":o=h[1];break;case\"M\":a=h[h.length-2],s=h[h.length-1];break;default:i=h[h.length-2],o=h[h.length-1]}}return r},I=function(t,e){for(var o=P(t),a=e&&P(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=[],s=[],u=\"\",c=\"\",h=function(t,e,n){var r,i;if(!t)return[\"C\",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case\"M\":e.X=t[1],e.Y=t[2];break;case\"A\":t=[\"C\"].concat(G.apply(0,[e.x,e.y].concat(t.slice(1))));break;case\"S\":i=\"C\"===n||\"S\"===n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=[\"C\",r,i].concat(t.slice(1));break;case\"T\":\"Q\"===n||\"T\"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=[\"C\"].concat(x(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case\"Q\":e.qx=t[1],e.qy=t[2],t=[\"C\"].concat(x(e.x,e.y,t[1],t[2],t[3],t[4]));break;case\"L\":t=[\"C\"].concat(b(e.x,e.y,t[1],t[2]));break;case\"H\":t=[\"C\"].concat(b(e.x,e.y,t[1],e.y));break;case\"V\":t=[\"C\"].concat(b(e.x,e.y,e.x,t[1]));break;case\"Z\":t=[\"C\"].concat(b(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)i[e]=\"A\",a&&(s[e]=\"A\"),t.splice(e++,0,[\"C\"].concat(n.splice(0,6)));t.splice(e,1),d=Math.max(o.length,a&&a.length||0)}},f=function(t,e,n,r,i){t&&e&&\"M\"===t[i][0]&&\"M\"!==e[i][0]&&(e.splice(i,0,[\"M\",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],d=Math.max(o.length,a&&a.length||0))},d=Math.max(o.length,a&&a.length||0),p=0;p<d;p++){o[p]&&(u=o[p][0]),\"C\"!==u&&(i[p]=u,p&&(c=i[p-1])),o[p]=h(o[p],n,c),\"A\"!==i[p]&&\"C\"===u&&(i[p]=\"C\"),l(o,p),a&&(a[p]&&(u=a[p][0]),\"C\"!==u&&(s[p]=u,p&&(c=s[p-1])),a[p]=h(a[p],r,c),\"A\"!==s[p]&&\"C\"===u&&(s[p]=\"C\"),l(a,p)),f(o,a,n,r,p),f(a,o,r,n,p);var g=o[p],v=a&&a[p],y=g.length,m=a&&v.length;n.x=g[y-2],n.y=g[y-1],n.bx=parseFloat(g[y-4])||n.x,n.by=parseFloat(g[y-3])||n.y,r.bx=a&&(parseFloat(v[m-4])||r.x),r.by=a&&(parseFloat(v[m-3])||r.y),r.x=a&&v[m-2],r.y=a&&v[m-1]}return a?[o,a]:o},o=/,?([a-z]),?/gi,a=function(t){return t.join(\",\").replace(o,\"$1\")},s=function(t,e,n,r,i){if(i)return[[\"M\",+t+ +i,e],[\"l\",n-2*i,0],[\"a\",i,i,0,0,1,i,i],[\"l\",0,r-2*i],[\"a\",i,i,0,0,1,-i,i],[\"l\",2*i-n,0],[\"a\",i,i,0,0,1,-i,-i],[\"l\",0,2*i-r],[\"a\",i,i,0,0,1,i,-i],[\"z\"]];var o=[[\"M\",t,e],[\"l\",n,0],[\"l\",0,r],[\"l\",-n,0],[\"z\"]];return o.parsePathArray=a,o},c=function(t,e){return function(t,e,n){var r,i,o,a,s,u,c,h,l,f;t=I(t),e=I(e);for(var d=[],p=0,g=t.length;p<g;p++){var v=t[p];if(\"M\"===v[0])r=s=v[1],i=u=v[2];else{i=\"C\"===v[0]?(r=(l=[r,i].concat(v.slice(1)))[6],l[7]):(l=[r,i,r,i,s,u,s,u],r=s,u);for(var y=0,m=e.length;y<m;y++){var b=e[y];if(\"M\"===b[0])o=c=b[1],a=h=b[2];else{a=\"C\"===b[0]?(o=(f=[o,a].concat(b.slice(1)))[6],f[7]):(f=[o,a,o,a,c,h,c,h],o=c,h);for(var x=E(l,f,n),w=0,M=x.length;w<M;w++)x[w].segment1=p,x[w].segment2=y,x[w].bez1=l,x[w].bez2=f;d=d.concat(x)}}}}return d}(t,e)};function h(f,t,e){if(1===e)return[[].concat(f)];var n=[];if(\"L\"===t[0]||\"C\"===t[0]||\"Q\"===t[0])n=n.concat(function(t,e){var n=[[f[1],f[2]]];e=e||2;var r=[];\"A\"===t[0]?(n.push(t[6]),n.push(t[7])):\"C\"===t[0]?(n.push([t[1],t[2]]),n.push([t[3],t[4]]),n.push([t[5],t[6]])):\"S\"===t[0]||\"Q\"===t[0]?(n.push([t[1],t[2]]),n.push([t[3],t[4]])):n.push([t[1],t[2]]);for(var i,o,a,s,u=n,c=1/e,h=0;h<e-1;h++){var l=(o=c/(1-c*h),s=a=void 0,a=[],s=[],(i=u).length&&function t(e,n){if(1===e.length)a.push(e[0]),s.push(e[0]);else{for(var r=[],i=0;i<e.length-1;i++)0===i&&a.push(e[0]),i===e.length-2&&s.push(e[i+1]),r[i]=[(1-n)*e[i][0]+n*e[i+1][0],(1-n)*e[i][1]+n*e[i+1][1]];t(r,n)}}(i,o),{left:a,right:s.reverse()});r.push(l.left),u=l.right}return r.push(u),r.map(function(t){var e=[];return 4===t.length&&(e.push(\"C\"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push(\"Q\"),e=e.concat(t[1])),2===t.length&&e.push(\"L\"),e.concat(t[t.length-1])})}(t,e));else{var r=[].concat(f);\"M\"===r[0]&&(r[0]=\"L\");for(var i=0;i<=e-1;i++)n.push(r)}return n}var l=function(r,t){if(1===r.length)return r;var i=r.length-1,e=t.length-1,n=i/e,o=[];if(1===r.length&&\"M\"===r[0][0]){for(var a=0;a<e-i;a++)r.push(r[0]);return r}for(a=0;a<e;a++){var s=Math.floor(n*a);o[s]=(o[s]||0)+1}var u=o.reduce(function(t,e,n){return n===i?t.concat(r[i]):t.concat(h(r[n],r[n+1],e))},[]);return u.unshift(r[0]),\"Z\"!==t[e]&&\"z\"!==t[e]||u.push(\"Z\"),u};var f=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length;if(0===i||0===o)return null;for(var a=[],s=0;s<=i;s++)a[s]=[],a[s][0]={min:s};for(var u,c,h,l,f=0;f<=o;f++)a[0][f]={min:f};for(s=1;s<=i;s++)for(n=t[s-1],f=1;f<=o;f++){r=function(t,n){if(t.length!==n.length)return!1;var r=!0;return Object(v.each)(t,function(t,e){if(t!==n[e])return r=!1}),r}(n,e[f-1])?0:1;var d=a[s-1][f].min+1,p=a[s][f-1].min+1,g=a[s-1][f-1].min+r;a[s][f]=(l=h=void 0,h=null,(c=p)<(l=g)&&(l=c,h=\"add\"),(u=d)<l&&(l=u,h=\"del\"),{type:h,min:l})}return a}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){for(var c=n[u][u].min,s=u,h=a;h<=i;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;0<=u;u--)a=o[u].index,\"add\"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var l=i-(r=t.length);if(r<i)for(u=0;u<l;u++)\"z\"===t[r-1][0]||\"Z\"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function d(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=p(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function p(t){var e=[];switch(t[0]){case\"M\":case\"L\":e.push([t[1],t[2]]);break;case\"A\":e.push([t[6],t[7]]);break;case\"Q\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"T\":e.push([t[1],t[2]]);break;case\"C\":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case\"S\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"H\":case\"V\":e.push([t[1],t[1]])}return e}var g=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=p(t[r]),e[r][0]){case\"M\":t[r]=[\"M\"].concat(n[0]);break;case\"L\":t[r]=[\"L\"].concat(n[0]);break;case\"A\":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case\"Q\":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=d(n,t[r-1],1)}t[r]=[\"Q\"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case\"T\":t[r]=[\"T\"].concat(n[0]);break;case\"C\":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=d(n,t[r-1],2)}t[r]=[\"C\"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case\"S\":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=d(n,t[r-1],1)}t[r]=[\"S\"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t}},function(t,e,n){var r=n(77),i=n(136);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var i=n(438),o=n(448),a=n(52),s=n(18),u=n(455);t.exports=function(t){return\"function\"==typeof t?t:null==t?a:\"object\"==r(t)?s(t)?o(t[0],t[1]):i(t):u(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(74);e.default=function(t){var e=r.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(40),v=n(22),p=n(169);function y(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function l(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function g(t,e,n,r){var i,o,a,s,u=-3*t+9*e-9*n+3*r,c=6*t-12*e+6*n,h=3*e-3*t,l=[];return d.isNumberEqual(u,0)?d.isNumberEqual(c,0)||0<=(i=-h/c)&&i<=1&&l.push(i):(s=c*c-4*u*h,d.isNumberEqual(s,0)?l.push(-c/(2*u)):0<s&&(o=(-c-(a=Math.sqrt(s)))/(2*u),0<=(i=(-c+a)/(2*u))&&i<=1&&l.push(i),0<=o&&o<=1&&l.push(o))),l}function m(t,e,n,r,i,o,a,s,u){var c=y(t,n,i,a,u),h=y(e,r,o,s,u),l=v.default.pointAt(t,e,n,r,u),f=v.default.pointAt(n,r,i,o,u),d=v.default.pointAt(i,o,a,s,u),p=v.default.pointAt(l.x,l.y,f.x,f.y,u),g=v.default.pointAt(f.x,f.y,d.x,d.y,u);return[[t,e,l.x,l.y,p.x,p.y,c,h],[c,h,g.x,g.y,d.x,d.y,a,s]]}e.default={extrema:g,box:function(t,e,n,r,i,o,a,s){for(var u=[t,a],c=[e,s],h=g(t,n,i,a),l=g(e,r,o,s),f=0;f<h.length;f++)u.push(y(t,n,i,a,h[f]));for(f=0;f<l.length;f++)c.push(y(e,r,o,s,l[f]));return d.getBBoxByArray(u,c)},length:function(t,e,n,r,i,o,a,s){return function t(e,n,r,i,o,a,s,u,c){if(0===c)return p.snapLength([e,r,o,s],[n,i,a,u]);var h=m(e,n,r,i,o,a,s,u,.5),l=h[0],f=h[1];return l.push(c-1),f.push(c-1),t.apply(null,l)+t.apply(null,f)}(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,u,c,h){return p.nearestPoint([t,n,i,a],[e,r,o,s],u,c,y,h)},pointDistance:function(t,e,n,r,i,o,a,s,u,c,h){var l=this.nearestPoint(t,e,n,r,i,o,a,s,u,c,h);return d.distance(l.x,l.y,u,c)},interpolationAt:y,pointAt:function(t,e,n,r,i,o,a,s,u){return{x:y(t,n,i,a,u),y:y(e,r,o,s,u)}},divide:m,tangentAngle:function(t,e,n,r,i,o,a,s,u){var c=l(t,n,i,a,u),h=l(e,r,o,s,u);return d.piMod(Math.atan2(h,c))}}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Base\",function(){return l}),n.d(e,\"Circle\",function(){return f}),n.d(e,\"Ellipse\",function(){return y}),n.d(e,\"Image\",function(){return w}),n.d(e,\"Line\",function(){return E}),n.d(e,\"Marker\",function(){return B}),n.d(e,\"Path\",function(){return et}),n.d(e,\"Polygon\",function(){return at}),n.d(e,\"Polyline\",function(){return ct}),n.d(e,\"Rect\",function(){return gt}),n.d(e,\"Text\",function(){return yt});var r={};n.r(r),n.d(r,\"Base\",function(){return l}),n.d(r,\"Circle\",function(){return f}),n.d(r,\"Ellipse\",function(){return y}),n.d(r,\"Image\",function(){return w}),n.d(r,\"Line\",function(){return E}),n.d(r,\"Marker\",function(){return B}),n.d(r,\"Path\",function(){return et}),n.d(r,\"Polygon\",function(){return at}),n.d(r,\"Polyline\",function(){return ct}),n.d(r,\"Rect\",function(){return gt}),n.d(r,\"Text\",function(){return yt});var i,o,a=n(1),s=n(19),j=n(5),u=n(17),c=n(115),h=n(64),l=(o=s.AbstractShape,Object(a.__extends)(p,o),p.prototype.getDefaultAttrs=function(){var t=o.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},p.prototype.getShapeBase=function(){return r},p.prototype.getGroupBase=function(){return h.a},p.prototype.onCanvasChange=function(t){Object(u.h)(this,t)},p.prototype.calculateBBox=function(){var t=this.get(\"type\"),e=this.getHitLineWidth(),n=Object(c.getBBoxMethod)(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},p.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},p.prototype.isStroke=function(){return!!this.attrs.stroke},p.prototype._applyClip=function(t,e){e&&(t.save(),Object(u.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},p.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set(\"hasChanged\",!1);var r=this.getCanvasBBox();if(!Object(j.f)(e,r))return this.set(\"hasChanged\",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(u.a)(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},p.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},p.prototype.cacheCanvasBBox=function(){var t,e,n=this.getCanvasViewBox();n&&(t=this.getCanvasBBox(),e=Object(j.f)(t,n),this.set(\"isInView\",e),e?this.set(\"cacheCanvasBBox\",t):this.set(\"cacheCanvasBBox\",null))},p.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set(\"hasChanged\",!1),this.set(\"refresh\",null)},p.prototype.skipDraw=function(){this.set(\"cacheCanvasBBox\",null),this.set(\"isInView\",null),this.set(\"hasChanged\",!1)},p.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},p.prototype.fill=function(t){t.fill()},p.prototype.stroke=function(t){t.stroke()},p.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(Object(j.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&0<n&&(Object(j.i)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},p.prototype.createPath=function(t){},p.prototype.afterDrawPath=function(t){},p.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},p.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},p.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},p),f=(i=l,Object(a.__extends)(d,i),d.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,r:0})},d.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,c=i/2,h=Object(j.b)(a,s,t,e);return r&&n?h<=u+c:r?h<=u:!!n&&u-c<=h&&h<=u+c},d.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},d);function d(){return null!==i&&i.apply(this,arguments)||this}function p(){return null!==o&&o.apply(this,arguments)||this}function g(t,e,n,r){return t/(n*n)+e/(r*r)}var v,y=(v=l,Object(a.__extends)(m,v),m.prototype.getDefaultAttrs=function(){var t=v.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,rx:0,ry:0})},m.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,c=o.rx,h=o.ry,l=(t-s)*(t-s),f=(e-u)*(e-u);return r&&n?g(l,f,c+a,h+a)<=1:r?g(l,f,c,h)<=1:!!n&&1<=g(l,f,c-a,h-a)&&g(l,f,c+a,h+a)<=1},m.prototype.createPath=function(t){var e,n,r,i=this.attr(),o=i.x,a=i.y,s=i.rx,u=i.ry;t.beginPath(),t.ellipse?t.ellipse(o,a,s,u,0,0,2*Math.PI,!1):(e=u<s?s:u,n=u<s?1:s/u,r=u<s?u/s:1,t.save(),t.translate(o,a),t.scale(n,r),t.arc(0,0,e,0,2*Math.PI),t.restore(),t.closePath())},m);function m(){return null!==v&&v.apply(this,arguments)||this}function b(t){return t instanceof HTMLElement&&Object(j.k)(t.nodeName)&&\"CANVAS\"===t.nodeName.toUpperCase()}var x,w=(x=l,Object(a.__extends)(_,x),_.prototype.getDefaultAttrs=function(){var t=x.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,width:0,height:0})},_.prototype.initAttrs=function(t){this._setImage(t.img)},_.prototype.isStroke=function(){return!1},_.prototype.isOnlyHitBox=function(){return!0},_.prototype._afterLoading=function(){var t;!0===this.get(\"toDraw\")&&((t=this.get(\"canvas\"))?t.draw():this.createPath(this.get(\"context\")))},_.prototype._setImage=function(t){var e,n=this,r=this.attrs;Object(j.k)(t)?((e=new Image).onload=function(){if(n.destroyed)return!1;n.attr(\"img\",e),n.set(\"loading\",!1),n._afterLoading();var t=n.get(\"callback\");t&&t.call(n)},e.src=t,e.crossOrigin=\"Anonymous\",this.set(\"loading\",!0)):t instanceof Image?(r.width||(r.width=t.width),r.height||(r.height=t.height)):b(t)&&(r.width||(r.width=Number(t.getAttribute(\"width\"))),r.height||(r.height,Number(t.getAttribute(\"height\"))))},_.prototype.onAttrChange=function(t,e,n){x.prototype.onAttrChange.call(this,t,e,n),\"img\"===t&&this._setImage(e)},_.prototype.createPath=function(t){if(this.get(\"loading\"))return this.set(\"toDraw\",!0),void this.set(\"context\",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,u=e.swidth,c=e.sheight,h=e.img;(h instanceof Image||b(h))&&(Object(j.i)(a)||Object(j.i)(s)||Object(j.i)(u)||Object(j.i)(c)?t.drawImage(h,n,r,i,o):t.drawImage(h,a,s,u,c,n,r,i,o))},_),M=n(22),S=n.n(M);function _(){return null!==x&&x.apply(this,arguments)||this}function P(t,e,n,r,i,o,a){var s=Math.min(t,n),u=Math.max(t,n),c=Math.min(e,r),h=Math.max(e,r),l=i/2;return s-l<=o&&o<=u+l&&c-l<=a&&a<=h+l&&S.a.pointToLine(t,e,n,r,o,a)<=i/2}var O,C,k=n(21),E=(C=l,Object(a.__extends)(X,C),X.prototype.getDefaultAttrs=function(){var t=C.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},X.prototype.initAttrs=function(t){this.setArrow()},X.prototype.onAttrChange=function(t,e,n){C.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},X.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&k.b(this,t,r,i,e,n),a&&k.a(this,t,e,n,r,i)},X.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return P(o.x1,o.y1,o.x2,o.y2,i,t,e)},X.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=k.c(n,r,i,o,e.startArrow.d)),s&&s.d&&(c=k.c(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+u.dx,r+u.dy),t.lineTo(i-c.dx,o-c.dy)},X.prototype.afterDrawPath=function(t){var e=this.get(\"startArrowShape\"),n=this.get(\"endArrowShape\");e&&e.draw(t),n&&n.draw(t)},X.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return S.a.length(e,n,r,i)},X.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return S.a.pointAt(n,r,i,o,t)},X),I=n(0),A=n(63),T=n.n(A),N={circle:function(t,e,n){return[[\"M\",t-n,e],[\"A\",n,n,0,1,0,t+n,e],[\"A\",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[[\"M\",t-n,e-n],[\"L\",t+n,e-n],[\"L\",t+n,e+n],[\"L\",t-n,e+n],[\"Z\"]]},diamond:function(t,e,n){return[[\"M\",t-n,e],[\"L\",t,e-n],[\"L\",t+n,e],[\"L\",t,e+n],[\"Z\"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[[\"M\",t-n,e+r],[\"L\",t,e-r],[\"L\",t+n,e+r],[\"Z\"]]},\"triangle-down\":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[[\"M\",t-n,e-r],[\"L\",t+n,e-r],[\"L\",t,e+r],[\"Z\"]]}},B=(O=l,Object(a.__extends)(F,O),F.prototype.initAttrs=function(t){this._resetParamsCache()},F.prototype._resetParamsCache=function(){this.set(\"paramsCache\",{})},F.prototype.onAttrChange=function(t,e,n){O.prototype.onAttrChange.call(this,t,e,n),-1!==[\"symbol\",\"x\",\"y\",\"r\",\"radius\"].indexOf(t)&&this._resetParamsCache()},F.prototype.isOnlyHitBox=function(){return!0},F.prototype._getR=function(t){return Object(I.isNil)(t.r)?t.radius:t.r},F.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.symbol||\"circle\",o=this._getR(e),a=Object(j.h)(i)?(a=(t=i)(n,r,o),T()(a)):(t=F.Symbols[i])(n,r,o);return t?a:(console.warn(i+\" marker is not supported.\"),null)},F.prototype.createPath=function(t){var e=this._getPath(),n=this.get(\"paramsCache\");Object(u.e)(this,t,{path:e},n)},F.Symbols=N,F),D=n(46),L=n.n(D),R=n(118),z=n.n(R),Y=n(116);function F(){return null!==O&&O.apply(this,arguments)||this}function X(){return null!==C&&C.apply(this,arguments)||this}function G(t,e,n){var r=Object(Y.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}function V(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function q(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o,a,s,u=0;u<i;u++){var c=t[u],h=t[(u+1)%i];if(a=h,((s=[e,n])[0]-(o=c)[0])*(a[1]-o[1])==(a[0]-o[0])*(s[1]-o[1])&&Math.min(o[0],a[0])<=s[0]&&s[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=s[1]&&s[1]<=Math.max(o[1],a[1]))return!0;0<V(c[1]-n)!=0<V(h[1]-n)&&V(e-(n-c[1])*(c[0]-h[0])/(c[1]-h[1])-c[0])<0&&(r=!r)}return r}var H=n(117),W=n.n(H);function U(t,e,n,r,i,o,a,s){var u=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(u<r||i<u)return!1;var c={x:t+n*Math.cos(u),y:e+n*Math.sin(u)};return Object(j.b)(c.x,c.y,a,s)<=o/2}var Z=n(16),$=n(82),K=Z.ext.transform,Q=Object(a.__assign)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if(\"C\"===i||\"A\"===i||\"Q\"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];\"M\"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):\"Z\"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return 0<i.length&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var u=t[s],c=u.currentPoint,h=u.params,l=u.prePoint,f=u.box;if(!f||Object(j.e)(f.x-a,f.y-a,f.width+e,f.height+e,n,r)){switch(u.command){case\"L\":case\"Z\":o=P(l[0],l[1],c[0],c[1],e,n,r);break;case\"Q\":o=W.a.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],n,r)<=e/2;break;case\"C\":o=L.a.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],h[5],h[6],n,r,i)<=e/2;break;case\"A\":var d=u.arcParams,p=d.cx,g=d.cy,v=d.rx,y=d.ry,m=d.startAngle,b=d.endAngle,x=d.xRotation,w=[n,r,1],M=y<v?v:y,S=K(null,[[\"t\",-p,-g],[\"r\",-x],[\"s\",1/(y<v?1:v/y),1/(y<v?y/v:1)]]);$.transformMat3(w,w,S),o=U(0,0,M,m,b,e,w[0],w[1])}if(o)break}}return o}},s.PathUtil);function J(t,e,n){for(var r=!1,i=0;i<t.length&&!(r=q(t[i],e,n));i++);return r}var tt,et=(tt=l,Object(a.__extends)(nt,tt),nt.prototype.getDefaultAttrs=function(){var t=tt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{startArrow:!1,endArrow:!1})},nt.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},nt.prototype.onAttrChange=function(t,e,n){tt.prototype.onAttrChange.call(this,t,e,n),\"path\"===t&&this._setPathArr(e),this.setArrow()},nt.prototype._setPathArr=function(t){this.attrs.path=T()(t);var e=Q.hasArc(t);this.set(\"hasArc\",e),this.set(\"paramsCache\",{}),this.set(\"segments\",null),this.set(\"curve\",null),this.set(\"tCache\",null),this.set(\"totalLength\",null)},nt.prototype.getSegments=function(){var t=this.get(\"segements\");return t||(t=z()(this.attr(\"path\")),this.set(\"segments\",t)),t},nt.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&(t=this.getStartTangent(),k.b(this,e,t[0][0],t[0][1],t[1][0],t[1][1])),r&&(t=this.getEndTangent(),k.a(this,e,t[0][0],t[0][1],t[1][0],t[1][1]))},nt.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o,a,s,u=this.getSegments(),c=this.get(\"hasArc\"),h=!1;return n&&(o=this.getTotalLength(),h=Q.isPointInStroke(u,i,t,e,o)),!h&&r&&(h=c?G(this,t,e):(a=this.attr(\"path\"),J((s=Q.extractPolygons(a)).polygons,t,e)||J(s.polylines,t,e))),h},nt.prototype.createPath=function(t){var e=this.attr(),n=this.get(\"paramsCache\");Object(u.e)(this,t,e,n)},nt.prototype.afterDrawPath=function(t){var e=this.get(\"startArrowShape\"),n=this.get(\"endArrowShape\");e&&e.draw(t),n&&n.draw(t)},nt.prototype.getTotalLength=function(){var t=this.get(\"totalLength\");return Object(I.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get(\"totalLength\")):t},nt.prototype.getPoint=function(n){var r,i,t=this.get(\"tCache\");t||(this._calculateCurve(),this._setTcache(),t=this.get(\"tCache\"));var e=this.get(\"curve\");if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;Object(I.each)(t,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)});var o=e[i];if(Object(I.isNil)(o)||Object(I.isNil)(i))return null;var a=o.length,s=e[i+1];return L.a.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],r)},nt.prototype._calculateCurve=function(){var t=this.attr().path;this.set(\"curve\",Q.pathToCurve(t))},nt.prototype._setTcache=function(){var n,r,i,o,a=0,s=0,u=[],c=this.get(\"curve\");c&&(Object(I.each)(c,function(t,e){i=c[e+1],o=t.length,i&&(a+=L.a.length(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6])||0)}),this.set(\"totalLength\",a),0!==a?(Object(I.each)(c,function(t,e){i=c[e+1],o=t.length,i&&((n=[])[0]=s/a,r=L.a.length(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]),s+=r||0,n[1]=s/a,u.push(n))}),this.set(\"tCache\",u)):this.set(\"tCache\",[]))},nt.prototype.getStartTangent=function(){var t,e,n,r,i=this.getSegments();return 1<i.length&&(t=i[0].currentPoint,e=i[1].currentPoint,r=[],(n=i[1].startTangent)?r.push([t[0]-n[0],t[1]-n[1]]):r.push([e[0],e[1]]),r.push([t[0],t[1]])),r},nt.prototype.getEndTangent=function(){var t,e,n,r,i=this.getSegments(),o=i.length;return 1<o&&(t=i[o-2].currentPoint,e=i[o-1].currentPoint,r=[],(n=i[o-1].endTangent)?r.push([e[0]-n[0],e[1]-n[1]]):r.push([t[0],t[1]]),r.push([e[0],e[1]])),r},nt);function nt(){return null!==tt&&tt.apply(this,arguments)||this}function rt(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++)if(P(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0;if(i){var s=t[0],u=t[o-1];if(P(s[0],s[1],u[0],u[1],e,n,r))return!0}return!1}var it,ot,at=(ot=l,Object(a.__extends)(ft,ot),ft.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=rt(o,i,t,e,!0)),!a&&r&&(a=q(o,t,e)),a},ft.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},ft),st=n(119),ut=n.n(st),ct=(it=l,Object(a.__extends)(lt,it),lt.prototype.getDefaultAttrs=function(){var t=it.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{startArrow:!1,endArrow:!1})},lt.prototype.initAttrs=function(t){this.setArrow()},lt.prototype.onAttrChange=function(t,e,n){it.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),-1!==[\"points\"].indexOf(t)&&this._resetCache()},lt.prototype._resetCache=function(){this.set(\"totalLength\",null),this.set(\"tCache\",null)},lt.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&k.b(this,t,n[1][0],n[1][1],a,s),i&&k.a(this,t,n[o-2][0],n[o-2][1],u,c)},lt.prototype.isFill=function(){return!1},lt.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&rt(this.attr().points,i,t,e,!1)},lt.prototype.isStroke=function(){return!0},lt.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],h=n[o-1][1];r&&r.d&&(s+=(a=k.c(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy),i&&i.d&&(c-=(a=k.c(n[o-2][0],n[o-2][1],c,h,i.d)).dx,h-=a.dy),t.beginPath(),t.moveTo(s,u);for(var l=0;l<o-1;l++){var f=n[l];t.lineTo(f[0],f[1])}t.lineTo(c,h)}},lt.prototype.afterDrawPath=function(t){var e=this.get(\"startArrowShape\"),n=this.get(\"endArrowShape\");e&&e.draw(t),n&&n.draw(t)},lt.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get(\"totalLength\");return Object(I.isNil)(e)?(this.set(\"totalLength\",ut.a.length(t)),this.get(\"totalLength\")):e},lt.prototype.getPoint=function(n){var r,i,t=this.attr().points,e=this.get(\"tCache\");return e||(this._setTcache(),e=this.get(\"tCache\")),Object(I.each)(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),S.a.pointAt(t[i][0],t[i][1],t[i+1][0],t[i+1][1],r)},lt.prototype._setTcache=function(){var n,r,i,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(o=0,a=[],Object(I.each)(s,function(t,e){s[e+1]&&((r=[])[0]=o/n,i=S.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=i,r[1]=o/n,a.push(r))}),this.set(\"tCache\",a)))},lt.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},lt.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},lt),ht=n(124);function lt(){return null!==it&&it.apply(this,arguments)||this}function ft(){return null!==ot&&ot.apply(this,arguments)||this}var dt,pt,gt=(pt=l,Object(a.__extends)(bt,pt),bt.prototype.getDefaultAttrs=function(){var t=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},bt.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o,a,s,u,c,h,l,f,d=this.attr(),p=d.x,g=d.y,v=d.width,y=d.height,m=d.radius;if(m){var b=!1;return n&&(u=y,b=P((o=p)+(c=m),a=g,o+(s=v)-c,a,h=i,l=t,f=e)||P(o+s,a+c,o+s,a+u-c,h,l,f)||P(o+s-c,a+u,o+c,a+u,h,l,f)||P(o,a+u-c,o,a+c,h,l,f)||U(o+s-c,a+c,c,1.5*Math.PI,2*Math.PI,h,l,f)||U(o+s-c,a+u-c,c,0,.5*Math.PI,h,l,f)||U(o+c,a+u-c,c,.5*Math.PI,Math.PI,h,l,f)||U(o+c,a+c,c,Math.PI,1.5*Math.PI,h,l,f)),!b&&r&&(b=G(this,t,e)),b}var x,w,M,S,_,O,C,k,E=i/2;return r&&n?Object(j.e)(p-E,g-E,v+E,y+E,t,e):r?Object(j.e)(p,g,v,y,t,e):n?(x=p,w=g,M=v,S=y,O=t,C=e,k=(_=i)/2,Object(j.e)(x-k,w-k,M,_,O,C)||Object(j.e)(x+M-k,w-k,_,S,O,C)||Object(j.e)(x+k,w+S-k,M,_,O,C)||Object(j.e)(x-k,w+k,_,S,O,C)):void 0},bt.prototype.createPath=function(t){var e,n,r,i,o,a=this.attr(),s=a.x,u=a.y,c=a.width,h=a.height,l=a.radius;t.beginPath(),0===l?t.rect(s,u,c,h):(n=(e=Object(ht.a)(l))[0],r=e[1],i=e[2],o=e[3],t.moveTo(s+n,u),t.lineTo(s+c-r,u),0!==r&&t.arc(s+c-r,u+r,r,-Math.PI/2,0),t.lineTo(s+c,u+h-i),0!==i&&t.arc(s+c-i,u+h-i,i,0,Math.PI/2),t.lineTo(s+o,u+h),0!==o&&t.arc(s+o,u+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI),t.closePath())},bt),vt=n(85),yt=(dt=l,Object(a.__extends)(mt,dt),mt.prototype.getDefaultAttrs=function(){var t=dt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:\"sans-serif\",fontStyle:\"normal\",fontWeight:\"normal\",fontVariant:\"normal\",textAlign:\"start\",textBaseline:\"bottom\"})},mt.prototype.isOnlyHitBox=function(){return!0},mt.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},mt.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(vt.assembleFont)(t)},mt.prototype._setText=function(t){var e=null;Object(j.k)(t)&&-1!==t.indexOf(\"\\n\")&&(e=t.split(\"\\n\")),this.set(\"textArr\",e)},mt.prototype.onAttrChange=function(t,e,n){dt.prototype.onAttrChange.call(this,t,e,n),t.startsWith(\"font\")&&this._assembleFont(),\"text\"===t&&this._setText(e)},mt.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=+t.fontSize;return e?e-n:.14*n},mt.prototype._drawTextArr=function(n,t,r){var i,e=this.attrs,o=e.textBaseline,a=e.x,s=e.y,u=+e.fontSize,c=this._getSpaceingY(),h=Object(vt.getTextHeight)(e.text,e.fontSize,e.lineHeight);Object(j.c)(t,function(t,e){i=s+e*(c+u)-h+u,\"middle\"===o&&(i+=h-u-(h-u)/2),\"top\"===o&&(i+=h-u),r?n.fillText(t,a,i):n.strokeText(t,a,i)})},mt.prototype._drawText=function(t,e){var n,r=this.attr(),i=r.x,o=r.y,a=this.get(\"textArr\");a?this._drawTextArr(t,a,e):(n=r.text,e?t.fillText(n,i,o):t.strokeText(n,i,o))},mt.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&0<n&&(Object(j.i)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(Object(j.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},mt.prototype.fill=function(t){this._drawText(t,!0)},mt.prototype.stroke=function(t){this._drawText(t,!1)},mt);function mt(){return null!==dt&&dt.apply(this,arguments)||this}function bt(){return null!==pt&&pt.apply(this,arguments)||this}},function(t,e,n){var r=n(182),i=n(138),o=n(43);t.exports=function(t){return(o(t)?r:i)(t)}},function(t,e,n){var r=n(392),i=n(398);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(59),i=n(394),o=n(395),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":(a&&a in Object(t)?i:o)(t)}},function(t,e,n){var r=n(182),i=n(418),o=n(43);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(0).mix;t.exports={assign:r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){return(t%e+e)%e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=Math.PI/180;e.default=function(t){return r*t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(e,n){if(e[\"_wrap_\"+n])return e[\"_wrap_\"+n];function t(t){e[n](t)}return e[\"_wrap_\"+n]=t}},function(t,e,n){\"use strict\";var r=Object.prototype.toString;t.exports=function(t){return r.call(t).endsWith(\"Array]\")}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(38).Symbol;t.exports=r},function(t,u,c){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var n=c(38),r=c(414),i=\"object\"==e(u)&&u&&!u.nodeType&&u,o=i&&\"object\"==e(t)&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}).call(this,c(135)(t))},function(t,e,n){var r=n(423),i=n(132),o=n(424),a=n(191),s=n(425),u=n(50),c=n(180),h=c(r),l=c(i),f=c(o),d=c(a),p=c(s),g=u;(r&&\"[object DataView]\"!=g(new r(new ArrayBuffer(1)))||i&&\"[object Map]\"!=g(new i)||o&&\"[object Promise]\"!=g(o.resolve())||a&&\"[object Set]\"!=g(new a)||s&&\"[object WeakMap]\"!=g(new s))&&(g=function(t){var e=u(t),n=\"[object Object]\"==e?t.constructor:void 0,r=n?c(n):\"\";if(r)switch(r){case h:return\"[object DataView]\";case l:return\"[object Map]\";case f:return\"[object Promise]\";case d:return\"[object Set]\";case p:return\"[object WeakMap]\"}return e}),t.exports=g},function(t,e,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var i=n(50),o=n(41);t.exports=function(t){return\"symbol\"==r(t)||o(t)&&\"[object Symbol]\"==i(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var M=n(347),S=/[a-z]/;function _(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=M.default(t);if(!e||!e.length)return[[\"M\",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(S.test(i)||0<=[\"V\",\"H\",\"T\",\"S\"].indexOf(i)){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,u=0,c=0,h=0,l=e[0];\"M\"!==l[0]&&\"m\"!==l[0]||(u=a=+l[1],c=s=+l[2],h++,o[0]=[\"M\",a,s]),r=h;for(var f=e.length;r<f;r++){var d=e[r],p=o[r-1],g=[],v=(i=d[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case\"A\":g[1]=d[1],g[2]=d[2],g[3]=d[3],g[4]=d[4],g[5]=d[5],g[6]=+d[6]+a,g[7]=+d[7]+s;break;case\"V\":g[1]=+d[1]+s;break;case\"H\":g[1]=+d[1]+a;break;case\"M\":u=+d[1]+a,c=+d[2]+s;break;default:for(var y=1,m=d.length;y<m;y++)g[y]=+d[y]+(y%2?a:s)}else g=e[r];switch(v){case\"Z\":a=+u,s=+c;break;case\"H\":g=[\"L\",a=g[1],s];break;case\"V\":g=[\"L\",a,s=g[1]];break;case\"T\":a=g[1],s=g[2];var b=_([p[1],p[2]],[p[3],p[4]]),g=[\"Q\",b[0],b[1],a,s];break;case\"S\":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=_([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=[\"C\",w[0],w[1],g[1],g[2],a,s];break;case\"M\":u=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}},function(t,e,n){\"use strict\";var r,i=n(1),o=n(19),a=n(47),s=n(17),h=n(0),l=n(5),u=(r=o.AbstractGroup,Object(i.__extends)(c,r),c.prototype.onCanvasChange=function(t){Object(s.h)(this,t)},c.prototype.getShapeBase=function(){return a},c.prototype.getGroupBase=function(){return c},c.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},c.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],r=[];Object(h.each)(t,function(t){var e=t.cfg.cacheCanvasBBox;e&&t.cfg.isInView&&(n.push(e.minX,e.maxX),r.push(e.minY,e.maxY))});var e,i,o,a,s,u,c=null;n.length?(e=Math.min.apply(null,n),i=Math.max.apply(null,n),c={minX:e,minY:o=Math.min.apply(null,r),x:e,y:o,maxX:i,maxY:a=Math.max.apply(null,r),width:i-e,height:a-o},(s=this.cfg.canvas)&&(u=s.getViewRange(),this.set(\"isInView\",Object(l.f)(c,u)))):this.set(\"isInView\",!1),this.set(\"cacheCanvasBBox\",c)},c.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),Object(s.a)(t,this),this._applyClip(t,this.getClip()),Object(s.d)(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set(\"hasChanged\",!1)},c.prototype.skipDraw=function(){this.set(\"cacheCanvasBBox\",null),this.set(\"hasChanged\",!1)},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.a=u},function(t,e,n){\"use strict\";var r=(i.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},i.prototype.once=function(t,e){return this.on(t,e,!0),this},i.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e,n,r=t.length,i=0;i<r;i++){t[i]&&(n=(e=t[i]).callback,e.once&&(t.splice(i,1),0===t.length&&delete a._events[o],r--,i--),n.apply(a,s))}}var n=this._events[o]||[],r=this._events[\"*\"]||[];e(n),e(r)},i.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},i.prototype.getEvents=function(){return this._events},i);function i(){this._events={}}e.a=r},function(t,e){var s=[],u=[];function n(t,e){if(e=e||{},void 0===t)throw new Error(\"insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).\");var n,r,i=!0===e.prepend?\"prepend\":\"append\",o=void 0!==e.container?e.container:document.querySelector(\"head\"),a=s.indexOf(o);return-1===a&&(a=s.push(o)-1,u[a]={}),void 0!==u[a]&&void 0!==u[a][i]?n=u[a][i]:(n=u[a][i]=((r=document.createElement(\"style\")).setAttribute(\"type\",\"text/css\"),r),\"prepend\"==i?o.insertBefore(n,o.childNodes[0]):o.appendChild(n)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),n.styleSheet?n.styleSheet.cssText+=t:n.textContent+=t,n}t.exports=n,t.exports.insertCss=n},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o,r=n(1),i=n(19),a=n(328),s=n(89),u=n(171),c=n(24),h=n(75),l=(o=i.AbstractCanvas,r.__extends(f,o),f.prototype.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return t.renderer=\"canvas\",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},f.prototype.onCanvasChange=function(t){\"attr\"!==t&&\"sort\"!==t&&\"changeSize\"!==t||(this.set(\"refreshElements\",[this]),this.draw())},f.prototype.getShapeBase=function(){return s},f.prototype.getGroupBase=function(){return u.default},f.prototype.getPixelRatio=function(){var t=this.get(\"pixelRatio\")||c.getPixelRatio();return 1<=t?Math.ceil(t):1},f.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},f.prototype.createDom=function(){var t=document.createElement(\"canvas\"),e=t.getContext(\"2d\");return this.set(\"context\",e),t},f.prototype.setDOMSize=function(t,e){o.prototype.setDOMSize.call(this,t,e);var n=this.get(\"context\"),r=this.get(\"el\"),i=this.getPixelRatio();r.width=i*t,r.height=i*e,1<i&&n.scale(i,i)},f.prototype.clear=function(){o.prototype.clear.call(this),this._clearFrame();var t=this.get(\"context\"),e=this.get(\"el\");t.clearRect(0,0,e.width,e.height)},f.prototype.getShape=function(t,e){return this.get(\"quickHit\")?a.getShape(this,t,e):o.prototype.getShape.call(this,t,e,null)},f.prototype._getRefreshRegion=function(){var t,e=this.get(\"refreshElements\"),n=this.getViewRange();return e.length&&e[0]===this?t=n:(t=h.getMergedRegion(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get(\"clipView\")&&(t=h.mergeView(t,n))),t},f.prototype.refreshElement=function(t){this.get(\"refreshElements\").push(t)},f.prototype._clearFrame=function(){var t=this.get(\"drawFrame\");t&&(c.clearAnimationFrame(t),this.set(\"drawFrame\",null),this.set(\"refreshElements\",[]))},f.prototype.draw=function(){var t=this.get(\"drawFrame\");this.get(\"autoDraw\")&&t||this._startDraw()},f.prototype._drawAll=function(){var t=this.get(\"context\"),e=this.get(\"el\"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),h.applyAttrsToContext(t,this),h.drawChildren(t,n),this.set(\"refreshElements\",[])},f.prototype._drawRegion=function(){var t=this.get(\"context\"),e=this.get(\"refreshElements\"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),h.applyAttrsToContext(t,this),h.checkRefresh(this,n,r),h.drawChildren(t,n,r),t.restore()):e.length&&h.clearChanged(e),c.each(e,function(t){t.get(\"hasChanged\")&&t.set(\"hasChanged\",!1)}),this.set(\"refreshElements\",[])},f.prototype._startDraw=function(){var t=this,e=this.get(\"drawFrame\");e||(e=c.requestAnimationFrame(function(){t.get(\"localRefresh\")?t._drawRegion():t._drawAll(),t.set(\"drawFrame\",null)}),this.set(\"drawFrame\",e))},f.prototype.skipDraw=function(){},f);function f(){return null!==o&&o.apply(this,arguments)||this}e.default=l},function(t,e,n){\"use strict\";function r(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.d(e,\"b\",function(){return r}),e.a=function(e,n){n=n||[];var r,i=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(r=0;r<i;++r)o[r]=e[r]*(1-t)+n[r]*t;return o}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(19),a=n(25),s=n(129),u=n(76),c=n(36),h=n(130),l=n(176),f=n(370),d=(r=o.AbstractCanvas,i.__extends(p,r),p.prototype.getShapeBase=function(){return h},p.prototype.getGroupBase=function(){return l.default},p.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!a.SHAPE_TO_TAGS[r.tagName]){for(var i=r.parentNode;i&&!a.SHAPE_TO_TAGS[i.tagName];)i=i.parentNode;r=i}return this.find(function(t){return t.get(\"el\")===r})},p.prototype.createDom=function(){var t=c.createSVGElement(\"svg\"),e=new f.default(t);return t.setAttribute(\"width\",\"\"+this.get(\"width\")),t.setAttribute(\"height\",\"\"+this.get(\"height\")),this.set(\"context\",e),t},p.prototype.onCanvasChange=function(t){var n,e,r=this.get(\"context\"),i=this.get(\"el\");\"sort\"===t?(n=this.get(\"children\"))&&n.length&&c.sortDom(this,function(t,e){return n.indexOf(t)-n.indexOf(e)?1:0}):\"clear\"===t?i&&(i.innerHTML=\"\",(e=r.el).innerHTML=\"\",i.appendChild(e)):\"matrix\"===t?u.setTransform(this):\"clip\"===t?u.setClip(this,r):\"changeSize\"===t&&(i.setAttribute(\"width\",\"\"+this.get(\"width\")),i.setAttribute(\"height\",\"\"+this.get(\"height\")))},p.prototype.draw=function(){var t=this.get(\"context\"),e=this.getChildren();u.setClip(this,t),e.length&&s.drawChildren(t,e)},p);function p(t){return r.call(this,i.__assign(i.__assign({},t),{autoDraw:!0,renderer:\"svg\"}))||this}e.default=d},function(t,e,n){\"use strict\";function r(t){return+t}function i(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function s(t){return t*t*t}function u(t){return--t*t*t+1}function c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(e),n.d(e,\"easeLinear\",function(){return r}),n.d(e,\"easeQuad\",function(){return a}),n.d(e,\"easeQuadIn\",function(){return i}),n.d(e,\"easeQuadOut\",function(){return o}),n.d(e,\"easeQuadInOut\",function(){return a}),n.d(e,\"easeCubic\",function(){return c}),n.d(e,\"easeCubicIn\",function(){return s}),n.d(e,\"easeCubicOut\",function(){return u}),n.d(e,\"easeCubicInOut\",function(){return c}),n.d(e,\"easePoly\",function(){return f}),n.d(e,\"easePolyIn\",function(){return h}),n.d(e,\"easePolyOut\",function(){return l}),n.d(e,\"easePolyInOut\",function(){return f}),n.d(e,\"easeSin\",function(){return y}),n.d(e,\"easeSinIn\",function(){return g}),n.d(e,\"easeSinOut\",function(){return v}),n.d(e,\"easeSinInOut\",function(){return y}),n.d(e,\"easeExp\",function(){return w}),n.d(e,\"easeExpIn\",function(){return b}),n.d(e,\"easeExpOut\",function(){return x}),n.d(e,\"easeExpInOut\",function(){return w}),n.d(e,\"easeCircle\",function(){return _}),n.d(e,\"easeCircleIn\",function(){return M}),n.d(e,\"easeCircleOut\",function(){return S}),n.d(e,\"easeCircleInOut\",function(){return _}),n.d(e,\"easeBounce\",function(){return k}),n.d(e,\"easeBounceIn\",function(){return C}),n.d(e,\"easeBounceOut\",function(){return k}),n.d(e,\"easeBounceInOut\",function(){return E}),n.d(e,\"easeBack\",function(){return I}),n.d(e,\"easeBackIn\",function(){return j}),n.d(e,\"easeBackOut\",function(){return P}),n.d(e,\"easeBackInOut\",function(){return I}),n.d(e,\"easeElastic\",function(){return N}),n.d(e,\"easeElasticIn\",function(){return T}),n.d(e,\"easeElasticOut\",function(){return N}),n.d(e,\"easeElasticInOut\",function(){return B});var h=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),l=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),f=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),d=Math.PI,p=d/2;function g(t){return 1==+t?1:1-Math.cos(t*p)}function v(t){return Math.sin(t*p)}function y(t){return(1-Math.cos(d*t))/2}function m(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function b(t){return m(1-t)}function x(t){return 1-m(t)}function w(t){return((t*=2)<=1?m(1-t):2-m(t-1))/2}function M(t){return 1-Math.sqrt(1-t*t)}function S(t){return Math.sqrt(1- --t*t)}function _(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var O=7.5625;function C(t){return 1-k(1-t)}function k(t){return(t=+t)<4/11?O*t*t:t<8/11?O*(t-=6/11)*t+.75:t<10/11?O*(t-=9/11)*t+.9375:O*(t-=21/22)*t+63/64}function E(t){return((t*=2)<=1?1-k(1-t):k(t-1)+1)/2}var j=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),P=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),I=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),A=2*Math.PI,T=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=A);function t(t){return n*m(- --t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*A)},t.period=function(t){return e(n,t)},t}(1,.3),N=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=A);function t(t){return 1-n*m(t=+t)*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*A)},t.period=function(t){return e(n,t)},t}(1,.3),B=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=A);function t(t){return((t=2*t-1)<0?n*m(-t)*Math.sin((i-t)/r):2-n*m(t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*A)},t.period=function(t){return e(n,t)},t}(1,.3)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n){if(t){if(\"function\"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(\"function\"==typeof t.attachEvent)return t.attachEvent(\"on\"+e,n),{remove:function(){t.detachEvent(\"on\"+e,n)}}}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(125),i=n(34);e.default=function(t){if(!r.default(t)||!i.default(t,\"Object\"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(8);e.default=function(t){return r.default(t)?\"\":t.toString()}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.mergeView=e.getMergedRegion=e.getRefreshRegion=e.refreshElement=e.drawPath=e.clearChanged=e.checkChildrenRefresh=e.checkRefresh=e.drawChildren=e.applyAttrsToContext=void 0;var a=n(0),s=n(168),j=n(329),u=n(24),P=n(90),c={fill:\"fillStyle\",stroke:\"strokeStyle\",opacity:\"globalAlpha\"};function h(t,e){for(var n,r,i,o=0;o<t.length;o++){var a,s=t[o];s.cfg.visible&&(s.cfg.hasChanged?(s.cfg.refresh=!0,s.isGroup()&&l(s.cfg.children,e)):s.cfg.refresh?s.isGroup()&&h(s.cfg.children,e):(r=e,i=void 0,i=(n=s).cfg.cacheCanvasBBox,a=n.cfg.isInView&&i&&u.intersectRect(i,r),(s.cfg.refresh=a)&&s.isGroup()&&h(s.cfg.children,e)))}}function l(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&l(r.get(\"children\"),e)}}function f(t){var e,n,r,i,o;return t.destroyed?e=t._cacheCanvasBBox:(r=(n=t.get(\"cacheCanvasBBox\"))&&!(!n.width||!n.height),o=(i=t.getCanvasBBox())&&!(!i.width||!i.height),r&&o?e=u.mergeRegion(n,i):r?e=n:o&&(e=i)),e}e.applyAttrsToContext=function(t,e){var n,r=e.attr();for(n in r){var i=r[n],o=c[n]?c[n]:n;\"matrix\"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):\"lineDash\"===o&&t.setLineDash?a.isArray(i)&&t.setLineDash(i):(\"strokeStyle\"===o||\"fillStyle\"===o?i=s.parseStyle(t,e,i):\"globalAlpha\"===o&&(i*=t.globalAlpha),t[o]=i)}},e.drawChildren=function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}},e.checkRefresh=function(n,t,e){var r=n.get(\"refreshElements\");a.each(r,function(t){if(t!==n)for(var e=t.cfg.parent;e&&e!==n&&!e.cfg.refresh;)e.cfg.refresh=!0,e=e.cfg.parent}),(r[0]===n?l:h)(t,e)},e.checkChildrenRefresh=h,e.clearChanged=function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.hasChanged=!1,r.isGroup()&&t(r.cfg.children)}},e.drawPath=function(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow,s=[0,0],u=[0,0],c={dx:0,dy:0};e.beginPath();for(var h=0;h<i.length;h++){var l,f=i[h],d=f[0];0===h&&o&&o.d?(l=t.getStartTangent(),c=P.getShortenOffset(l[0][0],l[0][1],l[1][0],l[1][1],o.d)):h===i.length-2&&\"Z\"===i[h+1][0]&&a&&a.d?\"Z\"===i[h+1][0]&&(l=t.getEndTangent(),c=P.getShortenOffset(l[0][0],l[0][1],l[1][0],l[1][1],a.d)):h===i.length-1&&a&&a.d&&\"Z\"!==i[0]&&(l=t.getEndTangent(),c=P.getShortenOffset(l[0][0],l[0][1],l[1][0],l[1][1],a.d));var p,g=c.dx,v=c.dy;switch(d){case\"M\":e.moveTo(f[1]-g,f[2]-v),u=[f[1],f[2]];break;case\"L\":e.lineTo(f[1]-g,f[2]-v);break;case\"Q\":e.quadraticCurveTo(f[1],f[2],f[3]-g,f[4]-v);break;case\"C\":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-g,f[6]-v);break;case\"A\":var y=void 0;r?(y=r[h])||(y=j.default(s,f),r[h]=y):y=j.default(s,f);var m,b,x,w=y.cx,M=y.cy,S=y.rx,_=y.ry,O=y.startAngle,C=y.endAngle,k=y.xRotation,E=y.sweepFlag;e.ellipse?e.ellipse(w,M,S,_,k,O,C,1-E):(m=_<S?S:_,b=_<S?1:S/_,x=_<S?_/S:1,e.translate(w,M),e.rotate(k),e.scale(b,x),e.arc(0,0,m,O,C,1-E),e.scale(1/b,1/x),e.rotate(-k),e.translate(-w,-M));break;case\"Z\":e.closePath()}s=\"Z\"===d?u:[f[(p=f.length)-2],f[p-1]]}},e.refreshElement=function(t,e){var n=t.get(\"canvas\");n&&(\"remove\"===e&&(t._cacheCanvasBBox=t.get(\"cacheCanvasBBox\")),t.get(\"hasChanged\")||(t.set(\"hasChanged\",!0),t.cfg.parent&&t.cfg.parent.get(\"hasChanged\")||(n.refreshElement(t,e,n),n.get(\"autoDraw\")&&n.draw())))},e.getRefreshRegion=f,e.getMergedRegion=function(t){if(!t.length)return null;var n=[],r=[],i=[],o=[];return a.each(t,function(t){var e=f(t);e&&(n.push(e.minX),r.push(e.minY),i.push(e.maxX),o.push(e.maxY))}),{minX:Math.min.apply(null,n),minY:Math.min.apply(null,r),maxX:Math.max.apply(null,i),maxY:Math.max.apply(null,o)}},e.mergeView=function(t,e){return t&&e&&u.intersectRect(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.setClip=e.setTransform=e.setShadow=void 0;var o=n(36);e.setShadow=function(t,e){var n,r=t.cfg.el,i=t.attr(),o={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};o.dx||o.dy||o.blur||o.color?(n=(n=e.find(\"filter\",o))||e.addShadow(o),r.setAttribute(\"filter\",\"url(#\"+n+\")\")):r.removeAttribute(\"filter\")},e.setTransform=function(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+\",\"+e[i+1]);-1===(r=r.join(\",\")).indexOf(\"NaN\")?n.setAttribute(\"transform\",\"matrix(\"+r+\")\"):console.warn(\"invalid matrix:\",e)}},e.setClip=function(t,e){var n,r=t.getClip(),i=t.get(\"el\");r?r&&!i.hasAttribute(\"clip-path\")&&(o.createDom(r),r.createPath(e),n=e.addClip(r),i.setAttribute(\"clip-path\",\"url(#\"+n+\")\")):i.removeAttribute(\"clip-path\")}},function(t,e,n){var r=n(50),i=n(31);t.exports=function(t){if(!i(t))return!1;var e=r(t);return\"[object Function]\"==e||\"[object GeneratorFunction]\"==e||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e}},function(t,e,n){var c=n(97),h=n(98);t.exports=function(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),(i?h:c)(n,s,u)}return n}},function(t,e,n){var r=n(413),i=n(41),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,\"callee\")&&!s.call(t,\"callee\")};t.exports=u},function(t,e,n){var r=n(415),i=n(100),o=n(137),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(62);t.exports=function(t){if(\"string\"==typeof t||r(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-1/0?\"-0\":e}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"create\",function(){return r}),n.d(e,\"clone\",function(){return i}),n.d(e,\"length\",function(){return o}),n.d(e,\"fromValues\",function(){return a}),n.d(e,\"copy\",function(){return s}),n.d(e,\"set\",function(){return c}),n.d(e,\"add\",function(){return h}),n.d(e,\"subtract\",function(){return l}),n.d(e,\"multiply\",function(){return f}),n.d(e,\"divide\",function(){return d}),n.d(e,\"ceil\",function(){return p}),n.d(e,\"floor\",function(){return g}),n.d(e,\"min\",function(){return v}),n.d(e,\"max\",function(){return y}),n.d(e,\"round\",function(){return m}),n.d(e,\"scale\",function(){return b}),n.d(e,\"scaleAndAdd\",function(){return x}),n.d(e,\"distance\",function(){return w}),n.d(e,\"squaredDistance\",function(){return M}),n.d(e,\"squaredLength\",function(){return S}),n.d(e,\"negate\",function(){return _}),n.d(e,\"inverse\",function(){return O}),n.d(e,\"normalize\",function(){return C}),n.d(e,\"dot\",function(){return k}),n.d(e,\"cross\",function(){return E}),n.d(e,\"lerp\",function(){return j}),n.d(e,\"hermite\",function(){return P}),n.d(e,\"bezier\",function(){return I}),n.d(e,\"random\",function(){return A}),n.d(e,\"transformMat4\",function(){return T}),n.d(e,\"transformMat3\",function(){return N}),n.d(e,\"transformQuat\",function(){return B}),n.d(e,\"rotateX\",function(){return D}),n.d(e,\"rotateY\",function(){return L}),n.d(e,\"rotateZ\",function(){return R}),n.d(e,\"angle\",function(){return z}),n.d(e,\"zero\",function(){return Y}),n.d(e,\"str\",function(){return F}),n.d(e,\"exactEquals\",function(){return X}),n.d(e,\"equals\",function(){return G}),n.d(e,\"sub\",function(){return q}),n.d(e,\"mul\",function(){return H}),n.d(e,\"div\",function(){return W}),n.d(e,\"dist\",function(){return U}),n.d(e,\"sqrDist\",function(){return Z}),n.d(e,\"len\",function(){return $}),n.d(e,\"sqrLen\",function(){return K}),n.d(e,\"forEach\",function(){return Q});var u=n(6);function r(){var t=new u.a(3);return u.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=new u.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function a(t,e,n){var r=new u.a(3);return r[0]=t,r[1]=e,r[2]=n,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function h(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function x(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function M(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function S(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function C(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return 0<o&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function k(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function E(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function j(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function P(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*h,t}function I(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*h+r[0]*l+i[0]*f,t[1]=e[1]*c+n[1]*h+r[1]*l+i[1]*f,t[2]=e[2]*c+n[2]*h+r[2]*l+i[2]*f,t}function A(t,e){e=e||1;var n=2*u.c()*Math.PI,r=2*u.c()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function T(t,e,n){var r=e[0],i=e[1],o=e[2],a=(a=n[3]*r+n[7]*i+n[11]*o+n[15])||1;return t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function N(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function B(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=i*c-o*u,l=o*s-r*c,f=r*u-i*s,d=i*f-o*l,p=o*h-r*f,g=r*l-i*h,v=2*a;return h*=v,l*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+h+d,t[1]=u+l+p,t[2]=c+f+g,t}function D(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function L(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function R(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function z(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&k(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t}function F(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function G(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=u.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=u.b*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=u.b*Math.max(1,Math.abs(i),Math.abs(s))}var V,q=l,H=f,W=d,U=w,Z=M,$=o,K=S,Q=(V=r(),function(t,e,n,r,i,o){var a,s;for(e=e||3,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)V[0]=t[a],V[1]=t[a+1],V[2]=t[a+2],i(V,V,o),t[a]=V[0],t[a+1]=V[1],t[a+2]=V[2];return t})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(4),u=n(12),c=Object.prototype.hasOwnProperty;e.default=function(t,e){if(!e||!s.default(t))return{};for(var n={},r=u.default(e)?e:function(t){return t[e]},i=0;i<t.length;i++){var o=t[i],a=r(o);c.call(n,a)?n[a].push(o):n[a]=[o]}return n}},function(t,s,e){\"use strict\";(function(e){var u=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(s,\"__esModule\",{value:!0});var c=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type=\"browser\"};s.BrowserInfo=c;var t=function(t){this.version=t,this.type=\"node\",this.name=\"node\",this.os=e.platform};s.NodeInfo=t;var h=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type=\"bot-device\"};s.SearchBotDeviceInfo=h;var l=function(){this.type=\"bot\",this.bot=!0,this.name=\"bot\",this.version=null,this.os=null};s.BotInfo=l;function n(){this.type=\"react-native\",this.name=\"react-native\",this.version=null,this.os=null}s.ReactNativeInfo=n;var f=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/,r=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/Edg\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FBAV\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"searchbot\",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],o=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/]];function d(o){return\"\"!==o&&r.reduce(function(t,e){var n=e[0],r=e[1];if(t)return t;var i=r.exec(o);return!!i&&[n,i]},!1)}function i(t){var e=d(t);if(!e)return null;var n=e[0],r=e[1];if(\"searchbot\"===n)return new l;var i=r[1]&&r[1].split(/[._]/).slice(0,3);i?i.length<3&&(i=u(i,function(t){for(var e=[],n=0;n<t;n++)e.push(\"0\");return e}(3-i.length))):i=[];var o=i.join(\".\"),a=p(t),s=f.exec(t);return s&&s[1]?new h(n,o,a,s[1]):new c(n,i.join(\".\"),a)}function p(t){for(var e=0,n=o.length;e<n;e++){var r=o[e],i=r[0];if(r[1].exec(t))return i}return null}function a(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}s.detect=function(t){return t?i(t):\"undefined\"==typeof document&&\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product?new n:\"undefined\"!=typeof navigator?i(navigator.userAgent):a()},s.browserName=function(t){var e=d(t);return e?e[0]:null},s.parseUserAgent=i,s.detectOS=p,s.getNodeVersion=a}).call(this,e(327))},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.assembleFont=e.getTextWidth=e.getLineSpaceing=e.getTextHeight=void 0;var o=n(114),a=n(116);function i(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,n){var r=1;return o.isString(t)&&(r=t.split(\"\\n\").length),1<r?e*r+i(e,n)*(r-1):e},e.getLineSpaceing=i,e.getTextWidth=function(t,e){var n,r=a.getOffScreenContext(),i=0;return o.isNil(t)||\"\"===t||(r.save(),r.font=e,o.isString(t)&&t.includes(\"\\n\")?(n=t.split(\"\\n\"),o.each(n,function(t){var e=r.measureText(t).width;i<e&&(i=e)})):i=r.measureText(t).width,r.restore()),i},e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+\"px\",n].join(\" \").trim()}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(27);e.default=function(t,e){return!!r.default(t)&&-1<t.indexOf(e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(35);Object.defineProperty(e,\"Base\",{enumerable:!0,get:function(){return r.default}});var i=n(342);Object.defineProperty(e,\"Circle\",{enumerable:!0,get:function(){return i.default}});var o=n(343);Object.defineProperty(e,\"Ellipse\",{enumerable:!0,get:function(){return o.default}});var a=n(344);Object.defineProperty(e,\"Image\",{enumerable:!0,get:function(){return a.default}});var s=n(345);Object.defineProperty(e,\"Line\",{enumerable:!0,get:function(){return s.default}});var u=n(346);Object.defineProperty(e,\"Marker\",{enumerable:!0,get:function(){return u.default}});var c=n(348);Object.defineProperty(e,\"Path\",{enumerable:!0,get:function(){return c.default}});var h=n(350);Object.defineProperty(e,\"Polygon\",{enumerable:!0,get:function(){return h.default}});var l=n(351);Object.defineProperty(e,\"Polyline\",{enumerable:!0,get:function(){return l.default}});var f=n(353);Object.defineProperty(e,\"Rect\",{enumerable:!0,get:function(){return f.default}});var d=n(356);Object.defineProperty(e,\"Text\",{enumerable:!0,get:function(){return d.default}})},function(t,e,n){\"use strict\";function a(t){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.addEndArrow=e.addStartArrow=e.getShortenOffset=void 0;var b=n(1),x=n(89),w=Math.sin,M=Math.cos,S=Math.atan2,l=Math.PI;function s(t,e,n,r,i,o,a){var s=e.stroke,u=e.lineWidth,c=S(r-o,n-i),h=new x.Path({type:\"path\",canvas:t.get(\"canvas\"),isArrowShape:!0,attrs:{path:\"M\"+10*M(l/6)+\",\"+10*w(l/6)+\" L0,0 L\"+10*M(l/6)+\",-\"+10*w(l/6),stroke:s,lineWidth:u}});h.translate(i,o),h.rotateAtPoint(i,o,c),t.set(a?\"startArrowShape\":\"endArrowShape\",h)}function u(t,e,n,r,i,o,a){var s=e.startArrow,u=e.endArrow,c=e.stroke,h=e.lineWidth,l=a?s:u,f=l.d,d=l.fill,p=l.stroke,g=l.lineWidth,v=b.__rest(l,[\"d\",\"fill\",\"stroke\",\"lineWidth\"]),y=S(r-o,n-i);f&&(i-=M(y)*f,o-=w(y)*f);var m=new x.Path({type:\"path\",canvas:t.get(\"canvas\"),isArrowShape:!0,attrs:b.__assign(b.__assign({},v),{stroke:p||c,lineWidth:g||h,fill:d})});m.translate(i,o),m.rotateAtPoint(i,o,y),t.set(a?\"startArrowShape\":\"endArrowShape\",m)}e.getShortenOffset=function(t,e,n,r,i){var o=S(r-e,n-t);return{dx:M(o)*i,dy:w(o)*i}},e.addStartArrow=function(t,e,n,r,i,o){\"object\"===a(e.startArrow)?u(t,e,n,r,i,o,!0):e.startArrow?s(t,e,n,r,i,o,!0):t.set(\"startArrowShape\",null)},e.addEndArrow=function(t,e,n,r,i,o){\"object\"===a(e.endArrow)?u(t,e,n,r,i,o,!1):e.endArrow?s(t,e,n,r,i,o,!1):t.set(\"startArrowShape\",null)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var f=n(22);e.default=function(t,e,n,r,i,o,a){var s=Math.min(t,n),u=Math.max(t,n),c=Math.min(e,r),h=Math.max(e,r),l=i/2;return s-l<=o&&o<=u+l&&c-l<=a&&a<=h+l&&f.default.pointToLine(t,e,n,r,o,a)<=i/2}},function(t,e,n){var r=n(93),i=n(387),o=n(388),a=n(389),s=n(390),u=n(391);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(382),i=n(383),o=n(384),a=n(385),s=n(386);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(58);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(49)(Object,\"create\");t.exports=r},function(t,e,n){var r=n(407);t.exports=function(t,e){var n=t.__data__;return r(e)?n[\"string\"==typeof e?\"string\":\"hash\"]:n.map}},function(t,e,n){var i=n(98),o=n(58),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var r=t[e];a.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var r=n(181);t.exports=function(t,e,n){\"__proto__\"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var i=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var n=r(t);return!!(e=null==e?9007199254740991:e)&&(\"number\"==n||\"symbol\"!=n&&i.test(t))&&-1<t&&t%1==0&&t<e}},function(t,e){t.exports=function(e){return function(t){return e(t)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(183)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(143),i=n(436)(r);t.exports=i},function(t,e,n){var i=n(105),o=n(81);t.exports=function(t,e){for(var n=0,r=(e=i(e,t)).length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}},function(t,e,n){var r=n(18),i=n(146),o=n(450),a=n(206);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(52),i=n(215),o=n(216);t.exports=function(t,e){return o(i(t,e,r),t+\"\")}},function(t,e,n){function i(t){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=n(58),a=n(43),s=n(99),u=n(31);t.exports=function(t,e,n){if(!u(n))return!1;var r=i(e);return!!(\"number\"==r?a(n)&&s(e,n.length):\"string\"==r&&e in n)&&o(n[e],t)}},function(t,e,n){\"use strict\";var a=n(14);t.exports={longestPath:function(i){var o={};a.forEach(i.sources(),function e(t){var n=i.node(t);if(a.has(o,t))return n.rank;o[t]=!0;var r=a.min(a.map(i.outEdges(t),function(t){return e(t.w)-i.edge(t).minlen}));return r!==Number.POSITIVE_INFINITY&&null!=r||(r=0),n.rank=r})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){var r=n(231),i=(o.prototype.execute=function(){throw new Error(\"please override this method\")},o);function o(t,e){void 0===e&&(e={}),this.options=e,this.rootNode=r(t,e)}t.exports=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(125),u=n(27),c=n(3);e.default=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(c.default(e)||c.default(n))return!1;if(u.default(e)||u.default(n)){if(e.length!==n.length)return!1;for(var r=!0,i=0;i<e.length&&(r=t(e[i],n[i]));i++);return r}if(s.default(e)||s.default(n)){var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(r=!0,i=0;i<o.length&&(r=t(e[o[i]],n[o[i]]));i++);return r}return!1}},function(t,e,n){\"use strict\";var r=(i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},i.prototype.save=function(){},i.prototype.restore=function(){},i);function i(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.a=r},function(t,e,n){\"use strict\";var r,i=n(1),o=n(65),a=n(10),s=(r=o.a,Object(i.__extends)(u,r),u.prototype.getDefaultCfg=function(){return{}},u.prototype.get=function(t){return this.cfg[t]},u.prototype.set=function(t,e){this.cfg[t]=e},u.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},u);function u(t){var e=r.call(this)||this;e.destroyed=!1;var n=e.getDefaultCfg();return e.cfg=Object(a.i)(n,t),e}e.a=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.isAllowCapture=e.isParent=e.isBrowser=e.removeFromArray=void 0,e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.isBrowser=\"undefined\"!=typeof window&&void 0!==window.document;var r=n(8);Object.defineProperty(e,\"isNil\",{enumerable:!0,get:function(){return r.default}});var i=n(12);Object.defineProperty(e,\"isFunction\",{enumerable:!0,get:function(){return i.default}});var o=n(3);Object.defineProperty(e,\"isString\",{enumerable:!0,get:function(){return o.default}});var a=n(32);Object.defineProperty(e,\"isObject\",{enumerable:!0,get:function(){return a.default}});var s=n(4);Object.defineProperty(e,\"isArray\",{enumerable:!0,get:function(){return s.default}});var u=n(20);Object.defineProperty(e,\"mix\",{enumerable:!0,get:function(){return u.default}});var c=n(2);Object.defineProperty(e,\"each\",{enumerable:!0,get:function(){return c.default}});var h=n(45);Object.defineProperty(e,\"upperFirst\",{enumerable:!0,get:function(){return h.default}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getBBoxMethod=void 0;var r=n(330);Object.defineProperty(e,\"getBBoxMethod\",{enumerable:!0,get:function(){return r.getMethod}});var i=n(331),o=n(332),a=n(333),s=n(334),u=n(335),c=n(336),h=n(340),l=n(341);r.register(\"rect\",i.default),r.register(\"image\",i.default),r.register(\"circle\",o.default),r.register(\"marker\",o.default),r.register(\"polyline\",a.default),r.register(\"polygon\",s.default),r.register(\"text\",u.default),r.register(\"path\",c.default),r.register(\"line\",h.default),r.register(\"ellipse\",l.default)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getOffScreenContext=void 0;var r=null;e.getOffScreenContext=function(){var t;return r||((t=document.createElement(\"canvas\")).width=1,t.height=1,r=t.getContext(\"2d\")),r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var l=n(22),f=n(40),u=n(169);function d(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function h(t,e,n){var r=t+n-2*e;if(f.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&0<=i?[i]:[]}function p(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function g(t,e,n,r,i,o,a){var s=d(t,n,i,a),u=d(e,r,o,a),c=l.default.pointAt(t,e,n,r,a),h=l.default.pointAt(n,r,i,o,a);return[[t,e,c.x,c.y,s,u],[s,u,h.x,h.y,i,o]]}e.default={box:function(t,e,n,r,i,o){var a=h(t,n,i)[0],s=h(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(d(t,n,i,a)),void 0!==s&&c.push(d(e,r,o,s)),f.getBBoxByArray(u,c)},length:function(t,e,n,r,i,o){return function t(e,n,r,i,o,a,s){if(0===s)return(f.distance(e,n,r,i)+f.distance(r,i,o,a)+f.distance(e,n,o,a))/2;var u=g(e,n,r,i,o,a,.5),c=u[0],h=u[1];return c.push(s-1),h.push(s-1),t.apply(null,c)+t.apply(null,h)}(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return u.nearestPoint([t,n,i],[e,r,o],a,s,d)},pointDistance:function(t,e,n,r,i,o,a,s){var u=this.nearestPoint(t,e,n,r,i,o,a,s);return f.distance(u.x,u.y,a,s)},interpolationAt:d,pointAt:function(t,e,n,r,i,o,a){return{x:d(t,n,i,a),y:d(e,r,o,a)}},divide:g,tangentAngle:function(t,e,n,r,i,o,a){var s=p(t,n,i,a),u=p(e,r,o,a),c=Math.atan2(u,s);return f.piMod(c)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var R=n(170),z=n(170),Y=n(339);function F(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=Y.default(t)).length,s=0;s<a;s++){var u,c=t[s],r=t[s+1],h=c[0],l={command:h,prePoint:n,params:c,startTangent:null,endTangent:null};switch(h){case\"M\":i=[c[1],c[2]],o=s;break;case\"A\":var f=R.default(n,c);l.arcParams=f}\"Z\"===h?(n=i,r=t[o+1]):n=[c[(u=c.length)-2],c[u-1]],r&&\"Z\"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),l.currentPoint=n,e[o]&&z.isSamePoint(n,e[o].currentPoint)&&(e[o].prePoint=l.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=d;var p,g,v,y,m,b,x,w,M,S,_,O,C,k,E,j,P,I,A,T,N,B,D,L=l.prePoint;[\"L\",\"H\",\"V\"].includes(h)?(l.startTangent=[L[0]-n[0],L[1]-n[1]],l.endTangent=[n[0]-L[0],n[1]-L[1]]):\"Q\"===h?(p=[c[1],c[2]],l.startTangent=[L[0]-p[0],L[1]-p[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]]):\"T\"===h?(p=F((g=e[s-1]).currentPoint,L),\"Q\"===g.command?(l.command=\"Q\",l.startTangent=[L[0]-p[0],L[1]-p[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]]):(l.command=\"TL\",l.startTangent=[L[0]-n[0],L[1]-n[1]],l.endTangent=[n[0]-L[0],n[1]-L[1]])):\"C\"===h?(v=[c[1],c[2]],y=[c[3],c[4]],l.startTangent=[L[0]-v[0],L[1]-v[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]]):\"S\"===h?(v=F((g=e[s-1]).currentPoint,L),y=[c[1],c[2]],\"C\"===g.command?(l.command=\"C\",l.startTangent=[L[0]-v[0],L[1]-v[1]]):(l.command=\"SQ\",l.startTangent=[L[0]-y[0],L[1]-y[1]]),l.endTangent=[n[0]-y[0],n[1]-y[1]]):\"A\"===h&&(m=.001,w=void 0===(x=(b=l.arcParams||{}).cx)?0:x,S=void 0===(M=b.cy)?0:M,k=void 0===(C=b.ry)?0:C,P=void 0===(j=b.startAngle)?0:j,A=void 0===(I=b.endAngle)?0:I,0===(void 0===(E=b.sweepFlag)?0:E)&&(m*=-1),T=(O=void 0===(_=b.rx)?0:_)*Math.cos(P-m)+w,N=k*Math.sin(P-m)+S,l.startTangent=[T-i[0],N-i[1]],B=O*Math.cos(P+A+m)+w,D=k*Math.sin(P+A-m)+S,l.endTangent=[L[0]-B,L[1]-D]),e.push(l)}return e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(352),o=n(40);e.default={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return o.getBBoxByArray(e,n)},length:function(t){return r.lengthOfSegment(t)},pointAt:function(t,e){return r.pointAtSegments(t,e)},pointDistance:function(t,e,n){return r.distanceAtSegment(t,e,n)},tangentAngle:function(t,e){return r.angleAtSegments(t,e)}}},function(t,e,n){\"use strict\";function a(t){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(4);e.default=function t(e){if(\"object\"!==a(e)||null===e)return e;var n;if(s.default(e)){n=[];for(var r=0,i=e.length;r<i;r++)\"object\"===a(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)\"object\"===a(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n}},function(t,e,n){\"use strict\";var i,r=n(1),o=n(122),u=n(10),a={},s=(i=o.a,Object(r.__extends)(c,i),c.prototype.isCanvas=function(){return!1},c.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),r=0<a.length?(Object(u.a)(a,function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,i),e=Math.max.apply(null,i),n=Math.min.apply(null,o),Math.max.apply(null,o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},c.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),r=0<a.length?(Object(u.a)(a,function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,i),e=Math.max.apply(null,i),n=Math.min.apply(null,o),Math.max.apply(null,o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},c.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.children=[],t},c.prototype.onAttrChange=function(t,e,n){var r;i.prototype.onAttrChange.call(this,t,e,n),\"matrix\"===t&&(r=this.getTotalMatrix(),this._applyChildrenMarix(r))},c.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();i.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==e&&this._applyChildrenMarix(n)},c.prototype._applyChildrenMarix=function(e){var t=this.getChildren();Object(u.a)(t,function(t){t.applyMatrix(e)})},c.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(u.f)(n)?r=n:r.type=n;var i=a[r.type];i||(i=Object(u.k)(r.type),a[r.type]=i);var o=new(this.getShapeBase()[i])(r);return this.add(o),o},c.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=t[0],o=t[1];return r=Object(u.d)(i)?new i(o||{parent:this}):(n=i||{},new(this.getGroupBase())(n)),this.add(r),r},c.prototype.getCanvas=function(){return this.isCanvas()?this:this.get(\"canvas\")},c.prototype.getShape=function(t,e,n){if(!Object(u.b)(this))return null;var r,i,o=this.getChildren();return this.isCanvas()?r=this._findShape(o,t,e,n):(i=[t,e,1],i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(r=this._findShape(o,i[0],i[1],n))),r},c.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;0<=o;o--){var a=t[o];if(Object(u.b)(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},c.prototype.add=function(t){var e,n,r,i=this.getCanvas(),o=this.getChildren(),a=this.get(\"timeline\"),s=t.getParent();s&&(e=s,n=t,void 0===(r=!1)&&(r=!0),r?n.destroy():(n.set(\"parent\",null),n.set(\"canvas\",null)),Object(u.j)(e.getChildren(),n)),t.set(\"parent\",this),i&&function e(t,n){var r;t.set(\"canvas\",n),t.isGroup()&&(r=t.get(\"children\")).length&&r.forEach(function(t){e(t,n)})}(t,i),a&&function e(t,n){var r;t.set(\"timeline\",n),t.isGroup()&&(r=t.get(\"children\")).length&&r.forEach(function(t){e(t,n)})}(t,a),o.push(t),t.onCanvasChange(\"add\"),this._applyElementMatrix(t)},c.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},c.prototype.getChildren=function(){return this.get(\"children\")},c.prototype.sort=function(){var r,t=this.getChildren();Object(u.a)(t,function(t,e){return t._INDEX=e,t}),t.sort((r=function(t,e){return t.get(\"zIndex\")-e.get(\"zIndex\")},function(t,e){var n=r(t,e);return 0===n?t._INDEX-e._INDEX:n})),this.onCanvasChange(\"sort\")},c.prototype.clear=function(){if(this.set(\"clearing\",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set(\"children\",[]),this.onCanvasChange(\"clear\"),this.set(\"clearing\",!1)}},c.prototype.destroy=function(){this.get(\"destroyed\")||(this.clear(),i.prototype.destroy.call(this))},c.prototype.getFirst=function(){return this.getChildByIndex(0)},c.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},c.prototype.getChildByIndex=function(t){return this.getChildren()[t]},c.prototype.getCount=function(){return this.getChildren().length},c.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},c.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},c.prototype.findAll=function(e){var n=[],t=this.getChildren();return Object(u.a)(t,function(t){e(t)&&n.push(t),t.isGroup()&&(n=n.concat(t.findAll(e)))}),n},c.prototype.find=function(e){var n=null,t=this.getChildren();return Object(u.a)(t,function(t){if(e(t)?n=t:t.isGroup()&&(n=t.find(e)),n)return!1}),n},c.prototype.findById=function(e){return this.find(function(t){return t.get(\"id\")===e})},c.prototype.findByClassName=function(e){return this.find(function(t){return t.get(\"className\")===e})},c.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get(\"name\")===e})},c);function c(){return null!==i&&i.apply(this,arguments)||this}e.a=s},function(t,e,n){\"use strict\";var r=n(1),M=n(0),i=n(16),u=n(10),o=n(39),a=n(113),s=i.ext.transform,c=[\"zIndex\",\"capture\",\"visible\",\"type\"],S=[\"repeat\"];var h,l=(h=a.a,Object(r.__extends)(f,h),f.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},f.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},f.prototype.onCanvasChange=function(t){},f.prototype.initAttrs=function(t){},f.prototype.initAnimate=function(){this.set(\"animable\",!0),this.set(\"animating\",!1)},f.prototype.isGroup=function(){return!1},f.prototype.getParent=function(){return this.get(\"parent\")},f.prototype.getCanvas=function(){return this.get(\"canvas\")},f.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(M.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},f.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},f.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},f.prototype.onAttrChange=function(t,e,n){\"matrix\"===t&&this.set(\"totalMatrix\",null)},f.prototype.afterAttrsChange=function(t){var e;this.cfg.isClipShape?(e=this.cfg.applyTo)&&e.onCanvasChange(\"clip\"):this.onCanvasChange(\"attr\")},f.prototype.show=function(){return this.set(\"visible\",!0),this.onCanvasChange(\"show\"),this},f.prototype.hide=function(){return this.set(\"visible\",!1),this.onCanvasChange(\"hide\"),this},f.prototype.setZIndex=function(t){this.set(\"zIndex\",t);var e=this.getParent();return e&&e.sort(),this},f.prototype.toFront=function(){var t,e,n=this.getParent();n&&(t=n.getChildren(),this.get(\"el\"),e=t.indexOf(this),t.splice(e,1),t.push(this),this.onCanvasChange(\"zIndex\"))},f.prototype.toBack=function(){var t,e,n=this.getParent();n&&(t=n.getChildren(),this.get(\"el\"),e=t.indexOf(this),t.splice(e,1),t.unshift(this),this.onCanvasChange(\"zIndex\"))},f.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(u.j)(e.getChildren(),this),e.get(\"clearing\")||this.onCanvasChange(\"remove\")):this.onCanvasChange(\"remove\"),t&&this.destroy()},f.prototype.resetMatrix=function(){this.attr(\"matrix\",this.getDefaultMatrix()),this.onCanvasChange(\"matrix\")},f.prototype.getMatrix=function(){return this.attr(\"matrix\")},f.prototype.setMatrix=function(t){this.attr(\"matrix\",t),this.onCanvasChange(\"matrix\")},f.prototype.getTotalMatrix=function(){var t,e,n=this.cfg.totalMatrix;return n||(t=this.attr(\"matrix\"),n=(e=this.cfg.parentMatrix)&&t?Object(o.b)(e,t):t||e,this.set(\"totalMatrix\",n)),n},f.prototype.applyMatrix=function(t){var e=this.attr(\"matrix\"),n=t&&e?Object(o.b)(t,e):e||t;this.set(\"totalMatrix\",n),this.set(\"parentMatrix\",t)},f.prototype.getDefaultMatrix=function(){return null},f.prototype.applyToMatrix=function(t){var e=this.attr(\"matrix\");return e?Object(o.c)(e,t):t},f.prototype.invertFromMatrix=function(t){var e=this.attr(\"matrix\");if(e){var n=Object(o.a)(e);if(n)return Object(o.c)(n,t)}return t},f.prototype.setClip=function(t){var e,n=this.getCanvas(),r=null;return!t||(e=this.getShapeBase()[Object(M.upperFirst)(t.type)])&&(r=new e({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n})),this.set(\"clipShape\",r),this.onCanvasChange(\"clip\"),r},f.prototype.getClip=function(){return this.cfg.clipShape||null},f.prototype.clone=function(){var e=this,n=this.attrs,r={};Object(M.each)(n,function(t,e){Object(M.isArray)(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)Object(M.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]});var i=new this.constructor({attrs:r});return Object(M.each)(c,function(t){i.set(t,e.get(t))}),i},f.prototype.destroy=function(){this.destroyed||(this.attrs={},h.prototype.destroy.call(this))},f.prototype.isAnimatePaused=function(){return this.get(\"_pause\").isPaused},f.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set(\"animating\",!0);var n=this.get(\"timeline\");n||(n=this.get(\"canvas\").get(\"timeline\"),this.set(\"timeline\",n));var r=this.get(\"animations\")||[];n.timer||n.initTimer();var i,o,a,s,u,c=t[0],h=t[1],l=t[2],f=void 0===l?\"easeLinear\":l,d=t[3],p=void 0===d?M.noop:d,g=t[4],v=void 0===g?0:g;Object(M.isFunction)(c)?(i=c,c={}):Object(M.isObject)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),Object(M.isObject)(h)?(h=(u=h).duration,f=u.easing||\"easeLinear\",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||M.noop,a=u.pauseCallback||M.noop,s=u.resumeCallback||M.noop):(Object(M.isNumber)(p)&&(v=p,p=null),f=Object(M.isFunction)(f)?(p=f,\"easeLinear\"):f||\"easeLinear\");var y,m,b,x=(y=c,m={},b=this.attr(),Object(M.each)(y,function(t,e){-1!==S.indexOf(e)||Object(M.isEqual)(b[e],t)||(m[e]=t)}),m),w={fromAttrs:function(t,e){var n,r={},i=e.attrs;for(n in t)r[n]=i[n];return r}(x,this),toAttrs:x,duration:h,easing:f,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:Object(M.uniqueId)(),onFrame:i,pathFormatted:!1};0<r.length?r=function(t,e){if(e.onFrame)return t;var r=e.startTime,i=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(M.each)(t,function(n){r+i<n.startTime+n.delay+n.duration&&o>n.delay&&Object(M.each)(e.toAttrs,function(t,e){a.call(n.toAttrs,e)&&(delete n.toAttrs[e],delete n.fromAttrs[e])})}),t}(r,w):n.addAnimator(this),r.push(w),this.set(\"animations\",r),this.set(\"_pause\",{isPaused:!1})},f.prototype.stopAnimate=function(e){var n=this;void 0===e&&(e=!0);var t=this.get(\"animations\");Object(M.each)(t,function(t){e&&(t.onFrame?n.attr(t.onFrame(1)):n.attr(t.toAttrs)),t.callback&&t.callback()}),this.set(\"animating\",!1),this.set(\"animations\",[])},f.prototype.pauseAnimate=function(){var t=this.get(\"timeline\"),e=this.get(\"animations\"),n=t.getTime();return Object(M.each)(e,function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()}),this.set(\"_pause\",{isPaused:!0,pauseTime:n}),this},f.prototype.resumeAnimate=function(){var e=this.get(\"timeline\").getTime(),t=this.get(\"animations\"),n=this.get(\"_pause\").pauseTime;return Object(M.each)(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set(\"_pause\",{isPaused:!1}),this.set(\"animations\",t),this},f.prototype.emitDelegation=function(t,r){var i,o=this,a=r.propagationPath;this.getEvents(),\"mouseenter\"===t?i=r.fromShape:\"mouseleave\"===t&&(i=r.toShape);for(var s=this,e=0;e<a.length&&\"break\"!==function(t){var e=a[t],n=e.get(\"name\");if(n){if((e.isGroup()||e.isCanvas&&e.isCanvas())&&i&&Object(u.g)(e,i))return\"break\";Object(M.isArray)(n)?Object(M.each)(n,function(t){o.emitDelegateEvent(e,t,r)}):s.emitDelegateEvent(e,n,r)}}(e);e++);},f.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+\":\"+n.type;(r[i]||r[\"*\"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get(\"delegateObject\"),this.emit(i,n))},f.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=s(n,[[\"t\",t,e]]);return this.setMatrix(r),this},f.prototype.move=function(t,e){var n=this.attr(\"x\")||0,r=this.attr(\"y\")||0;return this.translate(t-n,e-r),this},f.prototype.moveTo=function(t,e){return this.move(t,e)},f.prototype.scale=function(t,e){var n=this.getMatrix(),r=s(n,[[\"s\",t,e||t]]);return this.setMatrix(r),this},f.prototype.rotate=function(t){var e=this.getMatrix(),n=s(e,[[\"r\",t]]);return this.setMatrix(n),this},f.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=s(i,[[\"t\",-n,-r],[\"r\",t],[\"t\",n,r]]);return this.setMatrix(o),this},f.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=s(r,[[\"t\",-t,-e],[\"r\",n],[\"t\",t,e]]);return this.setMatrix(i),this},f);function f(t){var e=h.call(this,t)||this;e.attrs={};var n=e.getDefaultAttrs();return Object(M.mix)(n,t.attrs),e.attrs=n,e.initAttrs(n),e.initAnimate(),e}e.a=l},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.invert=e.multiplyVec2=e.multiplyMatrix=void 0,e.multiplyMatrix=function(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*h,n[2]=f*o+d*u+p*l,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*h,n[5]=g*o+v*u+y*l,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*h,n[8]=m*o+b*u+x*l,n},e.multiplyVec2=function(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n},e.invert=function(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-h*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(h*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}},function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return r}),n.d(e,\"a\",function(){return i});var v=n(5),y=/^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,m=/^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,b=/^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,x=/[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;function w(t,n){var e=t.match(x);Object(v.c)(e,function(t){var e=t.split(\":\");n.addColorStop(e[0],e[1])})}function r(t,e,d){if(Object(v.k)(d)){if(\"(\"===d[1]||\"(\"===d[2]){if(\"l\"===d[0])return n=t,r=e,o=y.exec(d),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=r.getBBox(),c=0<=a&&a<.5*Math.PI?(i={x:u.minX,y:u.minY},{x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(i={x:u.maxX,y:u.minY},{x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(i={x:u.maxX,y:u.maxY},{x:u.minX,y:u.minY}):(i={x:u.minX,y:u.maxY},{x:u.maxX,y:u.minY}),h=Math.tan(a),l=h*h,f=(c.x-i.x+h*(c.y-i.y))/(1+l)+i.x,p=h*(c.x-i.x+h*(c.y-i.y))/(1+l)+i.y,g=n.createLinearGradient(i.x,i.y,f,p),w(s,g),g;if(\"r\"===d[0])return function(t,e){var n=m.exec(d),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];if(0===o){var s=a.match(x);return s[s.length-1].split(\":\")[1]}var u=e.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,l=Math.sqrt(c*c+h*h)/2,f=t.createRadialGradient(u.minX+c*r,u.minY+h*i,0,u.minX+c/2,u.minY+h/2,o*l);return w(a,f),f}(t,e);if(\"p\"===d[0])return function(t,e,n){if(e.get(\"patternSource\")&&e.get(\"patternSource\")===n)return e.get(\"pattern\");var r,i,o=b.exec(n),a=o[1],s=o[2];function u(){r=t.createPattern(i,a),e.set(\"pattern\",r),e.set(\"patternSource\",n)}switch(a){case\"a\":a=\"repeat\";break;case\"x\":a=\"repeat-x\";break;case\"y\":a=\"repeat-y\";break;case\"n\":a=\"no-repeat\";break;default:a=\"no-repeat\"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin=\"Anonymous\"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(t,e,d)}return d}var n,r,i,o,a,s,u,c,h,l,f,p,g}function i(t){var e=0,n=0,r=0,i=0;return Object(v.g)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}},function(t,e,n){\"use strict\";function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return\"object\"===r(t)&&null!==t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var i=Math.PI/180},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"create\",function(){return r}),n.d(e,\"clone\",function(){return i}),n.d(e,\"fromValues\",function(){return o}),n.d(e,\"copy\",function(){return s}),n.d(e,\"set\",function(){return u}),n.d(e,\"add\",function(){return c}),n.d(e,\"subtract\",function(){return h}),n.d(e,\"multiply\",function(){return l}),n.d(e,\"divide\",function(){return f}),n.d(e,\"ceil\",function(){return d}),n.d(e,\"floor\",function(){return p}),n.d(e,\"min\",function(){return g}),n.d(e,\"max\",function(){return v}),n.d(e,\"round\",function(){return y}),n.d(e,\"scale\",function(){return m}),n.d(e,\"scaleAndAdd\",function(){return b}),n.d(e,\"distance\",function(){return x}),n.d(e,\"squaredDistance\",function(){return w}),n.d(e,\"length\",function(){return M}),n.d(e,\"squaredLength\",function(){return S}),n.d(e,\"negate\",function(){return _}),n.d(e,\"inverse\",function(){return O}),n.d(e,\"normalize\",function(){return C}),n.d(e,\"dot\",function(){return k}),n.d(e,\"cross\",function(){return E}),n.d(e,\"lerp\",function(){return j}),n.d(e,\"random\",function(){return P}),n.d(e,\"transformMat2\",function(){return I}),n.d(e,\"transformMat2d\",function(){return A}),n.d(e,\"transformMat3\",function(){return T}),n.d(e,\"transformMat4\",function(){return N}),n.d(e,\"rotate\",function(){return B}),n.d(e,\"angle\",function(){return D}),n.d(e,\"zero\",function(){return L}),n.d(e,\"str\",function(){return R}),n.d(e,\"exactEquals\",function(){return z}),n.d(e,\"equals\",function(){return Y}),n.d(e,\"len\",function(){return X}),n.d(e,\"sub\",function(){return G}),n.d(e,\"mul\",function(){return V}),n.d(e,\"div\",function(){return q}),n.d(e,\"dist\",function(){return H}),n.d(e,\"sqrDist\",function(){return W}),n.d(e,\"sqrLen\",function(){return U}),n.d(e,\"forEach\",function(){return Z});var a=n(6);function r(){var t=new a.a(2);return a.a!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t){var e=new a.a(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var n=new a.a(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function M(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function S(t){var e=t[0],n=t[1];return e*e+n*n}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function C(t,e){var n=e[0],r=e[1],i=n*n+r*r;return 0<i&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function k(t,e){return t[0]*e[0]+t[1]*e[1]}function E(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function j(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function P(t,e){e=e||1;var n=2*a.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function T(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function B(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function D(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function L(t){return t[0]=0,t[1]=0,t}function R(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"}function z(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=a.b*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a.b*Math.max(1,Math.abs(r),Math.abs(o))}var F,X=M,G=h,V=l,q=f,H=x,W=w,U=S,Z=(F=r(),function(t,e,n,r,i,o){var a,s;for(e=e||2,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)F[0]=t[a],F[1]=t[a+1],i(F,F,o),t[a]=F[0],t[a+1]=F[1];return t})},function(t,e,n){\"use strict\";function i(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,\"__esModule\",{value:!0}),e.mergeArrowBBox=e.mergeBBox=void 0,e.mergeBBox=i,e.mergeArrowBBox=function(t,e){var n=t.get(\"startArrowShape\"),r=t.get(\"endArrowShape\");return n&&(e=i(e,n.getCanvasBBox())),r&&(e=i(e,r.getCanvasBBox())),e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.refreshElement=e.drawChildren=void 0;var h=n(76),l=n(36);e.drawChildren=function(e,t){t.forEach(function(t){t.draw(e)})},e.refreshElement=function(t,e){var n,r,i,o,a,s,u,c=t.get(\"canvas\");c&&c.get(\"autoDraw\")&&(n=c.get(\"context\"),i=(r=t.getParent())?r.getChildren():[c],o=t.get(\"el\"),\"remove\"===e?t.get(\"isClipShape\")?(s=(a=o&&o.parentNode)&&a.parentNode,a&&s&&s.removeChild(a)):o&&o.parentNode&&o.parentNode.removeChild(o):\"show\"===e?o.setAttribute(\"visibility\",\"visible\"):\"hide\"===e?o.setAttribute(\"visibility\",\"hidden\"):\"zIndex\"===e?l.moveTo(o,i.indexOf(t)):\"sort\"===e?(u=t.get(\"children\"))&&u.length&&l.sortDom(t,function(t,e){return u.indexOf(t)-u.indexOf(e)?1:0}):\"clear\"===e?o&&(o.innerHTML=\"\"):\"matrix\"===e?h.setTransform(t):\"clip\"===e?h.setClip(t,n):\"attr\"===e||\"add\"===e&&t.draw(n))}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(29);Object.defineProperty(e,\"Base\",{enumerable:!0,get:function(){return r.default}});var i=n(357);Object.defineProperty(e,\"Circle\",{enumerable:!0,get:function(){return i.default}});var o=n(358);Object.defineProperty(e,\"Dom\",{enumerable:!0,get:function(){return o.default}});var a=n(359);Object.defineProperty(e,\"Ellipse\",{enumerable:!0,get:function(){return a.default}});var s=n(360);Object.defineProperty(e,\"Image\",{enumerable:!0,get:function(){return s.default}});var u=n(361);Object.defineProperty(e,\"Line\",{enumerable:!0,get:function(){return u.default}});var c=n(362);Object.defineProperty(e,\"Marker\",{enumerable:!0,get:function(){return c.default}});var h=n(364);Object.defineProperty(e,\"Path\",{enumerable:!0,get:function(){return h.default}});var l=n(365);Object.defineProperty(e,\"Polygon\",{enumerable:!0,get:function(){return l.default}});var f=n(366);Object.defineProperty(e,\"Polyline\",{enumerable:!0,get:function(){return f.default}});var d=n(367);Object.defineProperty(e,\"Rect\",{enumerable:!0,get:function(){return d.default}});var p=n(369);Object.defineProperty(e,\"Text\",{enumerable:!0,get:function(){return p.default}})},function(t,e,n){\"use strict\";function u(t){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var c=n(30);function r(t){this._isDirected=!c.has(t,\"directed\")||t.directed,this._isMultigraph=!!c.has(t,\"multigraph\")&&t.multigraph,this._isCompound=!!c.has(t,\"compound\")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=c.constant(void 0),this._defaultEdgeLabelFn=c.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[\"\\0\"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function h(t,e){t[e]?t[e]++:t[e]=1}function o(t,e){--t[e]||delete t[e]}function l(t,e,n,r){var i,o=\"\"+e,a=\"\"+n;return!t&&a<o&&(i=o,o=a,a=i),o+\"\u0001\"+a+\"\u0001\"+(c.isUndefined(r)?\"\\0\":r)}function a(t,e){return l(t,e.v,e.w,e.name)}(t.exports=r).prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return c.isFunction(t)||(t=c.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return c.keys(this._nodes)},r.prototype.sources=function(){var e=this;return c.filter(this.nodes(),function(t){return c.isEmpty(e._in[t])})},r.prototype.sinks=function(){var e=this;return c.filter(this.nodes(),function(t){return c.isEmpty(e._out[t])})},r.prototype.setNodes=function(t,e){var n=arguments,r=this;return c.each(t,function(t){1<n.length?r.setNode(t,e):r.setNode(t)}),this},r.prototype.setNode=function(t,e){return c.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=\"\\0\",this._children[t]={},this._children[\"\\0\"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return c.has(this._nodes,t)},r.prototype.removeNode=function(t){var e,n=this;return c.has(this._nodes,t)&&(e=function(t){n.removeEdge(n._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],c.each(this.children(t),function(t){n.setParent(t)}),delete this._children[t]),c.each(c.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],c.each(c.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},r.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error(\"Cannot set parent in a non-compound graph\");if(c.isUndefined(e))e=\"\\0\";else{for(var n=e+=\"\";!c.isUndefined(n);n=this.parent(n))if(n===t)throw new Error(\"Setting \"+e+\" as parent of \"+t+\" would create a cycle\");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(\"\\0\"!==e)return e}},r.prototype.children=function(t){if(c.isUndefined(t)&&(t=\"\\0\"),this._isCompound){var e=this._children[t];if(e)return c.keys(e)}else{if(\"\\0\"===t)return this.nodes();if(this.hasNode(t))return[]}},r.prototype.predecessors=function(t){var e=this._preds[t];if(e)return c.keys(e)},r.prototype.successors=function(t){var e=this._sucs[t];if(e)return c.keys(e)},r.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return c.union(e,this.successors(t))},r.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},r.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var i=this;c.each(this._nodes,function(t,e){n(e)&&r.setNode(e,t)}),c.each(this._edgeObjs,function(t){r.hasNode(t.v)&&r.hasNode(t.w)&&r.setEdge(t,i.edge(t))});var o={};return this._isCompound&&c.each(r.nodes(),function(t){r.setParent(t,function t(e){var n=i.parent(e);return void 0===n||r.hasNode(n)?o[e]=n:n in o?o[n]:t(n)}(t))}),r},r.prototype.setDefaultEdgeLabel=function(t){return c.isFunction(t)||(t=c.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return c.values(this._edgeObjs)},r.prototype.setPath=function(t,n){var r=this,i=arguments;return c.reduce(t,function(t,e){return 1<i.length?r.setEdge(t,e,n):r.setEdge(t,e),e}),this},r.prototype.setEdge=function(){var t,e,n=!1,r=arguments[0];\"object\"===u(r)&&null!==r&&\"v\"in r?(a=r.v,s=r.w,t=r.name,2===arguments.length&&(e=arguments[1],n=!0)):(a=r,s=arguments[1],t=arguments[3],2<arguments.length&&(e=arguments[2],n=!0)),a=\"\"+a,s=\"\"+s,c.isUndefined(t)||(t=\"\"+t);var i=l(this._isDirected,a,s,t);if(c.has(this._edgeLabels,i))return n&&(this._edgeLabels[i]=e),this;if(!c.isUndefined(t)&&!this._isMultigraph)throw new Error(\"Cannot set a named edge when isMultigraph = false\");this.setNode(a),this.setNode(s),this._edgeLabels[i]=n?e:this._defaultEdgeLabelFn(a,s,t);var o=function(t,e,n,r){var i,o=\"\"+e,a=\"\"+n;!t&&a<o&&(i=o,o=a,a=i);var s={v:o,w:a};return r&&(s.name=r),s}(this._isDirected,a,s,t),a=o.v,s=o.w;return Object.freeze(o),this._edgeObjs[i]=o,h(this._preds[s],a),h(this._sucs[a],s),this._in[s][i]=o,this._out[a][i]=o,this._edgeCount++,this},r.prototype.edge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,t):l(this._isDirected,t,e,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,t):l(this._isDirected,t,e,n);return c.has(this._edgeLabels,r)},r.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):l(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[e],t),o(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},r.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=c.values(n);return e?c.filter(r,function(t){return t.v===e}):r}},r.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=c.values(n);return e?c.filter(r,function(t){return t.w===e}):r}},r.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(49)(n(38),\"Map\");t.exports=r},function(t,e,n){var r=n(399),i=n(406),o=n(408),a=n(409),s=n(410);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return\"number\"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,s,u){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var n=u(179),r=\"object\"==e(s)&&s&&!s.nodeType&&s,i=r&&\"object\"==e(t)&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require(\"util\").types||o&&o.binding&&o.binding(\"util\")}catch(t){}}();t.exports=a}).call(this,u(135)(t))},function(t,e,n){var r=n(101),i=n(416),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e,n=[];for(e in Object(t))o.call(t,e)&&\"constructor\"!=e&&n.push(e);return n}},function(t,e,n){var r=n(186),i=n(187),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(192);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(144),i=n(48);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(435)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var i=n(18),o=n(62),a=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,s=/^\\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=r(t);return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=t&&!o(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var c=n(140),h=n(469);t.exports=function t(e,n,r,i,o){var a=-1,s=e.length;for(r=r||h,o=o||[];++a<s;){var u=e[a];0<n&&r(u)?1<n?t(u,n-1,r,i,o):c(o,u):i||(o[o.length]=u)}return o}},function(t,e,n){var c=n(62);t.exports=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o,a,s=t[r],u=e(s);null!=u&&(void 0===o?u==u&&!c(u):n(u,o))&&(o=u,a=s)}return a}},function(t,e,n){var c=n(232),h=[\"LR\",\"RL\",\"TB\",\"BT\",\"H\",\"V\"],l=[\"LR\",\"RL\",\"H\"],f=h[0];t.exports=function(t,e,n){var r,i,o,a,s=e.direction||f;if(e.isHorizontal=-1<l.indexOf(s),s&&-1===h.indexOf(s))throw new TypeError(\"Invalid direction: \"+s);s===h[0]?n(t,e):s===h[1]?(n(t,e),t.right2left()):s===h[2]?n(t,e):s===h[3]?(n(t,e),t.bottom2top()):s!==h[4]&&s!==h[5]||(i=(r=c(t,e)).left,o=r.right,n(i,e),n(o,e),e.isHorizontal?i.right2left():i.bottom2top(),o.translate(i.x-o.x,i.y-o.y),t.x=i.x,t.y=o.y,a=t.getBoundingBox(),e.isHorizontal?a.top<0&&t.translate(0,-a.top):a.left<0&&t.translate(-a.left,0));var u=e.fixedRoot;return void 0===u&&(u=!0),u&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(3);e.default=function(t,e,n){for(var r=0,i=o.default(e)?e.split(\".\"):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new c.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=a,e.multiply=s,e.divide=h,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=l,e.squaredDistance=f,e.squaredLength=d,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=p,e.dot=g,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*h,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*h+r[0]*l+i[0]*f,t[1]=e[1]*c+n[1]*h+r[1]*l+i[1]*f,t[2]=e[2]*c+n[2]*h+r[2]*l+i[2]*f,t},e.random=function(t,e){e=e||1;var n=2*c.RANDOM()*Math.PI,r=2*c.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=(a=n[3]*r+n[7]*i+n[11]*o+n[15])||1;return t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=i*c-o*u,l=o*s-r*c,f=r*u-i*s,d=i*f-o*l,p=o*h-r*f,g=r*l-i*h,v=2*a;return h*=v,l*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+h+d,t[1]=u+l+p,t[2]=c+f+g,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);p(n,n),p(r,r);var i=g(n,r);return 1<i?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var u,c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(126));function r(){var t=new c.ARRAY_TYPE(3);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var r=new c.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function h(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function d(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function p(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=a,e.mul=s,e.div=h,e.dist=l,e.sqrDist=f,e.len=i,e.sqrLen=d,e.forEach=(u=r(),function(t,e,n,r,i,o){var a,s=void 0;for(e=e||3,n=n||0,a=r?Math.min(r*e+n,t.length):t.length,s=n;s<a;s+=e)u[0]=t[s],u[1]=t[s+1],u[2]=t[s+2],i(u,u,o),t[s]=u[0],t[s+1]=u[1],t[s+2]=u[2];return t})},function(t,e,n){t.exports={graphlib:n(37),layout:n(493),debug:n(552),util:{time:n(26).time,notime:n(26).notime},version:n(553)}},function(t,e,n){var r={compactBox:n(554),dendrogram:n(556),indented:n(558),mindmap:n(560)};t.exports=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(27);e.default=function(t,e){if(!o.default(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(8),s=n(156);e.default=function(t,e){var n=s.default(e),r=n.length;if(a.default(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(2),o=n(12),r=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return i.default(n,function(t,e){o.default(n)&&\"prototype\"===e||r.push(e)}),r};e.default=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(27),s=Array.prototype.splice;e.default=function(t,e){if(!a.default(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||(i=o,s.call(t,o,1))}return t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(86),i=n(2);e.default=function(t){var e=[];return i.default(t,function(t){r.default(e,t)||e.push(t)}),e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4),o=n(12),a=n(83);e.default=function(t,e){return e?(o.default(e)||(i=r.default(e)?e:e.replace(/\\s+/g,\"\").split(\"*\"),e=function(t){for(var e=\"_\",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}),a.default(t,e)):{0:t};var i}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(2),o=n(12),r=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return i.default(n,function(t,e){o.default(n)&&\"prototype\"===e||r.push(t)}),r};e.default=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r={}.toString;e.default=function(t){return r.call(t).replace(/^\\[object /,\"\").replace(/]$/,\"\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=Object.prototype;e.default=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||r)}},function(t,e){},function(t,e){},function(t,e,n){\"use strict\";var i,r=n(1),o=(i=n(121).a,Object(r.__extends)(a,i),a.prototype.isGroup=function(){return!0},a.prototype.isEntityGroup=function(){return!1},a.prototype.clone=function(){for(var t=i.prototype.clone.call(this),e=this.getChildren(),n=0;n<e.length;n++){var r=e[n];t.add(r.clone())}return t},a);function a(){return null!==i&&i.apply(this,arguments)||this}e.a=o},function(t,e,n){\"use strict\";var r,i=n(1),o=n(122),w=n(39),a=(r=o.a,Object(i.__extends)(s,r),s.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},s.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},s.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set(\"bbox\",t)),t},s.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set(\"canvasBBox\",t)),t},s.prototype.applyMatrix=function(t){r.prototype.applyMatrix.call(this,t),this.set(\"canvasBBox\",null)},s.prototype.calculateCanvasBBox=function(){var t,e,n,r,i=this.getBBox(),o=this.getTotalMatrix(),a=i.minX,s=i.minY,u=i.maxX,c=i.maxY;o&&(t=Object(w.c)(o,[i.minX,i.minY]),e=Object(w.c)(o,[i.maxX,i.minY]),n=Object(w.c)(o,[i.minX,i.maxY]),r=Object(w.c)(o,[i.maxX,i.maxY]),a=Math.min(t[0],e[0],n[0],r[0]),u=Math.max(t[0],e[0],n[0],r[0]),s=Math.min(t[1],e[1],n[1],r[1]),c=Math.max(t[1],e[1],n[1],r[1]));var h,l,f,d,p,g,v,y,m,b,x=this.attrs;return x.shadowColor&&(v=a-(l=void 0===(h=x.shadowBlur)?0:h)+(d=void 0===(f=x.shadowOffsetX)?0:f),y=u+l+d,m=s-l+(g=void 0===(p=x.shadowOffsetY)?0:p),b=c+l+g,a=Math.min(a,v),u=Math.max(u,y),s=Math.min(s,m),c=Math.max(c,b)),{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},s.prototype.clearCacheBBox=function(){this.set(\"bbox\",null),this.set(\"canvasBBox\",null)},s.prototype.isClipShape=function(){return this.get(\"isClipShape\")},s.prototype.isInShape=function(t,e){return!1},s.prototype.isOnlyHitBox=function(){return!1},s.prototype.isHit=function(t,e){var n=this.get(\"startArrowShape\"),r=this.get(\"endArrowShape\"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},s);function s(t){return r.call(this,t)||this}e.a=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.parseRadius=e.parseStyle=e.parsePattern=e.parseRadialGradient=e.parseLineGradient=void 0;var o=n(24),p=/^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,g=/^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,c=/^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,v=/[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;function y(t,n){var e=t.match(v);o.each(e,function(t){var e=t.split(\":\");n.addColorStop(e[0],e[1])})}function r(t,e,n){var r,i=p.exec(n),o=parseFloat(i[1])%360*(Math.PI/180),a=i[2],s=e.getBBox(),u=0<=o&&o<.5*Math.PI?(r={x:s.minX,y:s.minY},{x:s.maxX,y:s.maxY}):.5*Math.PI<=o&&o<Math.PI?(r={x:s.maxX,y:s.minY},{x:s.minX,y:s.maxY}):Math.PI<=o&&o<1.5*Math.PI?(r={x:s.maxX,y:s.maxY},{x:s.minX,y:s.minY}):(r={x:s.minX,y:s.maxY},{x:s.maxX,y:s.minY}),c=Math.tan(o),h=c*c,l=(u.x-r.x+c*(u.y-r.y))/(1+h)+r.x,f=c*(u.x-r.x+c*(u.y-r.y))/(1+h)+r.y,d=t.createLinearGradient(r.x,r.y,l,f);return y(a,d),d}function i(t,e,n){var r=g.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(v);return u[u.length-1].split(\":\")[1]}var c=e.getBBox(),h=c.maxX-c.minX,l=c.maxY-c.minY,f=Math.sqrt(h*h+l*l)/2,d=t.createRadialGradient(c.minX+h*i,c.minY+l*o,0,c.minX+h/2,c.minY+l/2,a*f);return y(s,d),d}function a(t,e,n){if(e.get(\"patternSource\")&&e.get(\"patternSource\")===n)return e.get(\"pattern\");var r,i,o=c.exec(n),a=o[1],s=o[2];function u(){r=t.createPattern(i,a),e.set(\"pattern\",r),e.set(\"patternSource\",n)}switch(a){case\"a\":a=\"repeat\";break;case\"x\":a=\"repeat-x\";break;case\"y\":a=\"repeat-y\";break;case\"n\":a=\"no-repeat\";break;default:a=\"no-repeat\"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin=\"Anonymous\"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}e.parseLineGradient=r,e.parseRadialGradient=i,e.parsePattern=a,e.parseStyle=function(t,e,n){if(o.isString(n)){if(\"(\"===n[1]||\"(\"===n[2]){if(\"l\"===n[0])return r(t,e,n);if(\"r\"===n[0])return i(t,e,n);if(\"p\"===n[0])return a(t,e,n)}return n}},e.parseRadius=function(t){var e=0,n=0,r=0,i=0;return o.isArray(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.snapLength=e.nearestPoint=void 0;var w=n(40);e.nearestPoint=function(t,e,n,r,i,o){var a,s=1/0,u=[n,r],c=20;o&&200<o&&(c=o/10);for(var h=1/c,l=h/10,f=0;f<=c;f++){var d=f*h,p=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))];(x=w.distance(u[0],u[1],p[0],p[1]))<s&&(a=d,s=x)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}for(s=1/0,f=0;f<32&&!(l<1e-4);f++){var v,y,m=a-l,b=a+l,x=(p=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],w.distance(u[0],u[1],p[0],p[1]));0<=m&&x<s?(a=m,s=x):(v=[i.apply(null,t.concat([b])),i.apply(null,e.concat([b]))],y=w.distance(u[0],u[1],v[0],v[1]),b<=1&&y<s?(a=b,s=y):l*=.5)}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}},e.snapLength=function(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],a=e[i],s=t[(i+1)%r],u=e[(i+1)%r];n+=w.distance(o,a,s,u)}return n/2}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var _=n(54),O=n(55);function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function C(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function k(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))}function E(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=E,e.default=function(t,e){var n=e[1],r=e[2],i=_.default(O.default(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],h=e[7],l=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-h)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-h)/2,d=l*l/(n*n)+f*f/(r*r);1<d&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(l*l),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*l/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+h)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(l-v)/n,(f-y)/r],w=[(-1*l-v)/n,(-1*f-y)/r],M=k([1,0],x),S=k(x,w);return C(x,w)<=-1&&(S=Math.PI),1<=C(x,w)&&(S=0),0===a&&0<S&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:m,cy:b,rx:E(t,[c,h])?0:n,ry:E(t,[c,h])?0:r,startAngle:M,endAngle:M+S,xRotation:i,arcFlag:o,sweepFlag:a}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(19),a=n(89),s=n(75),h=n(0),l=n(24),u=(r=o.AbstractGroup,i.__extends(c,r),c.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},c.prototype.getShapeBase=function(){return a},c.prototype.getGroupBase=function(){return c},c.prototype._applyClip=function(t,e){e&&(t.save(),s.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},c.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],r=[];h.each(t,function(t){var e=t.cfg.cacheCanvasBBox;e&&t.cfg.isInView&&(n.push(e.minX,e.maxX),r.push(e.minY,e.maxY))});var e,i,o,a,s,u,c=null;n.length?(e=Math.min.apply(null,n),i=Math.max.apply(null,n),c={minX:e,minY:o=Math.min.apply(null,r),x:e,y:o,maxX:i,maxY:a=Math.max.apply(null,r),width:i-e,height:a-o},(s=this.cfg.canvas)&&(u=s.getViewRange(),this.set(\"isInView\",l.intersectRect(c,u)))):this.set(\"isInView\",!1),this.set(\"cacheCanvasBBox\",c)},c.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),s.applyAttrsToContext(t,this),this._applyClip(t,this.getClip()),s.drawChildren(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set(\"hasChanged\",!1)},c.prototype.skipDraw=function(){this.set(\"cacheCanvasBBox\",null),this.set(\"hasChanged\",!1)},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(116);e.default=function(t,e,n){var r=i.getOffScreenContext();return t.createPath(r),r.isPointInPath(e,n)}},function(t,e,n){\"use strict\";function l(t){return Math.abs(t)<1e-6?0:t<0?-1:1}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o,a,s,u=0;u<i;u++){var c=t[u],h=t[(u+1)%i];if(a=h,((s=[e,n])[0]-(o=c)[0])*(a[1]-o[1])==(a[0]-o[0])*(s[1]-o[1])&&Math.min(o[0],a[0])<=s[0]&&s[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=s[1]&&s[1]<=Math.max(o[1],a[1]))return!0;0<l(c[1]-n)!=0<l(h[1]-n)&&l(e-(n-c[1])*(c[0]-h[0])/(c[1]-h[1])-c[0])<0&&(r=!r)}return r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var h=n(24);e.default=function(t,e,n,r,i,o,a,s){var u=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(u<r||i<u)return!1;var c={x:t+n*Math.cos(u),y:e+n*Math.sin(u)};return h.distance(c.x,c.y,a,s)<=o/2}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var d=n(91);e.default=function(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var s=t[a][0],u=t[a][1],c=t[a+1][0],h=t[a+1][1];if(d.default(s,u,c,h,e,n,r))return!0}if(i){var l=t[0],f=t[o-1];if(d.default(l[0],l[1],f[0],f[1],e,n,r))return!0}return!1}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(19),a=n(0),s=n(130),u=n(129),c=n(76),h=n(25),l=n(36),f=(r=o.AbstractGroup,i.__extends(d,r),d.prototype.isEntityGroup=function(){return!0},d.prototype.createDom=function(){var t=l.createSVGElement(\"g\");this.set(\"el\",t);var e,n=this.getParent();return n&&((e=n.get(\"el\"))||(e=n.createDom(),n.set(\"el\",e)),e.appendChild(t)),t},d.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var e,n=this.get(\"canvas\");n&&n.get(\"autoDraw\")&&(e=n.get(\"context\"),this.createPath(e,t))},d.prototype.onCanvasChange=function(t){u.refreshElement(this,t)},d.prototype.getShapeBase=function(){return s},d.prototype.getGroupBase=function(){return d},d.prototype.draw=function(t){var e=this.getChildren(),n=this.get(\"el\");this.get(\"destroyed\")?n&&n.parentNode.removeChild(n):(n||this.createDom(),c.setClip(this,t),this.createPath(t),e.length&&u.drawChildren(t,e))},d.prototype.createPath=function(t,e){var n=this.attr(),r=this.get(\"el\");a.each(e||n,function(t,e){h.SVG_ATTR_MAP[e]&&r.setAttribute(h.SVG_ATTR_MAP[e],t)}),c.setTransform(this)},d);function d(){return null!==r&&r.apply(this,arguments)||this}e.default=f},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(23);a.translate=function(t,e,n){var r=new Array(9);return a.fromTranslation(r,n),a.multiply(t,r,e)},a.rotate=function(t,e,n){var r=new Array(9);return a.fromRotation(r,n),a.multiply(t,r,e)},a.scale=function(t,e,n){var r=new Array(9);return a.fromScaling(r,n),a.multiply(t,r,e)},a.transform=function(t,e){for(var n=[].concat(t),r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case\"t\":a.translate(n,n,[o[1],o[2]]);break;case\"s\":a.scale(n,n,[o[1],o[2]]);break;case\"r\":a.rotate(n,n,o[1])}}return n},e.default=a},function(t,e,n){var v=n(92),y=n(134),m=n(97),b=n(411),x=n(417),w=n(184),M=n(185),S=n(420),_=n(421),O=n(189),C=n(422),k=n(61),E=n(426),j=n(427),P=n(194),I=n(18),A=n(60),T=n(431),N=n(31),B=n(433),D=n(48),L=n(51),R={};R[\"[object Arguments]\"]=R[\"[object Array]\"]=R[\"[object ArrayBuffer]\"]=R[\"[object DataView]\"]=R[\"[object Boolean]\"]=R[\"[object Date]\"]=R[\"[object Float32Array]\"]=R[\"[object Float64Array]\"]=R[\"[object Int8Array]\"]=R[\"[object Int16Array]\"]=R[\"[object Int32Array]\"]=R[\"[object Map]\"]=R[\"[object Number]\"]=R[\"[object Object]\"]=R[\"[object RegExp]\"]=R[\"[object Set]\"]=R[\"[object String]\"]=R[\"[object Symbol]\"]=R[\"[object Uint8Array]\"]=R[\"[object Uint8ClampedArray]\"]=R[\"[object Uint16Array]\"]=R[\"[object Uint32Array]\"]=!0,R[\"[object Error]\"]=R[\"[object Function]\"]=R[\"[object WeakMap]\"]=!1,t.exports=function n(r,i,o,t,e,a){var s,u=1&i,c=2&i,h=4&i;if(o&&(s=e?o(r,t,e,a):o(r)),void 0!==s)return s;if(!N(r))return r;var l=I(r);if(l){if(s=E(r),!u)return M(r,s)}else{var f=k(r),d=\"[object Function]\"==f||\"[object GeneratorFunction]\"==f;if(A(r))return w(r,u);if(\"[object Object]\"==f||\"[object Arguments]\"==f||d&&!e){if(s=c||d?{}:P(r),!u)return c?_(r,x(s,r)):S(r,b(s,r))}else{if(!R[f])return e?r:{};s=j(r,f,u)}}var p=(a=a||new v).get(r);if(p)return p;a.set(r,s),B(r)?r.forEach(function(t){s.add(n(t,i,o,t,r,a))}):T(r)&&r.forEach(function(t,e){s.set(e,n(t,i,o,e,r,a))});var g=l?void 0:(h?c?C:O:c?L:D)(r);return y(g||r,function(t,e){g&&(t=r[e=t]),m(s,e,n(t,i,o,e,r,a))}),s}},function(r,t,e){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var n=\"object\"==(void 0===t?\"undefined\":e(t))&&t&&t.Object===Object&&t;r.exports=n}).call(this,e(393))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}},function(t,e,n){var r=n(49),i=function(){try{var t=r(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var h=n(412),l=n(79),f=n(18),d=n(60),p=n(99),g=n(80),v=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n,r=f(t),i=!r&&l(t),o=!r&&!i&&d(t),a=!r&&!i&&!o&&g(t),s=r||i||o||a,u=s?h(t.length,String):[],c=u.length;for(n in t)!e&&!v.call(t,n)||s&&(\"length\"==n||o&&(\"offset\"==n||\"parent\"==n)||a&&(\"buffer\"==n||\"byteLength\"==n||\"byteOffset\"==n)||p(n,c))||u.push(n);return u}},function(t,e){t.exports=function(e,n){return function(t){return e(n(t))}}},function(t,s,u){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var n=u(38),r=\"object\"==e(s)&&s&&!s.nodeType&&s,i=r&&\"object\"==e(t)&&t&&!t.nodeType&&t,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,u(135)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(140),i=n(102),o=n(139),a=n(187),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(190),i=n(139),o=n(48);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var i=n(140),o=n(18);t.exports=function(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}},function(t,e,n){var r=n(49)(n(38),\"Set\");t.exports=r},function(t,e,n){var r=n(38).Uint8Array;t.exports=r},function(t,e,n){var r=n(141);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(195),i=n(102),o=n(101);t.exports=function(t){return\"function\"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){function r(t){if(!i(t))return{};if(o)return o(t);a.prototype=t;var e=new a;return a.prototype=void 0,e}var i=n(31),o=Object.create;function a(){}t.exports=r},function(t,e,n){t.exports=n(197)},function(t,e,n){var r=n(134),i=n(103),o=n(198),a=n(18);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(52);t.exports=function(t){return\"function\"==typeof t?t:r}},function(t,e,n){var r=n(186),i=n(437),o=n(44),a=n(18);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var a=n(440),s=n(41);t.exports=function t(e,n,r,i,o){return e===n||(null==e||null==n||!s(e)&&!s(n)?e!=e&&n!=n:a(e,n,r,i,t,o))}},function(t,e,n){var y=n(202),m=n(443),b=n(203);t.exports=function(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&s<u))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var l=-1,f=!0,d=2&n?new y:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var p,g=t[l],v=e[l];if(r&&(p=a?r(v,g,l,e,t,o):r(g,v,l,t,e,o)),void 0!==p){if(p)continue;f=!1;break}if(d){if(!m(e,function(t,e){if(!b(d,e)&&(g===t||i(g,t,n,r,o)))return d.push(e)})){f=!1;break}}else if(g!==v&&!i(g,v,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}},function(t,e,n){var r=n(133),i=n(441),o=n(442);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(31);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}},function(t,e,n){var r=n(453);t.exports=function(t){return null==t?\"\":r(t)}},function(t,e,n){var r=n(454),i=n(208);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var s=n(105),u=n(79),c=n(18),h=n(99),l=n(136),f=n(81);t.exports=function(t,e,n){for(var r=-1,i=(e=s(e,t)).length,o=!1;++r<i;){var a=f(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&l(i)&&h(a,i)&&(c(t)||u(t))}},function(t,e){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(t,e,n){var r=n(457),i=n(208);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(106),i=n(44),o=n(213),a=n(18);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var a=n(103),s=n(43);t.exports=function(t,r){var i=-1,o=s(t)?Array(t.length):[];return a(t,function(t,e,n){o[++i]=r(t,e,n)}),o}},function(t,e,n){var o=n(459),a=n(103),s=n(44),u=n(460),c=n(18);t.exports=function(t,e,n){var r=c(t)?o:u,i=arguments.length<3;return r(t,s(e,4),n,i,a)}},function(t,e,n){var u=n(470),c=Math.max;t.exports=function(o,a,s){return a=c(void 0===a?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=c(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];e=-1;for(var i=Array(a+1);++e<a;)i[e]=t[e];return i[a]=s(r),u(o,this,i)}}},function(t,e,n){var r=n(471),i=n(472)(r);t.exports=i},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(43),i=n(41);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(481),i=n(48);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(30),i=n(221);t.exports=function(e,t,n,r){return function(t,n,o,e){function r(t){var e=t.v!==a?t.v:t.w,n=u[e],r=o(t),i=s.distance+r;if(r<0)throw new Error(\"dijkstra does not allow negative edge weights. Bad edge: \"+t+\" Weight: \"+r);i<n.distance&&(n.distance=i,n.predecessor=a,c.decrease(e,i))}var a,s,u={},c=new i;for(t.nodes().forEach(function(t){var e=t===n?0:Number.POSITIVE_INFINITY;u[t]={distance:e},c.add(t,e)});0<c.size()&&(a=c.removeMin(),(s=u[a]).distance!==Number.POSITIVE_INFINITY);)e(a).forEach(r);return u}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},function(t,e,n){var o=n(30);function r(){this._arr=[],this._keyIndices={}}(t.exports=r).prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return o.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error(\"Queue underflow\");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),o.has(n,t))return!1;var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error(\"New priority is greater than current priority. Key: \"+t+\" Old: \"+this._arr[n].priority+\" New: \"+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=1+n,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},function(t,e,n){var h=n(30);t.exports=function(o){var a=0,s=[],u={},c=[];return o.nodes().forEach(function(t){h.has(u,t)||function e(t){var n=u[t]={onStack:!0,lowlink:a,index:a++};if(s.push(t),o.successors(t).forEach(function(t){h.has(u,t)?u[t].onStack&&(n.lowlink=Math.min(n.lowlink,u[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,u[t].lowlink))}),n.lowlink===n.index){for(var r,i=[];r=s.pop(),u[r].onStack=!1,i.push(r),t!==r;);c.push(i)}}(t)}),c}},function(t,e,n){var a=n(30);function r(n){var r={},i={},o=[];if(a.each(n.sinks(),function t(e){if(a.has(i,e))throw new s;a.has(r,e)||(i[e]=!0,r[e]=!0,a.each(n.predecessors(e),t),delete i[e],o.push(e))}),a.size(r)!==n.nodeCount())throw new s;return o}function s(){}((t.exports=r).CycleException=s).prototype=new Error},function(t,e,n){var s=n(30);t.exports=function(e,t,n){s.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return s.each(t,function(t){if(!e.hasNode(t))throw new Error(\"Graph does not have node: \"+t);!function e(n,t,r,i,o,a){s.has(i,t)||(i[t]=!0,r||a.push(t),s.each(o(t),function(t){e(n,t,r,i,o,a)}),r&&a.push(t))}(e,t,\"post\"===n,o,r,i)}),i}},function(t,e,n){var r=n(500);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(147);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(98),i=n(58);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if((\"constructor\"!==e||\"function\"!=typeof t[e])&&\"__proto__\"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){\"use strict\";var s=n(14),a=n(37).Graph,u=n(109).slack;t.exports=function(t){var e,n,r=new a({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(r.setNode(i,{});function(o,a){return s.forEach(o.nodes(),function r(i){s.forEach(a.nodeEdges(i),function(t){var e=t.v,n=i===e?t.w:e;o.hasNode(n)||u(a,t)||(o.setNode(n,{}),o.setEdge(i,n,{}),r(n))})}),o.nodeCount()}(r,t)<o;)e=function(e,n){return s.minBy(n.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return u(n,t)})}(r,t),n=r.hasNode(e.v)?u(t,e):-u(t,e),function(t,e,n){s.forEach(t.nodes(),function(t){e.node(t).rank+=n})}(r,t,n);return r}},function(t,e,n){var h=n(53),l={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||\" \";return t.width||18*e.split(\"\").length}};function f(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof f)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.width=e.getWidth(t),n.height=e.getHeight(t),n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}h.assign(f.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.eachNode(function(t){t.x+=e,t.y+=n})},right2left:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),this.translate(e.width,0)},bottom2top:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),this.translate(0,e.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var r,i=new f(t,e=h.assign({},l,e)),o=[i];if(!n&&!t.collapsed)for(;r=o.shift();)if(!r.data.collapsed){var a=e.getChildren(r.data),s=a?a.length:0;if(r.children=new Array(s),a&&s)for(var u=0;u<s;u++){var c=new f(a[u],e);r.children[u]=c,o.push(c),c.parent=r,c.depth=r.depth+1}}return i}},function(t,e,n){var c=n(231);t.exports=function(t,e){for(var n=c(t.data,e,!0),r=c(t.data,e,!0),i=t.children.length,o=Math.round(i/2),a=e.getSide||function(t,e){return e<o?\"right\":\"left\"},s=0;s<i;s++){var u=t.children[s];\"right\"===a(u,s)?r.children.push(u):n.children.push(u)}return n.eachNode(function(t){t.isRoot()||(t.side=\"left\")}),r.eachNode(function(t){t.isRoot()||(t.side=\"right\")}),{left:n,right:r}}},function(t,e,n){\"use strict\";n(234)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})},function(t,e,n){\"use strict\";n(236)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})},function(t,e,n){\"use strict\";var r=n(1),i=n(84),o=n(121),u=n(10),y=n(0),s=n(568),c=n(70),m=n(245),b=n(241),x=n(42),w=[1,0,0,0,1,0,0,0,1];var a=(f.prototype.initTimer=function(){var r,i,o,a=this;this.timer=s.a(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((r=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!r.isAnimatePaused())for(var n=(i=r.get(\"animations\")).length-1;0<=n;n--)o=i[n],function(t,e,n){var r,i=e.startTime;if(!(n<i+e.delay||e._paused)){var o,a=e.duration,s=e.easing;if(n=n-i-e.delay,e.repeat)r=n%a/a,r=c[s](r);else{if(!((r=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),1;r=c[s](r)}e.onFrame?(o=e.onFrame(r),t.attr(o)):function(t,e,n){var r,i,o,a,s={},u=e.fromAttrs,c=e.toAttrs;if(!t.destroyed){for(o in c)if(!Object(y.isEqual)(u[o],c[o]))if(\"path\"===o){var h=c[o],l=u[o];h.length>l.length?(h=x.parsePathString(c[o]),l=x.parsePathString(u[o]),l=x.fillPathByDiff(l,h),l=x.formatPath(l,h),e.fromAttrs.path=l,e.toAttrs.path=h):e.pathFormatted||(h=x.parsePathString(c[o]),l=x.parsePathString(u[o]),l=x.formatPath(l,h),e.fromAttrs.path=l,e.toAttrs.path=h,e.pathFormatted=!0),s[o]=[];for(var f=0;f<h.length;f++){for(var d=h[f],p=l[f],g=[],v=0;v<d.length;v++)Object(y.isNumber)(d[v])&&p&&Object(y.isNumber)(p[v])?(r=Object(m.a)(p[v],d[v]),g.push(r(n))):g.push(d[v]);s[o].push(g)}}else{\"matrix\"===o?(a=Object(b.a)(u[o]||w,c[o]||w)(n),s[o]=a):[\"fill\",\"stroke\",\"fillStyle\",\"strokeStyle\"].includes(o)&&(i=c[o],/^[r,R,L,l]{1}[\\s]*\\(/.test(i))?s[o]=c[o]:Object(y.isFunction)(c[o])||(r=Object(m.a)(u[o],c[o]),s[o]=r(n))}t.attr(s)}}(t,e,r)}}(r,o,t)&&(i.splice(n,1),o.callback&&o.callback());0===i.length&&a.removeAnimator(e)}a.canvas.get(\"autoDraw\")||a.canvas.draw()}})},f.prototype.addAnimator=function(t){this.animators.push(t)},f.prototype.removeAnimator=function(t){this.animators.splice(t,1)},f.prototype.isAnimating=function(){return!!this.animators.length},f.prototype.stop=function(){this.timer&&this.timer.stop()},f.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},f.prototype.getTime=function(){return this.current},f),h=n(112),l=[\"mousedown\",\"mouseup\",\"dblclick\",\"mouseout\",\"mouseover\",\"mousemove\",\"mouseleave\",\"mouseenter\",\"touchstart\",\"touchmove\",\"touchend\",\"dragenter\",\"dragover\",\"dragleave\",\"drop\",\"contextmenu\",\"mousewheel\"];function f(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}function d(t,e,n){n.name=e,n.target=t,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}var p,g=(O.prototype.init=function(){this._bindEvents()},O.prototype._bindEvents=function(){var e=this,n=this.canvas.get(\"el\");Object(u.a)(l,function(t){n.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener(\"mousemove\",this._onDocumentMove),document.addEventListener(\"mouseup\",this._onDocumentMouseUp))},O.prototype._clearEvents=function(){var e=this,n=this.canvas.get(\"el\");Object(u.a)(l,function(t){n.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener(\"mousemove\",this._onDocumentMove),document.removeEventListener(\"mouseup\",this._onDocumentMouseUp))},O.prototype._getEventObj=function(t,e,n,r,i,o){var a=new h.a(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},O.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},O.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},O.prototype._triggerEvent=function(t,e){var n,r,i=this._getPointInfo(e),o=this._getShape(i,e),a=this[\"_on\"+t],s=!1;a?a.call(this,i,o,e):(n=this.currentShape,\"mouseenter\"===t||\"dragenter\"===t||\"mouseover\"===t?(this._emitEvent(t,e,i,null,null,o),o&&this._emitEvent(t,e,i,o,null,o),\"mouseenter\"===t&&this.draggingShape&&this._emitEvent(\"dragenter\",e,i,null)):\"mouseleave\"===t||\"dragleave\"===t||\"mouseout\"===t?(s=!0,n&&this._emitEvent(t,e,i,n,n,null),this._emitEvent(t,e,i,null,n,null),\"mouseleave\"===t&&this.draggingShape&&this._emitEvent(\"dragleave\",e,i,null)):this._emitEvent(t,e,i,o,null,null)),s||(this.currentShape=o),o&&!o.get(\"destroyed\")&&((r=this.canvas).get(\"el\").style.cursor=o.attr(\"cursor\")||r.get(\"cursor\"))},O.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent(\"mousedown\",n,t,e,null,null)},O.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get(\"el\");n!==r&&(n&&(this._emitEvent(\"mouseout\",t,e,n,n,r),this._emitEvent(\"mouseleave\",t,e,n,n,r),r&&!r.get(\"destroyed\")||(i.style.cursor=this.canvas.get(\"cursor\"))),r&&(this._emitEvent(\"mouseover\",t,e,r,n,r),this._emitEvent(\"mouseenter\",t,e,r,n,r)))},O.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent(\"dragleave\",t,e,n,n,r),this._emitEvent(\"dragenter\",t,e,r,n,r)),i||this._emitEvent(\"dragover\",t,e,r)):n&&this._emitEvent(\"dragleave\",t,e,n,n,r),i&&this._emitEvent(\"dragover\",t,e,r)},O.prototype._afterDrag=function(t,e,n){t&&(t.set(\"capture\",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},O.prototype._onmouseup=function(t,e,n){var r;0===n.button&&(r=this.draggingShape,this.dragging?(r&&this._emitEvent(\"drop\",n,t,e),this._emitEvent(\"dragend\",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent(\"mouseup\",n,t,e),e===this.mousedownShape&&this._emitEvent(\"click\",n,t,e),this.mousedownShape=null,this.mousedownPoint=null))},O.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},O.prototype._onmousemove=function(t,e,n){var r,i,o,a,s,u=this.canvas,c=this.currentShape,h=this.draggingShape;this.dragging?(h&&this._emitDragoverEvents(n,t,c,e,!1),this._emitEvent(\"drag\",n,t,h)):(r=this.mousedownPoint)?(i=this.mousedownShape,o=n.timeStamp-this.mousedownTimeStamp,a=r.clientX-t.clientX,s=r.clientY-t.clientY,120<o||40<a*a+s*s?i&&i.get(\"draggable\")?((h=this.mousedownShape).set(\"capture\",!1),this.draggingShape=h,this.dragging=!0,this._emitEvent(\"dragstart\",n,t,h),this.mousedownShape=null,this.mousedownPoint=null):!i&&u.get(\"draggable\")?(this.dragging=!0,this._emitEvent(\"dragstart\",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent(\"mousemove\",n,t,e)):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent(\"mousemove\",n,t,e))):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent(\"mousemove\",n,t,e))},O.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){d(a.shape=r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||function(t,e,n){if(n.bubbles){var r=void 0,i=!1;if(\"mouseenter\"===e?(r=n.fromShape,i=!0):\"mouseleave\"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Object(u.g)(t,r))return n.bubbles=!1;n.name=e,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}}(s,t,a),a.propagationPath.push(s),s=s.getParent()}else d(this.canvas,t,a)},O.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},O),v=Object(i.detect)(),M=v&&\"firefox\"===v.name,S=(p=o.a,Object(r.__extends)(_,p),_.prototype.getDefaultCfg=function(){var t=p.prototype.getDefaultCfg.call(this);return t.cursor=\"default\",t.supportCSSTransform=!1,t},_.prototype.initContainer=function(){var t=this.get(\"container\");Object(u.h)(t)&&(t=document.getElementById(t),this.set(\"container\",t))},_.prototype.initDom=function(){var t=this.createDom();this.set(\"el\",t),this.get(\"container\").appendChild(t),this.setDOMSize(this.get(\"width\"),this.get(\"height\"))},_.prototype.initEvents=function(){var t=new g({canvas:this});t.init(),this.set(\"eventController\",t)},_.prototype.initTimeline=function(){var t=new a(this);this.set(\"timeline\",t)},_.prototype.setDOMSize=function(t,e){var n=this.get(\"el\");u.c&&(n.style.width=t+\"px\",n.style.height=e+\"px\")},_.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set(\"width\",t),this.set(\"height\",e),this.onCanvasChange(\"changeSize\")},_.prototype.getRenderer=function(){return this.get(\"renderer\")},_.prototype.getCursor=function(){return this.get(\"cursor\")},_.prototype.setCursor=function(t){this.set(\"cursor\",t);var e=this.get(\"el\");u.c&&e&&(e.style.cursor=t)},_.prototype.getPointByEvent=function(t){if(this.get(\"supportCSSTransform\")){if(M&&!Object(u.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(u.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},_.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e=\"touchend\"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},_.prototype.getPointByClient=function(t,e){var n=this.get(\"el\").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},_.prototype.getClientByPoint=function(t,e){var n=this.get(\"el\").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},_.prototype.draw=function(){},_.prototype.removeDom=function(){var t=this.get(\"el\");t.parentNode.removeChild(t)},_.prototype.clearEvents=function(){this.get(\"eventController\").destroy()},_.prototype.isCanvas=function(){return!0},_.prototype.getParent=function(){return null},_.prototype.destroy=function(){var t=this.get(\"timeline\");this.get(\"destroyed\")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),p.prototype.destroy.call(this))},_);function _(t){var e=p.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}function O(t){var n=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;n._triggerEvent(e,t)},this._onDocumentMove=function(t){var e;n.canvas.get(\"el\")!==t.target&&(n.dragging||n.currentShape)&&(e=n._getPointInfo(t),n.dragging&&n._emitEvent(\"drag\",t,e,n.draggingShape))},this._onDocumentMouseUp=function(t){var e;n.canvas.get(\"el\")!==t.target&&n.dragging&&(e=n._getPointInfo(t),n.draggingShape&&n._emitEvent(\"drop\",t,e,null),n._emitEvent(\"dragend\",t,e,n.draggingShape),n._afterDrag(n.draggingShape,e,t))},this.canvas=t.canvas}e.a=S},function(t,e,n){\"use strict\";var r=n(1),i=n(19),s=n(114),o=n(123);function f(t,e,n){var r=t.getTotalMatrix();if(r){var i=function(t,e){if(e){var n=Object(o.invert)(e);return Object(o.multiplyVec2)(n,t)}return t}([e,n,1],r);return[i[0],i[1]]}return[e,n]}function d(t,e,n){if(t.isCanvas&&t.isCanvas())return 1;if(Object(s.isAllowCapture)(t)&&!1!==t.cfg.isInView){if(t.cfg.clipShape){var r=f(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}}var a,u=n(47),c=n(64),h=n(5),l=n(17),p=(a=i.AbstractCanvas,Object(r.__extends)(g,a),g.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.renderer=\"canvas\",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},g.prototype.onCanvasChange=function(t){\"attr\"!==t&&\"sort\"!==t&&\"changeSize\"!==t||(this.set(\"refreshElements\",[this]),this.draw())},g.prototype.getShapeBase=function(){return u},g.prototype.getGroupBase=function(){return c.a},g.prototype.getPixelRatio=function(){var t=this.get(\"pixelRatio\")||Object(h.d)();return 1<=t?Math.ceil(t):1},g.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},g.prototype.createDom=function(){var t=document.createElement(\"canvas\"),e=t.getContext(\"2d\");return this.set(\"context\",e),t},g.prototype.setDOMSize=function(t,e){a.prototype.setDOMSize.call(this,t,e);var n=this.get(\"context\"),r=this.get(\"el\"),i=this.getPixelRatio();r.width=i*t,r.height=i*e,1<i&&n.scale(i,i)},g.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var t=this.get(\"context\"),e=this.get(\"el\");t.clearRect(0,0,e.width,e.height)},g.prototype.getShape=function(t,e){return this.get(\"quickHit\")?function t(e,n,r){if(!d(e,n,r))return null;for(var i=null,o=e.getChildren(),a=o.length-1;0<=a;a--){var s,u,c,h,l=o[a];if(l.isGroup()?i=t(l,n,r):d(l,n,r)&&(c=(u=f(s=l,n,r))[0],h=u[1],s.isInShape(c,h)&&(i=l)),i)break}return i}(this,t,e):a.prototype.getShape.call(this,t,e,null)},g.prototype._getRefreshRegion=function(){var t,e=this.get(\"refreshElements\"),n=this.getViewRange();return e.length&&e[0]===this?t=n:(t=Object(l.f)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get(\"clipView\")&&(t=Object(l.g)(t,n))),t},g.prototype.refreshElement=function(t){this.get(\"refreshElements\").push(t)},g.prototype._clearFrame=function(){var t=this.get(\"drawFrame\");t&&(Object(h.a)(t),this.set(\"drawFrame\",null),this.set(\"refreshElements\",[]))},g.prototype.draw=function(){var t=this.get(\"drawFrame\");this.get(\"autoDraw\")&&t||this._startDraw()},g.prototype._drawAll=function(){var t=this.get(\"context\"),e=this.get(\"el\"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(l.a)(t,this),Object(l.d)(t,n),this.set(\"refreshElements\",[])},g.prototype._drawRegion=function(){var t=this.get(\"context\"),e=this.get(\"refreshElements\"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),Object(l.a)(t,this),Object(l.b)(this,n,r),Object(l.d)(t,n,r),t.restore()):e.length&&Object(l.c)(e),Object(h.c)(e,function(t){t.get(\"hasChanged\")&&t.set(\"hasChanged\",!1)}),this.set(\"refreshElements\",[])},g.prototype._startDraw=function(){var t=this,e=this.get(\"drawFrame\");e||(e=Object(h.n)(function(){t.get(\"localRefresh\")?t._drawRegion():t._drawAll(),t.set(\"drawFrame\",null)}),this.set(\"drawFrame\",e))},g.prototype.skipDraw=function(){},g);function g(){return null!==a&&a.apply(this,arguments)||this}e.a=p},function(t){t.exports=JSON.parse('{\"a\":\"3.7.3\"}')},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=(i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},i.prototype.save=function(){},i.prototype.restore=function(){},i);function i(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.default=r},function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return i});var s=n(245),r=n(68);function i(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=Object(s.a)(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}e.a=function(t,e){return(Object(r.b)(e)?r.a:i)(t,e)}},function(t,e,n){\"use strict\";t.exports=function(t,e,n,r){try{try{var i;try{i=new window.Blob([t])}catch(e){(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}var o=window.URL||window.webkitURL,a=o.createObjectURL(i),s=new window[e](a,n);return o.revokeObjectURL(a),s}catch(r){return new window[e](\"data:application/javascript,\".concat(encodeURIComponent(t)),n)}}catch(t){if(!r)throw Error(\"Inline worker is not supported\");return new window[e](r,n)}}},function(t,e,n){\"use strict\";n(47),n(233),n(235),n(19);var r=n(238);n.d(e,\"Canvas\",function(){return r.a}),n(64),n(562).version},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=(i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},i.prototype.save=function(){},i.prototype.restore=function(){},i);function i(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.default=r},function(t,e,n){\"use strict\";function r(t,e,n){(t.prototype=e.prototype=n).constructor=t}function i(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function c(){}var o=\"\\\\s*([+-]?\\\\d+)\\\\s*\",a=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",s=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",u=/^#([0-9a-f]{3,8})$/,h=new RegExp(\"^rgb\\\\(\"+[o,o,o]+\"\\\\)$\"),l=new RegExp(\"^rgb\\\\(\"+[s,s,s]+\"\\\\)$\"),f=new RegExp(\"^rgba\\\\(\"+[o,o,o,a]+\"\\\\)$\"),d=new RegExp(\"^rgba\\\\(\"+[s,s,s,a]+\"\\\\)$\"),p=new RegExp(\"^hsl\\\\(\"+[a,s,s]+\"\\\\)$\"),g=new RegExp(\"^hsla\\\\(\"+[a,s,s,a]+\"\\\\)$\"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+\"\").trim().toLowerCase(),(e=u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?x(e):3===n?new S(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?w(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?w(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=h.exec(t))?new S(e[1],e[2],e[3],1):(e=l.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=f.exec(t))?w(e[1],e[2],e[3],e[4]):(e=d.exec(t))?w(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?k(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?k(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?x(v[t]):\"transparent\"===t?new S(NaN,NaN,NaN,0):null}function x(t){return new S(t>>16&255,t>>8&255,255&t,1)}function w(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function M(t,e,n,r){return 1===arguments.length?((i=t)instanceof c||(i=b(i)),i?new S((i=i.rgb()).r,i.g,i.b,i.opacity):new S):new S(t,e,n,null==r?1:r);var i}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function _(){return\"#\"+C(this.r)+C(this.g)+C(this.b)}function O(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}function C(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function k(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new j(t,e,n,r)}function E(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof c||(t=b(t)),!t)return new j;if(t instanceof j)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=0<u&&u<1?0:a,new j(a,s,u,t.opacity)}function j(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function P(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(c,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return E(this).formatHsl()},formatRgb:m,toString:m}),r(S,M,i(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_,formatHex:_,formatRgb:O,toString:O})),r(j,function(t,e,n,r){return 1===arguments.length?E(t):new j(t,e,n,null==r?1:r)},i(c,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new j(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(P(240<=t?t-240:120+t,i,r),P(t,i,r),P(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+100*(this.s||0)+\"%, \"+100*(this.l||0)+\"%\"+(1===t?\")\":\", \"+t+\")\")}}));var I=function(t){return function(){return t}};function A(o){return 1==(o=+o)?T:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):I(isNaN(t)?e:t);var n,r,i}}function T(t,e){var n,r,i=e-t;return i?(n=t,r=i,function(t){return n+t*r}):I(isNaN(t)?e:t)}var N=function t(e){var a=A(e);function n(e,t){var n=a((e=M(e)).r,(t=M(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=T(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+\"\"}}return n.gamma=t,n}(1);function B(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var D=n(241);function L(t){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var R=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,z=new RegExp(R.source,\"g\"),Y=n(68);function F(t){return(F=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var X=e.a=function(t,e){var n,r=F(e);return null==e||\"boolean\"===r?I(e):(\"number\"===r?B:\"string\"===r?(n=b(e))?(e=n,N):function(t,r){var e,n,i,o,a,s=R.lastIndex=z.lastIndex=0,u=-1,c=[],h=[];for(t+=\"\",r+=\"\";(e=R.exec(t))&&(n=z.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),c[u]?c[u]+=i:c[++u]=i),(e=e[0])===(n=n[0])?c[u]?c[u]+=n:c[++u]=n:(c[++u]=null,h.push({i:u,x:B(e,n)})),s=z.lastIndex;return s<r.length&&(i=r.slice(s),c[u]?c[u]+=i:c[++u]=i),c.length<2?h[0]?(a=h[0].x,function(t){return a(t)+\"\"}):(o=r,function(){return o}):(r=h.length,function(t){for(var e,n=0;n<r;++n)c[(e=h[n]).i]=e.x(t);return c.join(\"\")})}:e instanceof b?N:e instanceof Date?function(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}:Object(Y.b)(e)?Y.a:Array.isArray(e)?D.b:\"function\"!=typeof e.valueOf&&\"function\"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&\"object\"===L(t)||(t={}),null!==e&&\"object\"===L(e)||(e={}),e)n in t?r[n]=X(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:B)(t,e)}},,,,,,,,,,,,function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(154),i=n(86);e.default=function(t,e){return void 0===e&&(e=[]),r.default(t,function(t){return!i.default(e,t)})}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(12),o=n(155),a=n(4),s=n(72);e.default=function(t,e){if(!a.default(t))return null;var n;if(i.default(e)&&(n=e),s.default(e)&&(n=function(t){return o.default(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(8),a=n(4);e.default=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!o.default(i)){n=a.default(i)?i[0]:i;break}}return n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4);e.default=function(t){if(!r.default(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(4);e.default=function t(e,n){if(void 0===n&&(n=[]),i.default(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(4);e.default=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(o.default(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=Array.prototype,a=r.splice,s=r.indexOf;e.default=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i,o=e[r];-1<(i=s.call(t,o));)a.call(t,i,1);return t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(2),o=n(4),a=n(72);e.default=function(t,n,e){if(!o.default(t)&&!a.default(t))return t;var r=e;return i.default(t,function(t,e){r=n(r,t,e)}),r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(27),u=n(157);e.default=function(t,e){var n=[];if(!s.default(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return u.default(t,i),n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4),o=n(3),a=n(12);e.default=function(t,n){var i,e=a.default(n)?function(t,e){return n(t)-n(e)}:(i=[],o.default(n)?i.push(n):r.default(n)&&(i=n),function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0});return t.sort(e),t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(158);e.default=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.default([].concat.apply([],t))}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var u=n(4),c=n(8);e.default=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!c.default(o)){u.default(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(27);e.default=function(t){if(r.default(t))return t[0]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(27);e.default=function(t){if(r.default(t))return t[t.length-1]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4),i=n(3);e.default=function(t,e){return!(!r.default(t)&&!i.default(t))&&t[0]===e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4),i=n(3);e.default=function(t,e){return!(!r.default(t)&&!i.default(t))&&t[t.length-1]===e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(159);e.default=function(t,e){if(!e)return[t];var n,r=o.default(t,e),i=[];for(n in r)i.push(r[n]);return i}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){return t[\"_wrap_\"+e]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i={};e.default=function(t){var e=i[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n=\"0\"+n;e=\"#\"+n,i[t]=e}return e}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(4);e.default=function(t){var e=0,n=0,r=0,i=0;return o.default(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,n){return t<e?e:n<t?n:t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){var n=e.toString(),r=n.indexOf(\".\");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return 20<i&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13);e.default=function(t){return r.default(t)&&t%1!=0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13);e.default=function(t){return r.default(t)&&t%2==0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13),i=Number.isInteger?Number.isInteger:function(t){return r.default(t)&&t%1==0};e.default=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13);e.default=function(t){return r.default(t)&&t<0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13);e.default=function(t){return r.default(t)&&t%2!=0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13);e.default=function(t){return r.default(t)&&0<t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(2),a=n(4),s=n(12);e.default=function(t,e){if(a.default(t)){var n,r=t[0],i=s.default(e)?e(t[0]):t[0][e];return o.default(t,function(t){(n=s.default(e)?e(t):t[e])>i&&(r=t,i=n)}),r}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(2),a=n(4),s=n(12);e.default=function(t,e){if(a.default(t)){var n,r=t[0],i=s.default(e)?e(t[0]):t[0][e];return o.default(t,function(t){(n=s.default(e)?e(t):t[e])<i&&(r=t,i=n)}),r}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=180/Math.PI;e.default=function(t){return r*t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=parseInt},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(2);e.default=r.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(160);e.default=r.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(86),i=n(161);e.default=function(t,e){return r.default(i.default(t),e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(74);e.default=function(t){return r.default(t).toLowerCase()}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(74);e.default=function(t){var e=r.default(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,n){return t&&n?t.replace(/\\\\?\\{([^{}]+)\\}/g,function(t,e){return\"\\\\\"===t.charAt(0)?t.slice(1):void 0===n[e]?\"\":n[e]}):t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(74);e.default=function(t){return r.default(t).toUpperCase()}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"Arguments\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"Boolean\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"Date\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"Error\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(13);e.default=function(t){return r.default(t)&&isFinite(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return null===t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(34);e.default=function(t){return r.default(t,\"RegExp\")}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return void 0===t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return t instanceof Element||t instanceof HTMLDocument}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(20),a=n(12);e.default=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];a.default(i)&&(i=i.prototype),o.default(n.prototype,i)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(r,i,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(t,e)},i),n&&r.apply(t,e)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(12);e.default=function(o,a){if(!r.default(o))throw new TypeError(\"Expected a function\");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a?a.apply(this,t):t[0],r=s.cache;if(r.has(n))return r.get(n);var i=o.apply(this,t);return r.set(n,i),i}return s.cache=new Map,s}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(20),s=n(12);e.default=function(t,e,n,r){s.default(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=a.default(o,t.prototype),t.superclass=i(e.prototype,e),a.default(o,n),a.default(t,r),t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(27);e.default=function(t,e){if(!o.default(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(8),i=n(27),o=n(162),a=n(163),s=Object.prototype.hasOwnProperty;e.default=function(t){if(r.default(t))return!0;if(i.default(t))return!t.length;var e,n=o.default(t);if(\"Map\"===n||\"Set\"===n)return!t.size;if(a.default(t))return!Object.keys(t).length;for(e in t)if(s.call(t,e))return!1;return!0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(12),i=n(111);e.default=function(t,e,n){return r.default(n)?!!n(t,e):i.default(t,e)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(27);e.default=function(t,e){if(!o.default(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});function i(t){return t}var o=n(8),a=n(32);e.default=function(e,n){void 0===n&&(n=i);var r={};return a.default(e)&&!o.default(e)&&Object.keys(e).forEach(function(t){r[t]=n(e[t],t)}),r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(32),a=n(3),s=n(13);e.default=function(t,e,n){var r=t,i=a.default(e)?e.split(\".\"):e;return i.forEach(function(t,e){e<i.length-1?(o.default(r[t])||(r[t]=s.default(i[e+1])?[]:{}),r=r[t]):r[t]=n}),t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(2),i=n(72),o=Object.prototype.hasOwnProperty;e.default=function(e,t){if(null===e||!i.default(e))return{};var n={};return r.default(t,function(t){o.call(e,t)&&(n[t]=e[t])}),n}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(n,r,i){var o,a,s,u,c=0;i=i||{};function h(){c=!1===i.leading?0:Date.now(),o=null,u=n.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();c||!1!==i.leading||(c=t);var e=r-(t-c);return a=this,s=arguments,e<=0||r<e?(o&&(clearTimeout(o),o=null),c=t,u=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(h,e)),u}return t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(27);e.default=function(t){return r.default(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r={};e.default=function(t){return r[t=t||\"g\"]?r[t]+=1:r[t]=1,t+r[t]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(){}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return t}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(8),i=n(27);e.default=function(t){return r.default(t)?0:i.default(t)?t.length:Object.keys(t).length}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=(i.prototype.has=function(t){return void 0!==this.map[t]},i.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},i.prototype.set=function(t,e){this.map[t]=e},i.prototype.clear=function(){this.map={}},i.prototype.delete=function(t){delete this.map[t]},i.prototype.size=function(){return Object.keys(this.map).length},i);function i(){this.map={}}e.default=r},function(t){t.exports=JSON.parse('{\"name\":\"@antv/g-base\",\"version\":\"0.5.1\",\"description\":\"A common util collection for antv projects\",\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"esm\",\"lib\",\"LICENSE\",\"README.md\"],\"scripts\":{\"build\":\"npm run clean && run-p build:*\",\"build:esm\":\"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"build:cjs\":\"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"clean\":\"rm -rf esm lib\",\"watch:cjs\":\"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc\",\"coverage\":\"npm run coverage-generator && npm run coverage-viewer\",\"coverage-generator\":\"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts\",\"coverage-viewer\":\"torch-coverage\",\"test\":\"torch --renderer --compile --opts tests/mocha.opts\",\"test-live\":\"torch --compile --interactive tests/unit\",\"tsc\":\"tsc --noEmit\",\"typecheck\":\"tsc --noEmit\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/antvis/util.git\"},\"keywords\":[\"util\",\"antv\",\"g\"],\"publishConfig\":{\"access\":\"public\"},\"author\":\"https://github.com/orgs/antvis/people\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/antvis/util/issues\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.0\",\"gl-matrix\":\"^3.0.0\",\"less\":\"^3.9.0\",\"npm-run-all\":\"^4.1.5\",\"tsc-watch\":\"^4.0.0\"},\"homepage\":\"https://github.com/antvis/util#readme\",\"dependencies\":{\"@antv/event-emitter\":\"^0.1.1\",\"@antv/g-math\":\"^0.1.5\",\"@antv/matrix-util\":\"^3.1.0-beta.1\",\"@antv/path-util\":\"~2.0.5\",\"@antv/util\":\"~2.0.0\",\"@types/d3-timer\":\"^1.0.9\",\"d3-ease\":\"^1.0.5\",\"d3-interpolate\":\"^1.3.2\",\"d3-timer\":\"^1.0.9\",\"detect-browser\":\"^5.1.0\"},\"__npminstall_done\":\"Wed Sep 16 2020 10:11:00 GMT+0800 (GMT+08:00)\",\"gitHead\":\"ba7ecf8b8deac37682414ac0b7fc2c3e903398bd\",\"_from\":\"@antv/g-base@0.5.1\",\"_resolved\":\"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.5.1.tgz\"}')},function(t,e){var n,r,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getShape=void 0;var s=n(114),o=n(123);function f(t,e,n){var r=t.getTotalMatrix();if(r){var i=function(t){if(r){var e=o.invert(r);return o.multiplyVec2(e,t)}return t}([e,n,1]);return[i[0],i[1]]}return[e,n]}function d(t,e,n){if(t.isCanvas&&t.isCanvas())return 1;if(s.isAllowCapture(t)&&!1!==t.cfg.isInView){if(t.cfg.clipShape){var r=f(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}}e.getShape=function t(e,n,r){if(!d(e,n,r))return null;for(var i=null,o=e.getChildren(),a=o.length-1;0<=a;a--){var s,u,c,h,l=o[a];if(l.isGroup()?i=t(l,n,r):d(l,n,r)&&(c=(u=f(s=l,n,r))[0],h=u[1],s.isInShape(c,h)&&(i=l)),i)break}return i}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var _=n(24);function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function O(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function C(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(O(t,e))}e.default=function(t,e){var n=e[1],r=e[2],i=_.mod(_.toRadian(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],h=e[7],l=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-h)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-h)/2,d=l*l/(n*n)+f*f/(r*r);1<d&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(l*l),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*l/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+h)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(l-v)/n,(f-y)/r],w=[(-1*l-v)/n,(-1*f-y)/r],M=C([1,0],x),S=C(x,w);return O(x,w)<=-1&&(S=Math.PI),1<=O(x,w)&&(S=0),0===a&&0<S&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:m,cy:b,rx:_.isSamePoint(t,[c,h])?0:n,ry:_.isSamePoint(t,[c,h])?0:r,startAngle:M,endAngle:M+S,xRotation:i,arcFlag:o,sweepFlag:a}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getMethod=e.register=void 0;var r=new Map;e.register=function(t,e){r.set(t,e)},e.getMethod=function(t){return r.get(t)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var h=n(40),l=n(128);e.default=function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=h.getBBoxByArray(n,r),s=a.x,u=a.y,c={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(c=l.mergeArrowBBox(t,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(40);e.default=function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return a.getBBoxByArray(n,r)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var p=n(85);e.default=function(t){var e,n,r,i,o=t.attr(),a=o.x,s=o.y,u=o.text,c=o.fontSize,h=o.lineHeight,l=(l=o.font)||p.assembleFont(o),f=p.getTextWidth(u,l),d=f?(e=o.textAlign,n=o.textBaseline,i={x:a,y:s-(r=p.getTextHeight(u,c,h))},e&&(\"end\"===e||\"right\"===e?i.x-=f:\"center\"===e&&(i.x-=f/2)),n&&(\"top\"===n?i.y+=r:\"middle\"===n&&(i.y+=r/2)),{x:i.x,y:i.y,width:f,height:r}):{x:a,y:s,width:0,height:0};return d}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var v=n(117),y=n(46),m=n(337),u=n(118),l=n(73),c=n(128);function b(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||l.default(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),h=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1])),c=c>Math.PI/2?Math.PI-c:c,h=h>Math.PI/2?Math.PI-h:h;return{xExtra:Math.cos(u/2-c)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(h-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0}}e.default=function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(l=t[o]).currentPoint,s=l.params,u=l.prePoint,c=void 0;switch(l.command){case\"Q\":c=v.default.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case\"C\":c=y.default.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case\"A\":var h=l.arcParams,c=m.default.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(l.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&(\"L\"===l.command||\"M\"===l.command)&&l.prePoint&&l.nextPoint&&i.push(l)}n=n.filter(function(t){return!Number.isNaN(t)}),r=r.filter(function(t){return!Number.isNaN(t)});var l,f=Math.min.apply(null,n),d=Math.min.apply(null,r),p=Math.max.apply(null,n),g=Math.max.apply(null,r);if(0===i.length)return{x:f,y:d,width:p-f,height:g-d};for(o=0;o<i.length;o++){(a=(l=i[o]).currentPoint)[0]===f?f-=b(l,e).xExtra:a[0]===p&&(p+=b(l,e).xExtra),a[1]===d?d-=b(l,e).yExtra:a[1]===g&&(g+=b(l,e).yExtra)}return{x:f,y:d,width:p-f,height:g-d}}(t.get(\"segments\")||u.default(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=c.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var y=n(40),m=n(338);function x(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function w(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function b(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function M(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}e.default={box:function(t,e,n,r,i,o,a){for(var s=Math.atan(-r/n*Math.tan(i)),u=1/0,c=-1/0,h=[o,a],l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var f=s+l;o<a?o<f&&f<a&&h.push(f):a<f&&f<o&&h.push(f)}for(l=0;l<h.length;l++){var d=x(t,0,n,r,i,h[l]);d<u&&(u=d),c<d&&(c=d)}for(var p=Math.atan(r/(n*Math.tan(i))),g=1/0,v=-1/0,y=[o,a],l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var m=p+l;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(l=0;l<y.length;l++){var b=w(0,e,n,r,i,y[l]);b<g&&(g=b),v<b&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,u){var c,h,l=M(s-t,u-e,-i),f=l[0],d=l[1],p=m.default.nearestPoint(0,0,n,r,f,d),g=(c=p.x,h=p.y,(Math.atan2(h*n,c*r)+2*Math.PI)%(2*Math.PI));g<o?p=b(n,r,o):a<g&&(p=b(n,r,a));var v=M(p.x,p.y,i);return{x:v[0]+t,y:v[1]+e}},pointDistance:function(t,e,n,r,i,o,a,s,u){var c=this.nearestPoint(t,e,n,r,s,u);return y.distance(c.x,c.y,s,u)},pointAt:function(t,e,n,r,i,o,a,s){var u=(a-o)*s+o;return{x:x(t,0,n,r,i,u),y:w(0,e,n,r,i,u)}},tangentAngle:function(t,e,n,r,i,o,a,s){var u,c,h,l,f,d,p=(a-o)*s+o,g=(l=r,f=i,d=p,-1*n*Math.cos(f)*Math.sin(d)-l*Math.sin(f)*Math.cos(d)),v=(u=r,c=i,h=p,-1*n*Math.sin(c)*Math.sin(h)+u*Math.cos(c)*Math.cos(h));return y.piMod(Math.atan2(v,g))}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(40);function C(t,e){var n=Math.abs(t);return 0<e?n:-1*n}e.default={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:t,y:e};for(var u,c,h=i-t,l=o-e,f=Math.abs(h),d=Math.abs(l),p=a*a,g=s*s,v=Math.PI/4,y=0;y<4;y++){u=a*Math.cos(v),c=s*Math.sin(v);var m=(p-g)*Math.pow(Math.cos(v),3)/a,b=(g-p)*Math.pow(Math.sin(v),3)/s,x=u-m,w=c-b,M=f-m,S=d-b,_=Math.hypot(w,x),O=Math.hypot(S,M);v+=_*Math.asin((x*S-w*M)/(_*O))/Math.sqrt(p+g-u*u-c*c),v=Math.min(Math.PI/2,Math.max(0,v))}return{x:t+C(u,h),y:e+C(c,l)}},pointDistance:function(t,e,n,r,i,o){var a=this.nearestPoint(t,e,n,r,i,o);return s.distance(a.x,a.y,i,o)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,r,i){var o=2*Math.PI*i,a=Math.atan2(r*Math.cos(o),-n*Math.sin(o));return s.piMod(a)}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(2),o=n(4),a=n(3),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u=/[^\\s\\,]+/gi;e.default=function(t){var r=t||[];return o.default(r)?r:a.default(r)?(r=r.match(s),i.default(r,function(n,t){var e;1<(n=n.match(u))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),i.default(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(128);e.default=function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=s.mergeArrowBBox(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(35),l=n(24),a=(r=o.default,i.__extends(s,r),s.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,r:0})},s.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,c=i/2,h=l.distance(a,s,t,e);return r&&n?h<=u+c:r?h<=u:!!n&&u-c<=h&&h<=u+c},s.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1);function d(t,e,n,r){return t/(n*n)+e/(r*r)}var i,o=(i=n(35).default,r.__extends(a,i),a.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},t),{x:0,y:0,rx:0,ry:0})},a.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,c=o.rx,h=o.ry,l=(t-s)*(t-s),f=(e-u)*(e-u);return r&&n?d(l,f,c+a,h+a)<=1:r?d(l,f,c,h)<=1:!!n&&1<=d(l,f,c-a,h-a)&&d(l,f,c+a,h+a)<=1},a.prototype.createPath=function(t){var e,n,r,i=this.attr(),o=i.x,a=i.y,s=i.rx,u=i.ry;t.beginPath(),t.ellipse?t.ellipse(o,a,s,u,0,0,2*Math.PI,!1):(e=u<s?s:u,n=u<s?1:s/u,r=u<s?u/s:1,t.save(),t.translate(o,a),t.scale(n,r),t.arc(0,0,e,0,2*Math.PI),t.restore(),t.closePath())},a);function a(){return null!==i&&i.apply(this,arguments)||this}e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=n(35),l=n(24);function f(t){return t instanceof HTMLElement&&l.isString(t.nodeName)&&\"CANVAS\"===t.nodeName.toUpperCase()}var o,a=(o=i.default,r.__extends(s,o),s.prototype.getDefaultAttrs=function(){var t=o.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},t),{x:0,y:0,width:0,height:0})},s.prototype.initAttrs=function(t){this._setImage(t.img)},s.prototype.isStroke=function(){return!1},s.prototype.isOnlyHitBox=function(){return!0},s.prototype._afterLoading=function(){var t;!0===this.get(\"toDraw\")&&((t=this.get(\"canvas\"))?t.draw():this.createPath(this.get(\"context\")))},s.prototype._setImage=function(t){var e,n=this,r=this.attrs;l.isString(t)?((e=new Image).onload=function(){if(n.destroyed)return!1;n.attr(\"img\",e),n.set(\"loading\",!1),n._afterLoading();var t=n.get(\"callback\");t&&t.call(n)},e.src=t,e.crossOrigin=\"Anonymous\",this.set(\"loading\",!0)):t instanceof Image?(r.width||(r.width=t.width),r.height||(r.height=t.height)):f(t)&&(r.width||(r.width=Number(t.getAttribute(\"width\"))),r.height||(r.height,Number(t.getAttribute(\"height\"))))},s.prototype.onAttrChange=function(t,e,n){o.prototype.onAttrChange.call(this,t,e,n),\"img\"===t&&this._setImage(e)},s.prototype.createPath=function(t){if(this.get(\"loading\"))return this.set(\"toDraw\",!0),void this.set(\"context\",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,u=e.swidth,c=e.sheight,h=e.img;(h instanceof Image||f(h))&&(l.isNil(a)||l.isNil(s)||l.isNil(u)||l.isNil(c)?t.drawImage(h,n,r,i,o):t.drawImage(h,a,s,u,c,n,r,i,o))},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),a=n(22),o=n(35),h=n(91),l=n(90),s=(r=o.default,i.__extends(u,r),u.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},u.prototype.initAttrs=function(t){this.setArrow()},u.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},u.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&l.addStartArrow(this,t,r,i,e,n),a&&l.addEndArrow(this,t,e,n,r,i)},u.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),a=o.x1,s=o.y1,u=o.x2,c=o.y2;return h.default(a,s,u,c,i,t,e)},u.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=l.getShortenOffset(n,r,i,o,e.startArrow.d)),s&&s.d&&(c=l.getShortenOffset(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+u.dx,r+u.dy),t.lineTo(i-c.dx,o-c.dy)},u.prototype.afterDrawPath=function(t){var e=this.get(\"startArrowShape\"),n=this.get(\"endArrowShape\");e&&e.draw(t),n&&n.draw(t)},u.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return a.default.length(e,n,r,i)},u.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return a.default.pointAt(n,r,i,o,t)},u);function u(){return null!==r&&r.apply(this,arguments)||this}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(0),s=n(63),a=n(35),u=n(24),c=n(75),h={circle:function(t,e,n){return[[\"M\",t-n,e],[\"A\",n,n,0,1,0,t+n,e],[\"A\",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[[\"M\",t-n,e-n],[\"L\",t+n,e-n],[\"L\",t+n,e+n],[\"L\",t-n,e+n],[\"Z\"]]},diamond:function(t,e,n){return[[\"M\",t-n,e],[\"L\",t,e-n],[\"L\",t+n,e],[\"L\",t,e+n],[\"Z\"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[[\"M\",t-n,e+r],[\"L\",t,e-r],[\"L\",t+n,e+r],[\"Z\"]]},\"triangle-down\":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[[\"M\",t-n,e-r],[\"L\",t+n,e-r],[\"L\",t,e+r],[\"Z\"]]}},l=(r=a.default,i.__extends(f,r),f.prototype.initAttrs=function(t){this._resetParamsCache()},f.prototype._resetParamsCache=function(){this.set(\"paramsCache\",{})},f.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),-1!==[\"symbol\",\"x\",\"y\",\"r\",\"radius\"].indexOf(t)&&this._resetParamsCache()},f.prototype.isOnlyHitBox=function(){return!0},f.prototype._getR=function(t){return o.isNil(t.r)?t.radius:t.r},f.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.symbol||\"circle\",o=this._getR(e),a=u.isFunction(i)?(a=(t=i)(n,r,o),s.default(a)):(t=f.Symbols[i])(n,r,o);return t?a:(console.warn(i+\" marker is not supported.\"),null)},f.prototype.createPath=function(t){var e=this._getPath(),n=this.get(\"paramsCache\");c.drawPath(this,t,{path:e},n)},f.Symbols=h,f);function f(){return null!==r&&r.apply(this,arguments)||this}e.default=l},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4),i=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\",s=new RegExp(\"([a-z])[\"+i+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+i+\"]*,?[\"+i+\"]*)+)\",\"ig\"),u=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+i+\"]*,?[\"+i+\"]*\",\"ig\");e.default=function(t){if(!t)return null;if(r.default(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(u,function(t,e){e&&r.push(+e)}),\"m\"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i=\"l\",e=\"m\"===e?\"l\":\"L\"),\"o\"===i&&1===r.length&&a.push([e,r[0]]),\"r\"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););return\"\"}),a}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),h=n(46),l=n(0),i=n(35),o=n(63),a=n(118),s=n(75),f=n(172),u=n(173),d=n(349),c=n(90);function p(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=u.default(o,e,n))break}return r}var g,v=(g=i.default,r.__extends(y,g),y.prototype.getDefaultAttrs=function(){var t=g.prototype.getDefaultAttrs.call(this);return r.__assign(r.__assign({},t),{startArrow:!1,endArrow:!1})},y.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},y.prototype.onAttrChange=function(t,e,n){g.prototype.onAttrChange.call(this,t,e,n),\"path\"===t&&this._setPathArr(e),this.setArrow()},y.prototype._setPathArr=function(t){this.attrs.path=o.default(t);var e=d.default.hasArc(t);this.set(\"hasArc\",e),this.set(\"paramsCache\",{}),this.set(\"segments\",null),this.set(\"curve\",null),this.set(\"tCache\",null),this.set(\"totalLength\",null)},y.prototype.getSegments=function(){var t=this.get(\"segements\");return t||(t=a.default(this.attr(\"path\")),this.set(\"segments\",t)),t},y.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&(t=this.getStartTangent(),c.addStartArrow(this,e,t[0][0],t[0][1],t[1][0],t[1][1])),r&&(t=this.getEndTangent(),c.addEndArrow(this,e,t[0][0],t[0][1],t[1][0],t[1][1]))},y.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o,a,s,u=this.getSegments(),c=this.get(\"hasArc\"),h=!1;return n&&(o=this.getTotalLength(),h=d.default.isPointInStroke(u,i,t,e,o)),!h&&r&&(h=c?f.default(this,t,e):(a=this.attr(\"path\"),p((s=d.default.extractPolygons(a)).polygons,t,e)||p(s.polylines,t,e))),h},y.prototype.createPath=function(t){var e=this.attr(),n=this.get(\"paramsCache\");s.drawPath(this,t,e,n)},y.prototype.afterDrawPath=function(t){var e=this.get(\"startArrowShape\"),n=this.get(\"endArrowShape\");e&&e.draw(t),n&&n.draw(t)},y.prototype.getTotalLength=function(){var t=this.get(\"totalLength\");return l.isNil(t)?(this._calculateCurve(),this._setTcache(),this.get(\"totalLength\")):t},y.prototype.getPoint=function(n){var r,i,t=this.get(\"tCache\");t||(this._calculateCurve(),this._setTcache(),t=this.get(\"tCache\"));var e=this.get(\"curve\");if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;l.each(t,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)});var o=e[i];if(l.isNil(o)||l.isNil(i))return null;var a=o.length,s=e[i+1];return h.default.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],r)},y.prototype._calculateCurve=function(){var t=this.attr().path;this.set(\"curve\",d.default.pathToCurve(t))},y.prototype._setTcache=function(){var n,r,i,o,a=0,s=0,u=[],c=this.get(\"curve\");c&&(l.each(c,function(t,e){i=c[e+1],o=t.length,i&&(a+=h.default.length(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6])||0)}),this.set(\"totalLength\",a),0!==a?(l.each(c,function(t,e){i=c[e+1],o=t.length,i&&((n=[])[0]=s/a,r=h.default.length(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]),s+=r||0,n[1]=s/a,u.push(n))}),this.set(\"tCache\",u)):this.set(\"tCache\",[]))},y.prototype.getStartTangent=function(){var t,e,n,r,i=this.getSegments();return 1<i.length&&(t=i[0].currentPoint,e=i[1].currentPoint,r=[],(n=i[1].startTangent)?r.push([t[0]-n[0],t[1]-n[1]]):r.push([e[0],e[1]]),r.push([t[0],t[1]])),r},y.prototype.getEndTangent=function(){var t,e,n,r,i=this.getSegments(),o=i.length;return 1<o&&(t=i[o-2].currentPoint,e=i[o-1].currentPoint,r=[],(n=i[o-1].endTangent)?r.push([e[0]-n[0],e[1]-n[1]]):r.push([t[0],t[1]]),r.push([e[0],e[1]])),r},y);function y(){return null!==g&&g.apply(this,arguments)||this}e.default=v},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),i=n(19),_=n(117),O=n(46),C=n(24),k=n(91),E=n(174),o=n(16),j=n(82),P=o.ext.transform;e.default=r.__assign({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if(\"C\"===i||\"A\"===i||\"Q\"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];\"M\"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):\"Z\"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return 0<i.length&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var u=t[s],c=u.currentPoint,h=u.params,l=u.prePoint,f=u.box;if(!f||C.inBox(f.x-a,f.y-a,f.width+e,f.height+e,n,r)){switch(u.command){case\"L\":case\"Z\":o=k.default(l[0],l[1],c[0],c[1],e,n,r);break;case\"Q\":o=_.default.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],n,r)<=e/2;break;case\"C\":o=O.default.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],h[5],h[6],n,r,i)<=e/2;break;case\"A\":var d=u.arcParams,p=d.cx,g=d.cy,v=d.rx,y=d.ry,m=d.startAngle,b=d.endAngle,x=d.xRotation,w=[n,r,1],M=y<v?v:y,S=P(null,[[\"t\",-p,-g],[\"r\",-x],[\"s\",1/(y<v?1:v/y),1/(y<v?y/v:1)]]);j.transformMat3(w,w,S),o=E.default(0,0,M,m,b,e,w[0],w[1])}if(o)break}}return o}},i.PathUtil)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(35),s=n(175),u=n(173),a=(r=o.default,i.__extends(c,r),c.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=s.default(o,i,t,e,!0)),!a&&r&&(a=u.default(o,t,e)),a},c.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),u=n(22),o=n(119),c=n(0),a=n(35),s=n(175),d=n(90),h=(r=a.default,i.__extends(l,r),l.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{startArrow:!1,endArrow:!1})},l.prototype.initAttrs=function(t){this.setArrow()},l.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),-1!==[\"points\"].indexOf(t)&&this._resetCache()},l.prototype._resetCache=function(){this.set(\"totalLength\",null),this.set(\"tCache\",null)},l.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&d.addStartArrow(this,t,n[1][0],n[1][1],a,s),i&&d.addEndArrow(this,t,n[o-2][0],n[o-2][1],u,c)},l.prototype.isFill=function(){return!1},l.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return s.default(o,i,t,e,!1)},l.prototype.isStroke=function(){return!0},l.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],h=n[o-1][1];r&&r.d&&(s+=(a=d.getShortenOffset(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy),i&&i.d&&(c-=(a=d.getShortenOffset(n[o-2][0],n[o-2][1],c,h,i.d)).dx,h-=a.dy),t.beginPath(),t.moveTo(s,u);for(var l=0;l<o-1;l++){var f=n[l];t.lineTo(f[0],f[1])}t.lineTo(c,h)}},l.prototype.afterDrawPath=function(t){var e=this.get(\"startArrowShape\"),n=this.get(\"endArrowShape\");e&&e.draw(t),n&&n.draw(t)},l.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get(\"totalLength\");return c.isNil(e)?(this.set(\"totalLength\",o.default.length(t)),this.get(\"totalLength\")):e},l.prototype.getPoint=function(n){var r,i,t=this.attr().points,e=this.get(\"tCache\");return e||(this._setTcache(),e=this.get(\"tCache\")),c.each(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),u.default.pointAt(t[i][0],t[i][1],t[i+1][0],t[i+1][1],r)},l.prototype._setTcache=function(){var n,r,i,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(o=0,a=[],c.each(s,function(t,e){s[e+1]&&((r=[])[0]=o/n,i=u.default.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=i,r[1]=o/n,a.push(r))}),this.set(\"tCache\",a)))},l.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},l.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},l);function l(){return null!==r&&r.apply(this,arguments)||this}e.default=h},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.distanceAtSegment=e.angleAtSegments=e.pointAtSegments=e.lengthOfSegment=void 0;var d=n(22),u=n(40);function p(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],a=u.distance(i[0],i[1],o[0],o[1]),s={from:i,to:o,length:a};n.push(s),e+=a}return{segments:n,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=u.distance(r[0],r[1],i[0],i[1])}return e},e.pointAtSegments=function(t,e){if(1<e||e<0||t.length<2)return null;var n=p(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<r.length;s++){var u=r[s],c=u.from,h=u.to,l=u.length/i;if(o<=e&&e<=o+l){var f=(e-o)/l,a=d.default.pointAt(c[0],c[1],h[0],h[1],f);break}o+=l}return a},e.angleAtSegments=function(t,e){if(1<e||e<0||t.length<2)return 0;for(var n=p(t),r=n.segments,i=n.totalLength,o=0,a=0,s=0;s<r.length;s++){var u=r[s],c=u.from,h=u.to,l=u.length/i;if(o<=e&&e<=o+l){a=Math.atan2(h[1]-c[1],h[0]-c[0]);break}o+=l}return a},e.distanceAtSegment=function(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],s=d.default.pointDistance(o[0],o[1],a[0],a[1],e,n);s<r&&(r=s)}return r}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(35),f=n(168),d=n(24),p=n(354),g=n(355),v=n(172),a=(r=o.default,i.__extends(s,r),s.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,width:0,height:0,radius:0})},s.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,c=o.height,h=o.radius;if(h){var l=!1;return n&&(l=g.default(a,s,u,c,h,i,t,e)),!l&&r&&(l=v.default(this,t,e)),l}var f=i/2;return r&&n?d.inBox(a-f,s-f,u+f,c+f,t,e):r?d.inBox(a,s,u,c,t,e):n?p.default(a,s,u,c,i,t,e):void 0},s.prototype.createPath=function(t){var e,n,r,i,o,a=this.attr(),s=a.x,u=a.y,c=a.width,h=a.height,l=a.radius;t.beginPath(),0===l?t.rect(s,u,c,h):(n=(e=f.parseRadius(l))[0],r=e[1],i=e[2],o=e[3],t.moveTo(s+n,u),t.lineTo(s+c-r,u),0!==r&&t.arc(s+c-r,u+r,r,-Math.PI/2,0),t.lineTo(s+c,u+h-i),0!==i&&t.arc(s+c-i,u+h-i,i,0,Math.PI/2),t.lineTo(s+o,u+h),0!==o&&t.arc(s+o,u+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI),t.closePath())},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var u=n(24);e.default=function(t,e,n,r,i,o,a){var s=i/2;return u.inBox(t-s,e-s,n,i,o,a)||u.inBox(t+n-s,e-s,i,r,o,a)||u.inBox(t+s,e+r-s,n,i,o,a)||u.inBox(t-s,e+s,i,r,o,a)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var u=n(91),c=n(174);e.default=function(t,e,n,r,i,o,a,s){return u.default(t+i,e,t+n-i,e,o,a,s)||u.default(t+n,e+i,t+n,e+r-i,o,a,s)||u.default(t+n-i,e+r,t+i,e+r,o,a,s)||u.default(t,e+r-i,t,e+i,o,a,s)||c.default(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||c.default(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||c.default(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||c.default(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(35),l=n(24),f=n(85),a=(r=o.default,i.__extends(s,r),s.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:\"sans-serif\",fontStyle:\"normal\",fontWeight:\"normal\",fontVariant:\"normal\",textAlign:\"start\",textBaseline:\"bottom\"})},s.prototype.isOnlyHitBox=function(){return!0},s.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},s.prototype._assembleFont=function(){var t=this.attrs;t.font=f.assembleFont(t)},s.prototype._setText=function(t){var e=null;l.isString(t)&&-1!==t.indexOf(\"\\n\")&&(e=t.split(\"\\n\")),this.set(\"textArr\",e)},s.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),t.startsWith(\"font\")&&this._assembleFont(),\"text\"===t&&this._setText(e)},s.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=+t.fontSize;return e?e-n:.14*n},s.prototype._drawTextArr=function(n,t,r){var i,e=this.attrs,o=e.textBaseline,a=e.x,s=e.y,u=+e.fontSize,c=this._getSpaceingY(),h=f.getTextHeight(e.text,e.fontSize,e.lineHeight);l.each(t,function(t,e){i=s+e*(c+u)-h+u,\"middle\"===o&&(i+=h-u-(h-u)/2),\"top\"===o&&(i+=h-u),r?n.fillText(t,a,i):n.strokeText(t,a,i)})},s.prototype._drawText=function(t,e){var n,r=this.attr(),i=r.x,o=r.y,a=this.get(\"textArr\");a?this._drawTextArr(t,a,e):(n=r.text,e?t.fillText(n,i,o):t.strokeText(n,i,o))},s.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&0<n&&(l.isNil(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(l.isNil(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},s.prototype.fill=function(t){this._drawText(t,!0)},s.prototype.stroke=function(t){this._drawText(t,!1)},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(0),a=n(25),s=(r=n(29).default,i.__extends(u,r),u.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,r:0})},u.prototype.createPath=function(t,e){var n=this.attr(),r=this.get(\"el\");o.each(e||n,function(t,e){\"x\"===e||\"y\"===e?r.setAttribute(\"c\"+e,t):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)})},u);function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"circle\",t.canFill=!0,t.canStroke=!0,t}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),s=n(0),u=n(25),o=(r=n(29).default,i.__extends(a,r),a.prototype.createPath=function(t,e){var n=this.attr(),r=this.get(\"el\");if(s.each(e||n,function(t,e){u.SVG_ATTR_MAP[e]&&r.setAttribute(u.SVG_ATTR_MAP[e],t)}),\"function\"==typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;0<=a;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"dom\",t.canFill=!1,t.canStroke=!1,t}e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(0),a=n(25),s=(r=n(29).default,i.__extends(u,r),u.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,rx:0,ry:0})},u.prototype.createPath=function(t,e){var n=this.attr(),r=this.get(\"el\");o.each(e||n,function(t,e){\"x\"===e||\"y\"===e?r.setAttribute(\"c\"+e,t):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)})},u);function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"ellipse\",t.canFill=!0,t.canStroke=!0,t}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(0),a=n(25),s=(r=n(29).default,i.__extends(u,r),u.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,width:0,height:0})},u.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get(\"el\");o.each(e||r,function(t,e){\"img\"===e?n._setImage(r.img):a.SVG_ATTR_MAP[e]&&i.setAttribute(a.SVG_ATTR_MAP[e],t)})},u.prototype.setAttr=function(t,e){this.attrs[t]=e,\"img\"===t&&this._setImage(e)},u.prototype._setImage=function(t){var e,n=this.attr(),r=this.get(\"el\");o.isString(t)?r.setAttribute(\"href\",t):t instanceof window.Image?(n.width||(r.setAttribute(\"width\",t.width),this.attr(\"width\",t.width)),n.height||(r.setAttribute(\"height\",t.height),this.attr(\"height\",t.height)),r.setAttribute(\"href\",t.src)):t instanceof HTMLElement&&o.isString(t.nodeName)&&\"CANVAS\"===t.nodeName.toUpperCase()?r.setAttribute(\"href\",t.toDataURL()):t instanceof ImageData&&((e=document.createElement(\"canvas\")).setAttribute(\"width\",\"\"+t.width),e.setAttribute(\"height\",\"\"+t.height),e.getContext(\"2d\").putImageData(t,0,0),n.width||(r.setAttribute(\"width\",\"\"+t.width),this.attr(\"width\",t.width)),n.height||(r.setAttribute(\"height\",\"\"+t.height),this.attr(\"height\",t.height)),r.setAttribute(\"href\",e.toDataURL()))},u);function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"image\",t.canFill=!1,t.canStroke=!1,t}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),a=n(22),s=n(0),u=n(25),o=(r=n(29).default,i.__extends(c,r),c.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},c.prototype.createPath=function(r,t){var i=this.attr(),o=this.get(\"el\");s.each(t||i,function(t,e){var n;\"startArrow\"===e||\"endArrow\"===e?t?(n=s.isObject(t)?r.addArrow(i,u.SVG_ATTR_MAP[e]):r.getDefaultArrow(i,u.SVG_ATTR_MAP[e]),o.setAttribute(u.SVG_ATTR_MAP[e],\"url(#\"+n+\")\")):o.removeAttribute(u.SVG_ATTR_MAP[e]):u.SVG_ATTR_MAP[e]&&o.setAttribute(u.SVG_ATTR_MAP[e],t)})},c.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return a.default.length(e,n,r,i)},c.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return a.default.pointAt(n,r,i,o,t)},c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"line\",t.canFill=!1,t.canStroke=!0,t}e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),a=n(0),o=n(29),s=n(363),u=(r=o.default,i.__extends(c,r),c.prototype.createPath=function(t){this.get(\"el\").setAttribute(\"d\",this._assembleMarker())},c.prototype._assembleMarker=function(){var t=this._getPath();return a.isArray(t)?t.map(function(t){return t.join(\" \")}).join(\"\"):t},c.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,o=e.symbol||\"circle\";return(t=a.isFunction(o)?o:s.default.get(o))?t(n,r,i):(console.warn(t+\" symbol is not exist.\"),null)},c.symbolsFactory=s.default,c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"marker\",t.canFill=!0,t.canStroke=!0,t}e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r={circle:function(t,e,n){return[[\"M\",t,e],[\"m\",-n,0],[\"a\",n,n,0,1,0,2*n,0],[\"a\",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[[\"M\",t-n,e-n],[\"L\",t+n,e-n],[\"L\",t+n,e+n],[\"L\",t-n,e+n],[\"Z\"]]},diamond:function(t,e,n){return[[\"M\",t-n,e],[\"L\",t,e-n],[\"L\",t+n,e],[\"L\",t,e+n],[\"Z\"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[[\"M\",t-n,e+r],[\"L\",t,e-r],[\"L\",t+n,e+r],[\"z\"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[[\"M\",t-n,e-r],[\"L\",t+n,e-r],[\"L\",t,e+r],[\"Z\"]]}};e.default={get:function(t){return r[t]},register:function(t,e){r[t]=e},remove:function(t){delete r[t]},getAll:function(){return r}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),s=n(0),u=n(25),o=(r=n(29).default,i.__extends(a,r),a.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{startArrow:!1,endArrow:!1})},a.prototype.createPath=function(r,t){var i=this,o=this.attr(),a=this.get(\"el\");s.each(t||o,function(t,e){var n;\"path\"===e&&s.isArray(t)?a.setAttribute(\"d\",i._formatPath(t)):\"startArrow\"===e||\"endArrow\"===e?t?(n=s.isObject(t)?r.addArrow(o,u.SVG_ATTR_MAP[e]):r.getDefaultArrow(o,u.SVG_ATTR_MAP[e]),a.setAttribute(u.SVG_ATTR_MAP[e],\"url(#\"+n+\")\")):a.removeAttribute(u.SVG_ATTR_MAP[e]):u.SVG_ATTR_MAP[e]&&a.setAttribute(u.SVG_ATTR_MAP[e],t)})},a.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(\" \")}).join(\"\");return~e.indexOf(\"NaN\")?\"\":e},a.prototype.getTotalLength=function(){var t=this.get(\"el\");return t?t.getTotalLength():null},a.prototype.getPoint=function(t){var e=this.get(\"el\"),n=this.getTotalLength(),r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"path\",t.canFill=!0,t.canStroke=!0,t}e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),o=n(0),a=n(25),s=(r=n(29).default,i.__extends(u,r),u.prototype.createPath=function(t,e){var n=this.attr(),r=this.get(\"el\");o.each(e||n,function(t,e){\"points\"===e&&o.isArray(t)&&2<=t.length?r.setAttribute(\"points\",t.map(function(t){return t[0]+\",\"+t[1]}).join(\" \")):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)})},u);function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"polygon\",t.canFill=!0,t.canStroke=!0,t}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),u=n(22),o=n(119),c=n(0),a=n(25),s=(r=n(29).default,i.__extends(h,r),h.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{startArrow:!1,endArrow:!1})},h.prototype.onAttrChange=function(t,e,n){r.prototype.onAttrChange.call(this,t,e,n),-1!==[\"points\"].indexOf(t)&&this._resetCache()},h.prototype._resetCache=function(){this.set(\"totalLength\",null),this.set(\"tCache\",null)},h.prototype.createPath=function(t,e){var n=this.attr(),r=this.get(\"el\");c.each(e||n,function(t,e){\"points\"===e&&c.isArray(t)&&2<=t.length?r.setAttribute(\"points\",t.map(function(t){return t[0]+\",\"+t[1]}).join(\" \")):a.SVG_ATTR_MAP[e]&&r.setAttribute(a.SVG_ATTR_MAP[e],t)})},h.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get(\"totalLength\");return c.isNil(e)?(this.set(\"totalLength\",o.default.length(t)),this.get(\"totalLength\")):e},h.prototype.getPoint=function(n){var r,i,t=this.attr().points,e=this.get(\"tCache\");return e||(this._setTcache(),e=this.get(\"tCache\")),c.each(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),u.default.pointAt(t[i][0],t[i][1],t[i+1][0],t[i+1][1],r)},h.prototype._setTcache=function(){var n,r,i,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(o=0,a=[],c.each(s,function(t,e){s[e+1]&&((r=[])[0]=o/n,i=u.default.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=i,r[1]=o/n,a.push(r))}),this.set(\"tCache\",a)))},h.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},h.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},h);function h(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"polyline\",t.canFill=!0,t.canStroke=!0,t}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),s=n(0),o=n(29),u=n(25),c=n(368),a=(r=o.default,i.__extends(h,r),h.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,width:0,height:0,radius:0})},h.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get(\"el\"),o=!1,a=[\"x\",\"y\",\"width\",\"height\",\"radius\"];s.each(e||r,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&u.SVG_ATTR_MAP[e]&&i.setAttribute(u.SVG_ATTR_MAP[e],t):(i.setAttribute(\"d\",n._assembleRect(r)),o=!0)})},h.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return\"M \"+e+\",\"+n+\" l \"+r+\",0 l 0,\"+i+\" l\"+-r+\" 0 z\";var a=c.parseRadius(o);return s.isArray(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[[\"M \"+(e+a.r1)+\",\"+n],[\"l \"+(r-a.r1-a.r2)+\",0\"],[\"a \"+a.r2+\",\"+a.r2+\",0,0,1,\"+a.r2+\",\"+a.r2],[\"l 0,\"+(i-a.r2-a.r3)],[\"a \"+a.r3+\",\"+a.r3+\",0,0,1,\"+-a.r3+\",\"+a.r3],[\"l \"+(a.r3+a.r4-r)+\",0\"],[\"a \"+a.r4+\",\"+a.r4+\",0,0,1,\"+-a.r4+\",\"+-a.r4],[\"l 0,\"+(a.r4+a.r1-i)],[\"a \"+a.r1+\",\"+a.r1+\",0,0,1,\"+a.r1+\",\"+-a.r1],[\"z\"]].join(\" \")},h);function h(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"rect\",t.canFill=!0,t.canStroke=!0,t}e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.parsePath=e.parseRadius=void 0;var o=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\\s\\,]+/gi;e.parseRadius=function(t){var e=0,n=0,r=0,i=0;return o.isArray(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},e.parsePath=function(r){return r=r||[],o.isArray(r)?r:o.isString(r)?(r=r.match(i),o.each(r,function(n,t){var e;1<(n=n.match(a))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),o.each(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,i=n(1),c=n(0),o=n(84),a=n(76),s=n(25),u=n(29),h={top:\"before-edge\",middle:\"central\",bottom:\"after-edge\",alphabetic:\"baseline\",hanging:\"hanging\"},l={top:\"text-before-edge\",middle:\"central\",bottom:\"text-after-edge\",alphabetic:\"alphabetic\",hanging:\"hanging\"},f={left:\"left\",start:\"left\",center:\"middle\",right:\"end\",end:\"end\"},d=(r=u.default,i.__extends(p,r),p.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return i.__assign(i.__assign({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:\"sans-serif\",fontStyle:\"normal\",fontWeight:\"normal\",fontVariant:\"normal\",textAlign:\"start\",textBaseline:\"bottom\"})},p.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get(\"el\");this._setFont(),c.each(e||r,function(t,e){\"text\"===e?n._setText(\"\"+t):\"matrix\"===e&&t?a.setTransform(n):s.SVG_ATTR_MAP[e]&&i.setAttribute(s.SVG_ATTR_MAP[e],t)}),i.setAttribute(\"paint-order\",\"stroke\"),i.setAttribute(\"style\",\"stroke-linecap:butt; stroke-linejoin:miter;\")},p.prototype._setFont=function(){var t=this.get(\"el\"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=o.detect();i&&\"firefox\"===i.name?t.setAttribute(\"dominant-baseline\",l[n]||\"alphabetic\"):t.setAttribute(\"alignment-baseline\",h[n]||\"baseline\"),t.setAttribute(\"text-anchor\",f[r]||\"left\")},p.prototype._setText=function(t){var e,n,r,i=this.get(\"el\"),o=this.attr(),a=o.x,s=o.textBaseline,u=void 0===s?\"bottom\":s;t?~t.indexOf(\"\\n\")?(e=t.split(\"\\n\"),n=e.length-1,r=\"\",c.each(e,function(t,e){0===e?\"alphabetic\"===u?r+='<tspan x=\"'+a+'\" dy=\"'+-n+'em\">'+t+\"</tspan>\":\"top\"===u?r+='<tspan x=\"'+a+'\" dy=\"0.9em\">'+t+\"</tspan>\":\"middle\"===u?r+='<tspan x=\"'+a+'\" dy=\"'+-(n-1)/2+'em\">'+t+\"</tspan>\":\"bottom\"===u?r+='<tspan x=\"'+a+'\" dy=\"-'+(.3+n)+'em\">'+t+\"</tspan>\":\"hanging\"===u&&(r+='<tspan x=\"'+a+'\" dy=\"'+(-(n-1)-.3)+'em\">'+t+\"</tspan>\"):r+='<tspan x=\"'+a+'\" dy=\"1em\">'+t+\"</tspan>\"}),i.innerHTML=r):i.innerHTML=t:i.innerHTML=\"\"},p);function p(){var t=null!==r&&r.apply(this,arguments)||this;return t.type=\"text\",t.canFill=!0,t.canStroke=!0,t}e.default=d},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),i=n(371),o=n(372),a=n(373),s=n(374),u=n(375),c=n(36),h=(l.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},l.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},l.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},l.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new a.default(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},l.prototype.addGradient=function(t){var e=new i.default(t);return this.el.appendChild(e.el),this.add(e),e.id},l.prototype.addArrow=function(t,e){var n=new a.default(t,e);return this.el.appendChild(n.el),this.add(n),n.id},l.prototype.addShadow=function(t){var e=new o.default(t);return this.el.appendChild(e.el),this.add(e),e.id},l.prototype.addPattern=function(t){var e=new u.default(t);return this.el.appendChild(e.el),this.add(e),e.id},l.prototype.addClip=function(t){var e=new s.default(t);return this.el.appendChild(e.el),this.add(e),e.id},l);function l(t){var e=c.createSVGElement(\"defs\"),n=r.uniqueId(\"defs_\");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}e.default=h},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var w=n(0),M=n(36),S=/^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,_=/^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,r=/[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;function O(t){var e=t.match(r);if(!e)return\"\";var n=\"\";return e.sort(function(t,e){return t=t.split(\":\"),e=e.split(\":\"),Number(t[0])-Number(e[0])}),w.each(e,function(t){t=t.split(\":\"),n+='<stop offset=\"'+t[0]+'\" stop-color=\"'+t[1]+'\"></stop>'}),n}var i=(o.prototype.match=function(t,e){return this.cfg===e},o);function o(t){this.cfg={};var e,n,r,i,o,a,s,u,c,h,l,f,d,p,g,v,y,m,b=null,x=w.uniqueId(\"gradient_\");return\"l\"===t.toLowerCase()[0]?(u=t,c=b=M.createSVGElement(\"linearGradient\"),l=S.exec(u),f=w.mod(w.toRadian(parseFloat(l[1])),2*Math.PI),d=l[2],p=0<=f&&f<.5*Math.PI?(h={x:0,y:0},{x:1,y:1}):.5*Math.PI<=f&&f<Math.PI?(h={x:1,y:0},{x:0,y:1}):Math.PI<=f&&f<1.5*Math.PI?(h={x:1,y:1},{x:0,y:0}):(h={x:0,y:1},{x:1,y:0}),g=Math.tan(f),v=g*g,y=(p.x-h.x+g*(p.y-h.y))/(1+v)+h.x,m=g*(p.x-h.x+g*(p.y-h.y))/(1+v)+h.y,c.setAttribute(\"x1\",h.x),c.setAttribute(\"y1\",h.y),c.setAttribute(\"x2\",y),c.setAttribute(\"y2\",m),c.innerHTML=O(d)):(e=t,n=b=M.createSVGElement(\"radialGradient\"),r=_.exec(e),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4],n.setAttribute(\"cx\",i),n.setAttribute(\"cy\",o),n.setAttribute(\"r\",a),n.innerHTML=O(s)),b.setAttribute(\"id\",x),this.el=b,this.id=x,this.cfg=t,this}e.default=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),r=n(36),o={shadowColor:\"color\",shadowOpacity:\"opacity\",shadowBlur:\"blur\",shadowOffsetX:\"dx\",shadowOffsetY:\"dy\"},a={x:\"-40%\",y:\"-40%\",width:\"200%\",height:\"200%\"},s=(u.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return i.each(Object.keys(r),function(t){if(r[t]!==e[t])return n=!1}),n},u.prototype.update=function(t,e){var n=this.cfg;return n[o[t]]=e,this._parseShadow(n,this.el),this},u.prototype._parseShadow=function(t,e){var n='<feDropShadow\\n      dx=\"'+(t.dx||0)+'\"\\n      dy=\"'+(t.dy||0)+'\"\\n      stdDeviation=\"'+(t.blur?t.blur/10:0)+'\"\\n      flood-color=\"'+(t.color?t.color:\"#000\")+'\"\\n      flood-opacity=\"'+(t.opacity?t.opacity:1)+'\"\\n      />';e.innerHTML=n},u);function u(t){this.type=\"filter\",this.cfg={},this.type=\"filter\";var n=r.createSVGElement(\"filter\");return i.each(a,function(t,e){n.setAttribute(e,t)}),this.el=n,this.id=i.uniqueId(\"filter_\"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,n),this}e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(0),s=n(36),r=(i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute(\"d\",\"M0,0 L\"+10*Math.cos(Math.PI/6)+\",5 L0,10\"),n.setAttribute(\"refX\",\"\"+10*Math.cos(Math.PI/6)),n.setAttribute(\"refY\",\"5\")},i.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;a.isArray(r)&&(r=r.map(function(t){return t.join(\" \")}).join(\"\")),e.setAttribute(\"d\",r),n.appendChild(e),i&&n.setAttribute(\"refX\",\"\"+i/t)},i.prototype.update=function(t){var e=this.child;e.attr?e.attr(\"fill\",t):e.setAttribute(\"fill\",t)},i);function i(t,e){this.cfg={};var n=s.createSVGElement(\"marker\"),r=a.uniqueId(\"marker_\");n.setAttribute(\"id\",r);var i=s.createSVGElement(\"path\");i.setAttribute(\"stroke\",t.stroke||\"none\"),i.setAttribute(\"fill\",t.fill||\"none\"),n.appendChild(i),n.setAttribute(\"overflow\",\"visible\"),n.setAttribute(\"orient\",\"auto-start-reverse\"),this.el=n,this.child=i,this.id=r;var o=t[\"marker-start\"===e?\"startArrow\":\"endArrow\"];return this.stroke=t.stroke||\"#000\",!0===o?this._setDefaultPath(e,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}e.default=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),i=n(36),o=(a.prototype.match=function(){return!1},a.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},a);function a(t){this.type=\"clip\",this.cfg={};var e=i.createSVGElement(\"clipPath\");this.el=e,this.id=r.uniqueId(\"clip_\"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=n(0),u=n(36),c=/^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,r=(i.prototype.match=function(t,e){return this.cfg===e},i);function i(t){this.cfg={};var e=u.createSVGElement(\"pattern\");e.setAttribute(\"patternUnits\",\"userSpaceOnUse\");var n=u.createSVGElement(\"image\");e.appendChild(n);var r=s.uniqueId(\"pattern_\");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=c.exec(t)[2];n.setAttribute(\"href\",i);var o=new Image;function a(){e.setAttribute(\"width\",\"\"+o.width),e.setAttribute(\"height\",\"\"+o.height)}return i.match(/^data:/i)||(o.crossOrigin=\"Anonymous\"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}e.default=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(33),r=n(0);o.angle=function(t,e){var n=o.dot(t,e)/(o.length(t)*o.length(e));return Math.acos(r.clamp(n,-1,1))},o.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},o.angleTo=function(t,e,n){var r=o.angle(t,e),i=0<=o.direction(t,e);return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},o.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(151);e.default=r},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(0),i=n(177);e.default=function(t,e){var n=t?r.clone(t):[1,0,0,0,1,0,0,0,1];return r.each(e,function(t){switch(t[0]){case\"t\":i.default.translate(n,n,[t[1],t[2]]);break;case\"s\":i.default.scale(n,n,[t[1],t[2]]);break;case\"r\":i.default.rotate(n,n,t[1]);break;case\"m\":i.default.multiply(n,n,t[1]);break;default:return!1}}),n}},function(t,e,n){var r=n(380);t.exports={Graph:r.Graph,json:n(483),alg:n(484),version:r.version}},function(t,e,n){t.exports={Graph:n(131),version:n(482)}},function(t,e,n){var r=n(178);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(94),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(94);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(94);t.exports=function(t){return-1<r(this.__data__,t)}},function(t,e,n){var i=n(94);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var r=n(93);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var i=n(93),o=n(132),a=n(133);t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(77),i=n(396),o=n(31),a=n(180),s=/^\\[object .+?Constructor\\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,l=c.hasOwnProperty,f=RegExp(\"^\"+h.call(l).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(t){\"object\"===(\"undefined\"==typeof window?\"undefined\":n(window))&&(r=window)}t.exports=r},function(t,e,n){var r=n(59),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{var r=!(t[s]=void 0)}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,i=n(397),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(38)[\"__core-js_shared__\"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(400),i=n(93),o=n(132);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(401),i=n(402),o=n(403),a=n(404),s=n(405);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(95);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(95),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return\"__lodash_hash_undefined__\"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(95),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(95);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?\"__lodash_hash_undefined__\":e,this}},function(t,e,n){var r=n(96);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){var e=n(t);return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}},function(t,e,n){var r=n(96);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(96);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var i=n(96);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var r=n(78),i=n(48);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(50),i=n(41);t.exports=function(t){return i(t)&&\"[object Arguments]\"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(50),i=n(136),o=n(41),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(183)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(78),i=n(51);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var i=n(31),o=n(101),a=n(419),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return a(t);var e,n=o(t),r=[];for(e in t)(\"constructor\"!=e||!n&&s.call(t,e))&&r.push(e);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(78),i=n(139);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(78),i=n(188);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(190),i=n(188),o=n(51);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(49)(n(38),\"DataView\");t.exports=r},function(t,e,n){var r=n(49)(n(38),\"Promise\");t.exports=r},function(t,e,n){var r=n(49)(n(38),\"WeakMap\");t.exports=r},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&\"string\"==typeof t[0]&&r.call(t,\"index\")&&(n.index=t.index,n.input=t.input),n}},function(t,e,n){var i=n(141),o=n(428),a=n(429),s=n(430),u=n(193);t.exports=function(t,e,n){var r=t.constructor;switch(e){case\"[object ArrayBuffer]\":return i(t);case\"[object Boolean]\":case\"[object Date]\":return new r(+t);case\"[object DataView]\":return o(t,n);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return u(t,n);case\"[object Map]\":return new r;case\"[object Number]\":case\"[object String]\":return new r(t);case\"[object RegExp]\":return a(t);case\"[object Set]\":return new r;case\"[object Symbol]\":return s(t)}}},function(t,e,n){var r=n(141);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(59),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(432),i=n(100),o=n(137),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(61),i=n(41);t.exports=function(t){return i(t)&&\"[object Map]\"==r(t)}},function(t,e,n){var r=n(434),i=n(100),o=n(137),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(61),i=n(41);t.exports=function(t){return i(t)&&\"[object Set]\"==r(t)}},function(t,e){t.exports=function(u){return function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[u?a:++r];if(!1===e(i[s],s,i))break}return t}}},function(t,e,n){var s=n(43);t.exports=function(o,a){return function(t,e){if(null==t)return t;if(!s(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=Object(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}},function(t,e,n){var o=n(103);t.exports=function(t,r){var i=[];return o(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}},function(t,e,n){var r=n(439),i=n(447),o=n(205);t.exports=function(e){var n=i(e);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},function(t,e,n){var d=n(92),p=n(200);t.exports=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],h=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var l,f=new d;if(r&&(l=r(c,h,u,t,e,f)),!(void 0===l?p(h,c,3,r,f):l))return!1}}return!0}},function(t,e,n){var g=n(92),v=n(201),y=n(444),m=n(446),b=n(61),x=n(18),w=n(60),M=n(80),S=\"[object Object]\",_=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,r,i,o){var a=x(t),s=x(e),u=a?\"[object Array]\":b(t),c=s?\"[object Array]\":b(e),h=(u=\"[object Arguments]\"==u?S:u)==S,l=(c=\"[object Arguments]\"==c?S:c)==S,f=u==c;if(f&&w(t)){if(!w(e))return!1;h=!(a=!0)}if(f&&!h)return o=o||new g,a||M(t)?v(t,e,n,r,i,o):y(t,e,u,n,r,i,o);if(!(1&n)){var d=h&&_.call(t,\"__wrapped__\"),p=l&&_.call(e,\"__wrapped__\");if(d||p)return i(d?t.value():t,p?e.value():e,n,r,o=o||new g)}return!!f&&(o=o||new g,m(t,e,n,r,i,o))}},function(t,e){t.exports=function(t){return this.__data__.set(t,\"__lodash_hash_undefined__\"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(59),l=n(192),f=n(58),d=n(201),p=n(445),g=n(145),i=r?r.prototype:void 0,v=i?i.valueOf:void 0;t.exports=function(t,e,n,r,i,o,a){switch(n){case\"[object DataView]\":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case\"[object ArrayBuffer]\":return!(t.byteLength!=e.byteLength||!o(new l(t),new l(e)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return f(+t,+e);case\"[object Error]\":return t.name==e.name&&t.message==e.message;case\"[object RegExp]\":case\"[object String]\":return t==e+\"\";case\"[object Map]\":var s=p;case\"[object Set]\":var u=1&r,s=s||g;if(t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var h=d(s(t),s(e),r,i,o,a);return a.delete(t),h;case\"[object Symbol]\":if(v)return v.call(t)==v.call(e)}return!1}},function(t,e){t.exports=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}},function(t,e,n){var x=n(189),w=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,r,i,o){var a=1&n,s=x(t),u=s.length;if(u!=x(e).length&&!a)return!1;for(var c=u;c--;){var h=s[c];if(!(a?h in e:w.call(e,h)))return!1}var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p,g,v=a;++c<u;){var y,m=t[h=s[c]],b=e[h];if(r&&(y=a?r(b,m,h,e,t,o):r(m,b,h,t,e,o)),!(void 0===y?m===b||i(m,b,n,r,o):y)){d=!1;break}v=v||\"constructor\"==h}return!d||v||(p=t.constructor)!=(g=e.constructor)&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof p&&p instanceof p&&\"function\"==typeof g&&g instanceof g)&&(d=!1),o.delete(t),o.delete(e),d}},function(t,e,n){var o=n(204),a=n(48);t.exports=function(t){for(var e=a(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,o(i)]}return e}},function(t,e,n){var i=n(200),o=n(449),a=n(207),s=n(146),u=n(204),c=n(205),h=n(81);t.exports=function(n,r){return s(n)&&u(r)?c(h(n),r):function(t){var e=o(t,n);return void 0===e&&e===r?a(t,n):i(r,e,3)}}},function(t,e,n){var i=n(104);t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},function(t,e,n){var r=n(451),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,a=/\\\\(\\\\)?/g,i=r(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(\"\"),t.replace(o,function(t,e,n,r){i.push(n?r.replace(a,\"$1\"):e||t)}),i});t.exports=i},function(t,e,n){var r=n(452);t.exports=function(t){var e=r(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(133);function s(i,o){if(\"function\"!=typeof i||null!=o&&\"function\"!=typeof o)throw new TypeError(\"Expected a function\");function a(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var r=i.apply(this,t);return a.cache=n.set(e,r)||n,r}return a.cache=new(s.Cache||r),a}s.Cache=r,t.exports=s},function(t,e,n){var r=n(59),i=n(106),o=n(18),a=n(62),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if(\"string\"==typeof e)return e;if(o(e))return i(e,t)+\"\";if(a(e))return u?u.call(e):\"\";var n=e+\"\";return\"0\"==n&&1/e==-1/0?\"-0\":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(209),i=n(456),o=n(146),a=n(81);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(104);t.exports=function(e){return function(t){return r(t,e)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(138),i=n(61),o=n(79),a=n(18),s=n(43),u=n(60),c=n(101),h=n(80),l=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||\"string\"==typeof t||\"function\"==typeof t.splice||u(t)||h(t)||o(t)))return!t.length;var e,n=i(t);if(\"[object Map]\"==n||\"[object Set]\"==n)return!t.size;if(c(t))return!r(t).length;for(e in t)if(l.call(t,e))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}},function(t,e,n){var r=n(138),i=n(61),o=n(43),a=n(462),s=n(463);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return\"[object Map]\"==e||\"[object Set]\"==e?t.size:r(t).length}},function(t,e,n){var r=n(50),i=n(18),o=n(41);t.exports=function(t){return\"string\"==typeof t||!i(t)&&o(t)&&\"[object String]\"==r(t)}},function(t,e,n){var r=n(464),i=n(465),o=n(466);t.exports=function(t){return(i(t)?o:r)(t)}},function(t,e,n){var r=n(209)(\"length\");t.exports=r},function(t,e){var n=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]\");t.exports=function(t){return n.test(t)}},function(t,e){var n=\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]\",r=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",i=\"[^\\\\ud800-\\\\udfff]\",o=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",a=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",s=\"(?:\"+n+\"|\"+r+\")?\",u=\"[\\\\ufe0e\\\\ufe0f]?\"+s+\"(?:\\\\u200d(?:\"+[i,o,a].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+s+\")*\",c=\"(?:\"+[i+n+\"?\",n,o,a,\"[\\\\ud800-\\\\udfff]\"].join(\"|\")+\")\",h=RegExp(r+\"(?=\"+r+\")|\"+c+u,\"g\");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,n){var a=n(134),s=n(195),u=n(143),c=n(44),h=n(102),l=n(18),f=n(60),d=n(77),p=n(31),g=n(80);t.exports=function(t,r,i){var e,n=l(t),o=n||f(t)||g(t);return r=c(r,4),null==i&&(e=t&&t.constructor,i=o?n?new e:[]:p(t)&&d(e)?s(h(t)):{}),(o?a:u)(t,function(t,e,n){return r(i,t,e,n)}),i}},function(t,e,n){var r=n(147),i=n(107),o=n(473),a=n(218),s=i(function(t){return o(r(t,1,a,!0))});t.exports=s},function(t,e,n){var r=n(59),i=n(79),o=n(18),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(142),i=n(181),o=n(52),a=i?function(t,e){return i(t,\"toString\",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){var o=Date.now;t.exports=function(n){var r=0,i=0;return function(){var t=o(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},function(t,e,n){var d=n(202),p=n(474),g=n(478),v=n(203),y=n(479),m=n(145);t.exports=function(t,e,n){var r=-1,i=p,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=g;else if(200<=o){var c=e?null:y(t);if(c)return m(c);a=!1,i=v,u=new d}else u=e?[]:s;t:for(;++r<o;){var h=t[r],l=e?e(h):h,h=n||0!==h?h:0;if(a&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue t;e&&u.push(l),s.push(h)}else i(u,l,n)||(u!==s&&u.push(l),s.push(h))}return s}},function(t,e,n){var r=n(475);t.exports=function(t,e){return!(null==t||!t.length)&&-1<r(t,e,0)}},function(t,e,n){var r=n(217),i=n(476),o=n(477);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(191),i=n(480),o=n(145),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(106);t.exports=function(e,t){return r(t,function(t){return e[t]})}},function(t,e){t.exports=\"2.1.8\"},function(t,e,n){var o=n(30),r=n(131);t.exports={write:function(t){var r,i,e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:(i=t,o.map(i.nodes(),function(t){var e=i.node(t),n=i.parent(t),r={v:t};return o.isUndefined(e)||(r.value=e),o.isUndefined(n)||(r.parent=n),r})),edges:(r=t,o.map(r.edges(),function(t){var e=r.edge(t),n={v:t.v,w:t.w};return o.isUndefined(t.name)||(n.name=t.name),o.isUndefined(e)||(n.value=e),n}))};return o.isUndefined(t.graph())||(e.value=o.clone(t.graph())),e},read:function(t){var e=new r(t.options).setGraph(t.value);return o.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),o.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(485),dijkstra:n(220),dijkstraAll:n(486),findCycles:n(487),floydWarshall:n(488),isAcyclic:n(489),postorder:n(490),preorder:n(491),prim:n(492),tarjan:n(222),topsort:n(223)}},function(t,e,n){var a=n(30);t.exports=function(e){var n,r={},i=[];function o(t){a.has(r,t)||(r[t]=!0,n.push(t),a.each(e.successors(t),o),a.each(e.predecessors(t),o))}return a.each(e.nodes(),function(t){n=[],o(t),n.length&&i.push(n)}),i}},function(t,e,n){var o=n(220),a=n(30);t.exports=function(n,r,i){return a.transform(n.nodes(),function(t,e){t[e]=o(n,e,r,i)},{})}},function(t,e,n){var r=n(30),i=n(222);t.exports=function(e){return r.filter(i(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})}},function(t,e,n){var r=n(30);t.exports=function(e,t,n){return i=t||a,o=n||function(t){return e.outEdges(t)},u={},(c=e.nodes()).forEach(function(r){u[r]={},u[r][r]={distance:0},c.forEach(function(t){r!==t&&(u[r][t]={distance:Number.POSITIVE_INFINITY})}),o(r).forEach(function(t){var e=t.v===r?t.w:t.v,n=i(t);u[r][e]={distance:n,predecessor:r}})}),c.forEach(function(a){var s=u[a];c.forEach(function(t){var o=u[t];c.forEach(function(t){var e=o[a],n=s[t],r=o[t],i=e.distance+n.distance;i<r.distance&&(r.distance=i,r.predecessor=n.predecessor)})})}),u;var i,o,u,c};var a=r.constant(1)},function(t,e,n){var r=n(223);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(224);t.exports=function(t,e){return r(t,e,\"post\")}},function(t,e,n){var r=n(224);t.exports=function(t,e){return r(t,e,\"pre\")}},function(t,e,n){var u=n(30),c=n(131),h=n(221);t.exports=function(t,i){var o,e=new c,a={},s=new h;function n(t){var e,n=t.v===o?t.w:t.v,r=s.priority(n);void 0===r||(e=i(t))<r&&(a[n]=o,s.decrease(n,e))}if(0===t.nodeCount())return e;u.each(t.nodes(),function(t){s.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),s.decrease(t.nodes()[0],0);for(var r=!1;0<s.size();){if(o=s.removeMin(),u.has(a,o))e.setEdge(o,a[o]);else{if(r)throw new Error(\"Input graph is not connected: \"+t);r=!0}t.nodeEdges(o).forEach(n)}return e}},function(t,e,n){\"use strict\";var h=n(14),r=n(531),i=n(534),a=n(535),s=n(26).normalizeRanks,u=n(537),l=n(26).removeEmptyRanks,f=n(538),d=n(539),p=n(540),g=n(541),v=n(550),y=n(26),c=n(37).Graph;t.exports=function(o,t){var n=t&&t.debugTiming?y.time:y.notime;n(\"layout\",function(){var e=n(\"  buildLayoutGraph\",function(){return n=o,r=new c({multigraph:!0,compound:!0}),t=k(n.graph()),r.setGraph(h.merge({},b,C(t,m),h.pick(t,x))),h.forEach(n.nodes(),function(t){var e=k(n.node(t));r.setNode(t,h.defaults(C(e,w),M)),r.setParent(t,n.parent(t))}),h.forEach(n.edges(),function(t){var e=k(n.edge(t));r.setEdge(t,h.merge({},_,C(e,S),h.pick(e,O)))}),r;var n,r,t});n(\"  runLayout\",function(){var c,t;c=e,(t=n)(\"    makeSpaceForEdgeLabels\",function(){var n,r;(r=(n=c).graph()).ranksep/=2,h.forEach(n.edges(),function(t){var e=n.edge(t);e.minlen*=2,\"c\"!==e.labelpos.toLowerCase()&&(\"TB\"===r.rankdir||\"BT\"===r.rankdir?e.width+=e.labeloffset:e.height+=e.labeloffset)})}),t(\"    removeSelfEdges\",function(){var n;n=c,h.forEach(n.edges(),function(t){var e;t.v===t.w&&((e=n.node(t.v)).selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t))})}),t(\"    acyclic\",function(){r.run(c)}),t(\"    nestingGraph.run\",function(){f.run(c)}),t(\"    rank\",function(){a(y.asNonCompoundGraph(c))}),t(\"    injectEdgeLabelProxies\",function(){var i;i=c,h.forEach(i.edges(),function(t){var e,n,r=i.edge(t);r.width&&r.height&&(e=i.node(t.v),n={rank:(i.node(t.w).rank-e.rank)/2+e.rank,e:t},y.addDummyNode(i,\"edge-proxy\",n,\"_ep\"))})}),t(\"    removeEmptyRanks\",function(){l(c)}),t(\"    nestingGraph.cleanup\",function(){f.cleanup(c)}),t(\"    normalizeRanks\",function(){s(c)}),t(\"    assignRankMinMax\",function(){var n,r;n=c,r=0,h.forEach(n.nodes(),function(t){var e=n.node(t);e.borderTop&&(e.minRank=n.node(e.borderTop).rank,e.maxRank=n.node(e.borderBottom).rank,r=h.max(r,e.maxRank))}),n.graph().maxRank=r}),t(\"    removeEdgeLabelProxies\",function(){var n;n=c,h.forEach(n.nodes(),function(t){var e=n.node(t);\"edge-proxy\"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})}),t(\"    normalize.run\",function(){i.run(c)}),t(\"    parentDummyChains\",function(){u(c)}),t(\"    addBorderSegments\",function(){d(c)}),t(\"    order\",function(){g(c)}),t(\"    insertSelfEdges\",function(){var i,t;i=c,t=y.buildLayerMatrix(i),h.forEach(t,function(t){var r=0;h.forEach(t,function(t,e){var n=i.node(t);n.order=e+r,h.forEach(n.selfEdges,function(t){y.addDummyNode(i,\"selfedge\",{width:t.label.width,height:t.label.height,rank:n.rank,order:e+ ++r,e:t.e,label:t.label},\"_se\")}),delete n.selfEdges})})}),t(\"    adjustCoordinateSystem\",function(){p.adjust(c)}),t(\"    position\",function(){v(c)}),t(\"    positionSelfEdges\",function(){var s;s=c,h.forEach(s.nodes(),function(t){var e,n,r,i,o,a=s.node(t);\"selfedge\"===a.dummy&&(n=(e=s.node(a.e.v)).x+e.width/2,r=e.y,i=a.x-n,o=e.height/2,s.setEdge(a.e,a.label),s.removeNode(t),a.label.points=[{x:n+2*i/3,y:r-o},{x:n+5*i/6,y:r-o},{x:n+i,y:r},{x:n+5*i/6,y:r+o},{x:n+2*i/3,y:r+o}],a.label.x=a.x,a.label.y=a.y)})}),t(\"    removeBorderNodes\",function(){var a;a=c,h.forEach(a.nodes(),function(t){var e,n,r,i,o;a.children(t).length&&(e=a.node(t),n=a.node(e.borderTop),r=a.node(e.borderBottom),i=a.node(h.last(e.borderLeft)),o=a.node(h.last(e.borderRight)),e.width=Math.abs(o.x-i.x),e.height=Math.abs(r.y-n.y),e.x=i.x+e.width/2,e.y=n.y+e.height/2)}),h.forEach(a.nodes(),function(t){\"border\"===a.node(t).dummy&&a.removeNode(t)})}),t(\"    normalize.undo\",function(){i.undo(c)}),t(\"    fixupEdgeLabelCoords\",function(){var n;n=c,h.forEach(n.edges(),function(t){var e=n.edge(t);if(h.has(e,\"x\"))switch(\"l\"!==e.labelpos&&\"r\"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case\"l\":e.x-=e.width/2+e.labeloffset;break;case\"r\":e.x+=e.width/2+e.labeloffset}})}),t(\"    undoCoordinateSystem\",function(){p.undo(c)}),t(\"    translateGraph\",function(){function n(t){var e=t.x,n=t.y,r=t.width,i=t.height;o=Math.min(o,e-r/2),a=Math.max(a,e+r/2),s=Math.min(s,n-i/2),u=Math.max(u,n+i/2)}var r,o,a,s,u,t,e,i;r=c,o=Number.POSITIVE_INFINITY,a=0,s=Number.POSITIVE_INFINITY,u=0,t=r.graph(),e=t.marginx||0,i=t.marginy||0,h.forEach(r.nodes(),function(t){n(r.node(t))}),h.forEach(r.edges(),function(t){var e=r.edge(t);h.has(e,\"x\")&&n(e)}),o-=e,s-=i,h.forEach(r.nodes(),function(t){var e=r.node(t);e.x-=o,e.y-=s}),h.forEach(r.edges(),function(t){var e=r.edge(t);h.forEach(e.points,function(t){t.x-=o,t.y-=s}),h.has(e,\"x\")&&(e.x-=o),h.has(e,\"y\")&&(e.y-=s)}),t.width=a-o+e,t.height=u-s+i}),t(\"    assignNodeIntersects\",function(){var a;a=c,h.forEach(a.edges(),function(t){var e,n=a.edge(t),r=a.node(t.v),i=a.node(t.w),o=n.points?(e=n.points[0],n.points[n.points.length-1]):(n.points=[],e=i,r);n.points.unshift(y.intersectRect(r,e)),n.points.push(y.intersectRect(i,o))})}),t(\"    reversePoints\",function(){var n;n=c,h.forEach(n.edges(),function(t){var e=n.edge(t);e.reversed&&e.points.reverse()})}),t(\"    acyclic.undo\",function(){r.undo(c)})}),n(\"  updateInputGraph\",function(){var r,i;r=o,i=e,h.forEach(r.nodes(),function(t){var e=r.node(t),n=i.node(t);e&&(e.x=n.x,e.y=n.y,i.children(t).length&&(e.width=n.width,e.height=n.height))}),h.forEach(r.edges(),function(t){var e=r.edge(t),n=i.edge(t);e.points=n.points,h.has(n,\"x\")&&(e.x=n.x,e.y=n.y)}),r.graph().width=i.graph().width,r.graph().height=i.graph().height})})};var m=[\"nodesep\",\"edgesep\",\"ranksep\",\"marginx\",\"marginy\"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:\"tb\"},x=[\"acyclicer\",\"ranker\",\"rankdir\",\"align\"],w=[\"width\",\"height\"],M={width:0,height:0},S=[\"minlen\",\"weight\",\"width\",\"height\",\"labeloffset\"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:\"r\"},O=[\"labelpos\"];function C(t,e){return h.mapValues(h.pick(t,e),Number)}function k(t){var n={};return h.forEach(t,function(t,e){n[e.toLowerCase()]=t}),n}},function(t,e,n){var r=n(178);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(107),l=n(58),f=n(108),d=n(51),p=Object.prototype,g=p.hasOwnProperty,i=r(function(t,e){t=Object(t);var n=-1,r=e.length,i=2<r?e[2]:void 0;for(i&&f(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=d(o),s=-1,u=a.length;++s<u;){var c=a[s],h=t[c];(void 0===h||l(h,p[c])&&!g.call(t,c))&&(t[c]=o[c])}return t});t.exports=i},function(t,e,n){var r=n(497)(n(498));t.exports=r},function(t,e,n){var s=n(44),u=n(43),c=n(48);t.exports=function(a){return function(t,e,n){var r,i=Object(t);u(t)||(r=s(e,3),t=c(t),e=function(t){return r(i[t],t,i)});var o=a(t,e,n);return-1<o?i[r?t[o]:o]:void 0}}},function(t,e,n){var o=n(217),a=n(44),s=n(499),u=Math.max;t.exports=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:s(n);return i<0&&(i=u(r+i,0)),o(t,a(e,3),i)}},function(t,e,n){var r=n(225);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(31),i=n(62),o=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if(\"number\"==typeof t)return t;if(i(t))return NaN;var e;if(r(t)&&(e=\"function\"==typeof t.valueOf?t.valueOf():t,t=r(e)?e+\"\":e),\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(o,\"\");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(144),i=n(198),o=n(51);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var o=n(98),a=n(143),s=n(44);t.exports=function(t,r){var i={};return r=s(r,3),a(t,function(t,e,n){o(i,e,r(t,e,n))}),i}},function(t,e,n){var r=n(148),i=n(505),o=n(52);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e){t.exports=function(t,e){return e<t}},function(t,e,n){var r=n(507),i=n(511)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){var c=n(92),h=n(227),l=n(144),f=n(508),d=n(31),p=n(51),g=n(228);t.exports=function r(i,o,a,s,u){i!==o&&l(o,function(t,e){var n;u=u||new c,d(t)?f(i,o,e,a,r,s,u):(void 0===(n=s?s(g(i,e),t,e+\"\",i,o,u):void 0)&&(n=t),h(i,e,n))},p)}},function(t,e,n){var g=n(227),v=n(184),y=n(193),m=n(185),b=n(194),x=n(79),w=n(18),M=n(218),S=n(60),_=n(77),O=n(31),C=n(509),k=n(80),E=n(228),j=n(510);t.exports=function(t,e,n,r,i,o,a){var s,u,c,h,l,f=E(t,n),d=E(e,n),p=a.get(d);p?g(t,n,p):((s=void 0===(l=o?o(f,d,n+\"\",t,e,a):void 0))&&(c=!(u=w(d))&&S(d),h=!u&&!c&&k(d),l=d,u||c||h?l=w(f)?f:M(f)?m(f):c?v(d,!(s=!1)):h?y(d,!(s=!1)):[]:C(d)||x(d)?x(l=f)?l=j(f):O(f)&&!_(f)||(l=b(d)):s=!1),s&&(a.set(d,l),i(l,d,r,o,a),a.delete(d)),g(t,n,l))}},function(t,e,n){var r=n(50),i=n(102),o=n(41),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,h=u.call(Object);t.exports=function(t){if(!o(t)||\"[object Object]\"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&u.call(n)==h}},function(t,e,n){var r=n(78),i=n(51);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(107),u=n(108);t.exports=function(s){return r(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:void 0,o=2<r?e[2]:void 0,i=3<s.length&&\"function\"==typeof i?(r--,i):void 0;for(o&&u(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&s(t,a,n,i)}return t})}},function(t,e,n){var r=n(148),i=n(229),o=n(52);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e,n){var r=n(148),i=n(44),o=n(229);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},function(t,e,n){var r=n(38);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(516),i=n(519)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(517),i=n(207);t.exports=function(n,t){return r(n,t,function(t,e){return i(n,e)})}},function(t,e,n){var u=n(104),c=n(518),h=n(105);t.exports=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=u(t,a);n(s,a)&&c(o,h(a,t),s)}return o}},function(t,e,n){var l=n(97),f=n(105),d=n(99),p=n(31),g=n(81);t.exports=function(t,e,n,r){if(!p(t))return t;for(var i=-1,o=(e=f(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u,c=g(e[i]),h=n;if(\"__proto__\"===c||\"constructor\"===c||\"prototype\"===c)return t;i!=a&&(u=s[c],void 0===(h=r?r(u,c,s):void 0)&&(h=p(u)?u:d(e[i+1])?[]:{})),l(s,c,h),s=s[c]}return t}},function(t,e,n){var r=n(226),i=n(215),o=n(216);t.exports=function(t){return o(i(t,void 0,r),t+\"\")}},function(t,e,n){var r=n(521)();t.exports=r},function(t,e,n){var i=n(522),o=n(108),a=n(225);t.exports=function(r){return function(t,e,n){return n&&\"number\"!=typeof n&&o(t,e,n)&&(e=n=void 0),t=a(t),void 0===e?(e=t,t=0):e=a(e),n=void 0===n?t<e?1:-1:a(n),i(t,e,n,r)}}},function(t,e){var s=Math.ceil,u=Math.max;t.exports=function(t,e,n,r){for(var i=-1,o=u(s((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}},function(t,e,n){var r=n(147),i=n(524),o=n(107),a=n(108),s=o(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&a(t,e[0],e[1])?e=[]:2<n&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=s},function(t,e,n){var o=n(106),a=n(104),s=n(44),u=n(213),c=n(525),h=n(100),l=n(526),f=n(52),d=n(18);t.exports=function(t,r,n){r=r.length?o(r,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[f];var i=-1;r=o(r,h(s));var e=u(t,function(e,t,n){return{criteria:o(r,function(t){return t(e)}),index:++i,value:e}});return c(e,function(t,e){return l(t,e,n)})}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var c=n(527);t.exports=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=c(i[r],o[r]);if(u)return s<=r?u:u*(\"desc\"==n[r]?-1:1)}return t.index-e.index}},function(t,e,n){var h=n(62);t.exports=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=h(t),a=void 0!==e,s=null===e,u=e==e,c=h(e);if(!s&&!c&&!o&&e<t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}},function(t,e,n){var r=n(206),i=0;t.exports=function(t){var e=++i;return r(t)+e}},function(t,e,n){var r=n(97),i=n(530);t.exports=function(t,e){return i(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},function(t,e,n){\"use strict\";var s=n(14),u=n(532);t.exports={run:function(n){var r,i,o,a,e,t=\"greedy\"===n.graph().acyclicer?u(n,(e=n,function(t){return e.edge(t).weight})):(r=n,i=[],o={},a={},s.forEach(r.nodes(),function e(t){s.has(a,t)||(a[t]=!0,o[t]=!0,s.forEach(r.outEdges(t),function(t){s.has(o,t.w)?i.push(t):e(t.w)}),delete o[t])}),i);s.forEach(t,function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,s.uniqueId(\"rev\"))})},undo:function(r){s.forEach(r.edges(),function(t){var e,n=r.edge(t);n.reversed&&(r.removeEdge(t),e=n.forwardName,delete n.reversed,delete n.forwardName,r.setEdge(t.w,t.v,n,e))})}}},function(t,e,n){var u=n(14),c=n(37).Graph,h=n(533);t.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(t,i){var o=new c,a=0,s=0;u.forEach(t.nodes(),function(t){o.setNode(t,{v:t,in:0,out:0})}),u.forEach(t.edges(),function(t){var e=o.edge(t.v,t.w)||0,n=i(t),r=e+n;o.setEdge(t.v,t.w,r),s=Math.max(s,o.node(t.v).out+=n),a=Math.max(a,o.node(t.w).in+=n)});var e=u.range(s+a+3).map(function(){return new h}),n=a+1;return u.forEach(o.nodes(),function(t){f(e,n,o.node(t))}),{graph:o,buckets:e,zeroIdx:n}}(e,t||i),r=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)l(t,e,n,r);for(;r=o.dequeue();)l(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;0<s;--s)if(r=e[s].dequeue()){i=i.concat(l(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return u.flatten(u.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)};var i=u.constant(1);function l(i,o,a,t,r){var s=r?[]:void 0;return u.forEach(i.inEdges(t.v),function(t){var e=i.edge(t),n=i.node(t.v);r&&s.push({v:t.v,w:t.w}),n.out-=e,f(o,a,n)}),u.forEach(i.outEdges(t.v),function(t){var e=i.edge(t),n=t.w,r=i.node(n);r.in-=e,f(o,a,r)}),i.removeNode(t.v),s}function f(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if(\"_next\"!==t&&\"_prev\"!==t)return e}(t.exports=n).prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,(e._next=t)._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return\"[\"+t.join(\", \")+\"]\"}},function(t,e,n){\"use strict\";var r=n(14),f=n(26);t.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,u=t.node(s).rank,c=e.name,h=t.edge(e),l=h.labelRank;if(u!==a+1){for(t.removeEdge(e),i=0,++a;a<u;++i,++a)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:a},n=f.addDummyNode(t,\"edge\",r,\"_d\"),a===l&&(r.width=h.width,r.height=h.height,r.dummy=\"edge-label\",r.labelpos=h.labelpos),t.setEdge(o,n,{weight:h.weight},c),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:h.weight},c)}}(e,t)})},undo:function(i){r.forEach(i.graph().dummyChains,function(t){var e,n=i.node(t),r=n.edgeLabel;for(i.setEdge(n.edgeObj,r);n.dummy;)e=i.successors(t)[0],i.removeNode(t),r.points.push({x:n.x,y:n.y}),\"edge-label\"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=e,n=i.node(t)})}}},function(t,e,n){\"use strict\";var r=n(109).longestPath,i=n(230),o=n(536);t.exports=function(t){switch(t.graph().ranker){case\"network-simplex\":s(t);break;case\"tight-tree\":r(e=t),i(e);break;case\"longest-path\":a(t);break;default:s(t)}var e};var a=r;function s(t){o(t)}},function(t,e,n){\"use strict\";var f=n(14),r=n(230),h=n(109).slack,i=n(109).longestPath,l=n(37).alg.preorder,s=n(37).alg.postorder,o=n(26).simplify;function a(t){t=o(t),i(t);var e,n=r(t);for(p(n),d(n,t);e=c(n);)v(n,t,e,g(n,t,e))}function d(o,a){var t=(t=s(o,o.nodes())).slice(0,t.length-1);f.forEach(t,function(t){var e,n,r,i;n=a,r=t,i=(e=o).node(r).parent,e.edge(r,i).cutvalue=u(e,n,r)})}function u(a,s,u){var c=a.node(u).parent,h=!0,t=s.edge(u,c),l=0;return t||(h=!1,t=s.edge(c,u)),l=t.weight,f.forEach(s.nodeEdges(u),function(t){var e,n,r,i=t.v===u,o=i?t.w:t.v;o!==c&&(e=i===h,n=s.edge(t).weight,l+=e?n:-n,a.hasEdge(u,o)&&(r=a.edge(u,o).cutvalue,l+=e?-r:r))}),l}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),function e(n,r,i,o,t){var a=i,s=n.node(o);return r[o]=!0,f.forEach(n.neighbors(o),function(t){f.has(r,t)||(i=e(n,r,i,t,o))}),s.low=a,s.lim=i++,t?s.parent=t:delete s.parent,i}(t,{},1,e)}function c(e){return f.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function g(e,n,t){var r=t.v,i=t.w;n.hasEdge(r,i)||(r=t.w,i=t.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=f.filter(n.edges(),function(t){return u===y(0,e.node(t.v),s)&&u!==y(0,e.node(t.w),s)});return f.minBy(c,function(t){return h(n,t)})}function v(t,e,n,r){var i,o,a,s,u=n.v,c=n.w;t.removeEdge(u,c),t.setEdge(r.v,r.w,{}),p(t),d(t,e),i=t,o=e,a=f.find(i.nodes(),function(t){return!o.node(t).parent}),s=(s=l(i,a)).slice(1),f.forEach(s,function(t){var e=i.node(t).parent,n=o.edge(t,e),r=!1;n||(n=o.edge(e,t),r=!0),o.node(t).rank=o.node(e).rank+(r?n.minlen:-n.minlen)})}function y(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}(t.exports=a).initLowLimValues=p,a.initCutValues=d,a.calcCutValue=u,a.leaveEdge=c,a.enterEdge=g,a.exchangeEdges=v},function(t,e,n){var a=n(14);t.exports=function(c){var r,i,o,h=(r=c,i={},o=0,a.forEach(r.children(),function t(e){var n=o;a.forEach(r.children(e),t),i[e]={low:n,lim:o++}}),i);a.forEach(c.graph().dummyChains,function(t){for(var e=c.node(t),n=e.edgeObj,r=function(t,e,n,r){for(var i,o=[],a=[],s=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim),c=n;c=t.parent(c),o.push(c),c&&(e[c].low>s||u>e[c].lim););for(i=c,c=r;(c=t.parent(c))!==i;)a.push(c);return{path:o.concat(a.reverse()),lca:i}}(c,h,n.v,n.w),i=r.path,o=r.lca,a=0,s=i[a],u=!0;t!==n.w;){if(e=c.node(t),u){for(;(s=i[a])!==o&&c.node(s).maxRank<e.rank;)a++;s===o&&(u=!1)}if(!u){for(;a<i.length-1&&c.node(s=i[a+1]).minRank<=e.rank;)a++;s=i[a]}c.setParent(t,s),t=c.successors(t)[0]}})}},function(t,e,n){var v=n(14),y=n(26);t.exports={run:function(e){var i,o,n=y.addDummyNode(e,\"root\",{},\"_root\"),r=(i=e,o={},v.forEach(i.children(),function(t){!function e(t,n){var r=i.children(t);r&&r.length&&v.forEach(r,function(t){e(t,n+1)}),o[t]=n}(t,1)}),o),a=v.max(v.values(r))-1,s=2*a+1;e.graph().nestingRoot=n,v.forEach(e.edges(),function(t){e.edge(t).minlen*=s});var u,c=(u=e,v.reduce(u.edges(),function(t,e){return t+u.edge(e).weight},0)+1);v.forEach(e.children(),function(t){!function a(s,u,c,h,l,f,d){var t=s.children(d);if(!t.length)return d!==u&&s.setEdge(u,d,{weight:0,minlen:c}),0;var p=y.addBorderNode(s,\"_bt\"),g=y.addBorderNode(s,\"_bb\"),e=s.node(d);s.setParent(p,d),e.borderTop=p,s.setParent(g,d),e.borderBottom=g,v.forEach(t,function(t){a(s,u,c,h,l,f,t);var e=s.node(t),n=e.borderTop?e.borderTop:t,r=e.borderBottom?e.borderBottom:t,i=e.borderTop?h:2*h,o=n!==r?1:l-f[d]+1;s.setEdge(p,n,{weight:i,minlen:o,nestingEdge:!0}),s.setEdge(r,g,{weight:i,minlen:o,nestingEdge:!0})}),s.parent(d)||s.setEdge(u,p,{weight:0,minlen:l+f[d]})}(e,n,s,c,a,r,t)}),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,v.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},function(t,e,n){var s=n(14),c=n(26);function u(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],u=c.addDummyNode(t,\"border\",a,n);i[e][o]=u,t.setParent(u,r),s&&t.setEdge(s,u,{weight:1})}t.exports=function(a){s.forEach(a.children(),function t(e){var n=a.children(e),r=a.node(e);if(n.length&&s.forEach(n,t),s.has(r,\"minRank\")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,o=r.maxRank+1;i<o;++i)u(a,\"borderLeft\",\"_bl\",e,r,i),u(a,\"borderRight\",\"_br\",e,r,i)}})}},function(t,e,n){\"use strict\";var i=n(14);function o(e){i.forEach(e.nodes(),function(t){r(e.node(t))}),i.forEach(e.edges(),function(t){r(e.edge(t))})}function r(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();\"lr\"!==e&&\"rl\"!==e||o(t)},undo:function(t){var n,r,e=t.graph().rankdir.toLowerCase();\"bt\"!==e&&\"rl\"!==e||(n=t,i.forEach(n.nodes(),function(t){a(n.node(t))}),i.forEach(n.edges(),function(t){var e=n.edge(t);i.forEach(e.points,a),i.has(e,\"y\")&&a(e)})),\"lr\"!==e&&\"rl\"!==e||(r=t,i.forEach(r.nodes(),function(t){s(r.node(t))}),i.forEach(r.edges(),function(t){var e=r.edge(t);i.forEach(e.points,s),i.has(e,\"x\")&&s(e)}),o(t))}}},function(t,e,n){\"use strict\";var h=n(14),l=n(542),f=n(543),d=n(544),r=n(548),p=n(549),g=n(37).Graph,v=n(26);function y(e,t,n){return h.map(t,function(t){return r(e,t,n)})}function m(n,t){h.forEach(t,function(t){h.forEach(t,function(t,e){n.node(t).order=e})})}t.exports=function(t){var e=v.maxRank(t),n=y(t,h.range(1,e+1),\"inEdges\"),r=y(t,h.range(e-1,-1,-1),\"outEdges\"),i=l(t);m(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){(function(t,r){var i=new g;h.forEach(t,function(n){var t=n.graph().root,e=d(n,t,i,r);h.forEach(e.vs,function(t,e){n.node(t).order=e}),p(n,i,e.vs)})})(s%2?n:r,2<=s%4),i=v.buildLayerMatrix(t);var c=f(t,i);c<a&&(u=0,o=h.cloneDeep(i),a=c)}m(t,o)}},function(t,e,n){\"use strict\";var a=n(14);t.exports=function(r){var i={},t=a.filter(r.nodes(),function(t){return!r.children(t).length}),e=a.max(a.map(t,function(t){return r.node(t).rank})),o=a.map(a.range(e+1),function(){return[]}),n=a.sortBy(t,function(t){return r.node(t).rank});return a.forEach(n,function t(e){var n;a.has(i,e)||(i[e]=!0,n=r.node(e),o[n.rank].push(e),a.forEach(r.successors(e),t))}),o}},function(t,e,n){\"use strict\";var c=n(14);t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=function(e,t,n){for(var r=c.zipObject(n,c.map(n,function(t,e){return e})),i=c.flatten(c.map(t,function(t){return c.sortBy(c.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),\"pos\")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;--o;var s=c.map(new Array(a),function(){return 0}),u=0;return c.forEach(i.forEach(function(t){var e=t.pos+o;s[e]+=t.weight;for(var n=0;0<e;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;u+=t.weight*n})),u}(t,e[r-1],e[r]);return n}},function(t,e,n){var v=n(14),y=n(545),m=n(546),b=n(547);t.exports=function i(o,t,a,s){var e=o.children(t),n=o.node(t),r=n?n.borderLeft:void 0,u=n?n.borderRight:void 0,c={};r&&(e=v.filter(e,function(t){return t!==r&&t!==u}));var h=y(o,e);v.forEach(h,function(t){var e,n,r;o.children(t.v).length&&(e=i(o,t.v,a,s),c[t.v]=e,v.has(e,\"barycenter\")&&(n=t,r=e,v.isUndefined(n.barycenter)?(n.barycenter=r.barycenter,n.weight=r.weight):(n.barycenter=(n.barycenter*n.weight+r.barycenter*r.weight)/(n.weight+r.weight),n.weight+=r.weight)))});var l,f=m(h,a);l=c,v.forEach(f,function(t){t.vs=v.flatten(t.vs.map(function(t){return l[t]?l[t].vs:t}),!0)});var d,p,g=b(f,s);return r&&(g.vs=v.flatten([r,g.vs,u],!0),o.predecessors(r).length)&&(d=o.node(o.predecessors(r)[0]),p=o.node(o.predecessors(u)[0]),v.has(g,\"barycenter\")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+d.order+p.order)/(g.weight+2),g.weight+=2),g}},function(t,e,n){var r=n(14);t.exports=function(i,t){return r.map(t,function(t){var e=i.inEdges(t);if(e.length){var n=r.reduce(e,function(t,e){var n=i.edge(e),r=i.node(e.v);return{sum:t.sum+n.weight*r.order,weight:t.weight+n.weight}},{sum:0,weight:0});return{v:t,barycenter:n.sum/n.weight,weight:n.weight}}return{v:t}})}},function(t,e,n){\"use strict\";var a=n(14);t.exports=function(t,e){var r={};return a.forEach(t,function(t,e){var n=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};a.isUndefined(t.barycenter)||(n.barycenter=t.barycenter,n.weight=t.weight)}),a.forEach(e.edges(),function(t){var e=r[t.v],n=r[t.w];a.isUndefined(e)||a.isUndefined(n)||(n.indegree++,e.out.push(r[t.w]))}),function(n){var t=[];for(;n.length;){var e=n.pop();t.push(e),a.forEach(e.in.reverse(),function(o){return function(t){var e,n,r,i;t.merged||(a.isUndefined(t.barycenter)||a.isUndefined(o.barycenter)||t.barycenter>=o.barycenter)&&(n=t,i=r=0,(e=o).weight&&(r+=e.barycenter*e.weight,i+=e.weight),n.weight&&(r+=n.barycenter*n.weight,i+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(n.i,e.i),n.merged=!0)}}(e)),a.forEach(e.out,function(e){return function(t){t.in.push(e),0==--t.indegree&&n.push(t)}}(e))}return a.map(a.filter(t,function(t){return!t.merged}),function(t){return a.pick(t,[\"vs\",\"i\",\"barycenter\",\"weight\"])})}(a.filter(r,function(t){return!t.indegree}))}},function(t,e,n){var l=n(14),f=n(26);function d(t,e,n){for(var r;e.length&&(r=l.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}t.exports=function(t,e){var n,r=f.partition(t,function(t){return l.has(t,\"barycenter\")}),i=r.lhs,o=l.sortBy(r.rhs,function(t){return-t.i}),a=[],s=0,u=0,c=0;i.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),c=d(a,o,c),l.forEach(i,function(t){c+=t.vs.length,a.push(t.vs),s+=t.barycenter*t.weight,u+=t.weight,c=d(a,o,c)});var h={vs:l.flatten(a,!0)};return u&&(h.barycenter=s/u,h.weight=u),h}},function(t,e,n){var u=n(14),i=n(37).Graph;t.exports=function(o,n,r){var a=function(t){for(var e;t.hasNode(e=u.uniqueId(\"_root\")););return e}(o),s=new i({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(t){return o.node(t)});return u.forEach(o.nodes(),function(i){var t=o.node(i),e=o.parent(i);(t.rank===n||t.minRank<=n&&n<=t.maxRank)&&(s.setNode(i),s.setParent(i,e||a),u.forEach(o[r](i),function(t){var e=t.v===i?t.w:t.v,n=s.edge(e,i),r=u.isUndefined(n)?0:n.weight;s.setEdge(e,i,{weight:o.edge(t).weight+r})}),u.has(t,\"minRank\")&&s.setNode(i,{borderLeft:t.borderLeft[n],borderRight:t.borderRight[n]}))}),s}},function(t,e,n){var r=n(14);t.exports=function(i,o,t){var a,s={};r.forEach(t,function(t){for(var e,n,r=i.parent(t);r;){if((e=i.parent(r))?(n=s[e],s[e]=r):(n=a,a=r),n&&n!==r)return void o.setEdge(n,r);r=e}})}},function(t,e,n){\"use strict\";var a=n(14),s=n(26),u=n(551).positionX;t.exports=function(n){var r,t,i,o;r=n=s.asNonCompoundGraph(n),t=s.buildLayerMatrix(r),i=r.graph().ranksep,o=0,a.forEach(t,function(t){var e=a.max(a.map(t,function(t){return r.node(t).height}));a.forEach(t,function(t){r.node(t).y=o+e/2}),o+=e+i}),a.forEach(u(n),function(t,e){n.node(e).x=t})}},function(t,e,n){\"use strict\";var b=n(14),x=n(37).Graph,r=n(26);function i(c,t){var h={};return b.reduce(t,function(t,r){var o=0,a=0,s=t.length,u=b.last(r);return b.forEach(r,function(t,e){var n=function(e,t){if(e.node(t).dummy)return b.find(e.predecessors(t),function(t){return e.node(t).dummy})}(c,t),i=n?c.node(n).order:s;!n&&t!==u||(b.forEach(r.slice(a,e+1),function(r){b.forEach(c.predecessors(r),function(t){var e=c.node(t),n=e.order;!(n<o||i<n)||e.dummy&&c.node(r).dummy||l(h,t,r)})}),a=e+1,o=i)}),r}),h}function c(u,t){var a={};function c(e,t,n,r,i){var o;b.forEach(b.range(t,n),function(t){o=e[t],u.node(o).dummy&&b.forEach(u.predecessors(o),function(t){var e=u.node(t);e.dummy&&(e.order<r||e.order>i)&&l(a,t,o)})})}return b.reduce(t,function(r,i){var o,a=-1,s=0;return b.forEach(i,function(t,e){var n;\"border\"!==u.node(t).dummy||(n=u.predecessors(t)).length&&(o=u.node(n[0]).order,c(i,s,e,a,o),s=e,a=o),c(i,s,i.length,o,r.length)}),i}),a}function l(t,e,n){var r;n<e&&(r=e,e=n,n=r);var i=t[e];i||(t[e]=i={}),i[n]=!0}function f(t,e,n){var r;return n<e&&(r=e,e=n,n=r),b.has(t[e],n)}function h(t,e,s,u){var c={},h={},l={};return b.forEach(e,function(t){b.forEach(t,function(t,e){c[t]=t,h[t]=t,l[t]=e})}),b.forEach(e,function(t){var a=-1;b.forEach(t,function(t){var e=u(t);if(e.length)for(var n=((e=b.sortBy(e,function(t){return l[t]})).length-1)/2,r=Math.floor(n),i=Math.ceil(n);r<=i;++r){var o=e[r];h[t]===t&&a<l[o]&&!f(s,t,o)&&(h[o]=t,h[t]=c[t]=c[o],a=l[o])}})}),{root:c,align:h}}function d(r,t,e,n,i){var o,a,s,u,c,h,l,f,d,p,g={},v=(o=r,a=t,s=e,u=i,f=new x,d=o.graph(),c=d.nodesep,h=d.edgesep,l=u,p=function(t,e,n){var r,i=t.node(e),o=t.node(n),a=0;if(a+=i.width/2,b.has(i,\"labelpos\"))switch(i.labelpos.toLowerCase()){case\"l\":r=-i.width/2;break;case\"r\":r=i.width/2}if(r&&(a+=l?r:-r),r=0,a+=(i.dummy?h:c)/2,a+=(o.dummy?h:c)/2,a+=o.width/2,b.has(o,\"labelpos\"))switch(o.labelpos.toLowerCase()){case\"l\":r=o.width/2;break;case\"r\":r=-o.width/2}return r&&(a+=l?r:-r),r=0,a},b.forEach(a,function(t){var i;b.forEach(t,function(t){var e,n,r=s[t];f.setNode(r),i&&(e=s[i],n=f.edge(e,r),f.setEdge(e,r,Math.max(p(o,t,i),n||0))),i=t})}),f),y=i?\"borderLeft\":\"borderRight\";function m(t,e){for(var n=v.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return m(function(t){g[t]=v.inEdges(t).reduce(function(t,e){return Math.max(t,g[e.v]+v.edge(e))},0)},v.predecessors.bind(v)),m(function(t){var e=v.outEdges(t).reduce(function(t,e){return Math.min(t,g[e.w]-v.edge(e))},Number.POSITIVE_INFINITY),n=r.node(t);e!==Number.POSITIVE_INFINITY&&n.borderType!==y&&(g[t]=Math.max(g[t],e))},v.successors.bind(v)),b.forEach(n,function(t){g[t]=g[e[t]]}),g}function p(o,t){return b.minBy(b.values(t),function(t){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return b.forIn(t,function(t,e){var n=o.node(e).width/2;r=Math.max(t+n,r),i=Math.min(t-n,i)}),r-i})}function g(a,s){var t=b.values(s),u=b.min(t),c=b.max(t);b.forEach([\"u\",\"d\"],function(o){b.forEach([\"l\",\"r\"],function(t){var e,n,r=o+t,i=a[r];i!==s&&(n=b.values(i),(e=\"l\"===t?u-b.min(n):c-b.max(n))&&(a[r]=b.mapValues(i,function(t){return t+e})))})})}function v(r,i){return b.mapValues(r.ul,function(t,e){if(i)return r[i.toLowerCase()][e];var n=b.sortBy(b.map(r,e));return(n[1]+n[2])/2})}t.exports={positionX:function(o){var a,t=r.buildLayerMatrix(o),s=b.merge(i(o,t),c(o,t)),u={};b.forEach([\"u\",\"d\"],function(i){a=\"u\"===i?t:b.values(t).reverse(),b.forEach([\"l\",\"r\"],function(t){\"r\"===t&&(a=b.map(a,function(t){return b.values(t).reverse()}));var e=(\"u\"===i?o.predecessors:o.successors).bind(o),n=h(0,a,s,e),r=d(o,a,n.root,n.align,\"r\"===t);\"r\"===t&&(r=b.mapValues(r,function(t){return-t})),u[i+t]=r})});var e=p(o,u);return g(u,e),v(u,o.graph().align)},findType1Conflicts:i,findType2Conflicts:c,addConflict:l,hasConflict:f,verticalAlignment:h,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:p,balance:v}},function(t,e,n){var i=n(14),o=n(26),a=n(37).Graph;t.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),r=new a({compound:!0,multigraph:!0}).setGraph({});return i.forEach(e.nodes(),function(t){r.setNode(t,{label:t}),r.setParent(t,\"layer\"+e.node(t).rank)}),i.forEach(e.edges(),function(t){r.setEdge(t.v,t.w,{},t.name)}),i.forEach(t,function(t,e){var n=\"layer\"+e;r.setNode(n,{rank:\"same\"}),i.reduce(t,function(t,e){return r.setEdge(t,e,{style:\"invis\"}),e})}),r}}},function(t,e){t.exports=\"0.8.5\"},function(t,e,n){var r,i,o,a=n(110),s=n(555),u=n(149),c=n(53),h=(o=r=a,(i=f).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,f.prototype.execute=function(){return u(this.rootNode,this.options,s)},f),l={};function f(){return r.apply(this,arguments)||this}t.exports=function(t,e){return e=c.assign({},l,e),new h(t,e).execute()}},function(t,e){function u(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}u.fromNode=function(t,e){if(!t)return null;var n=[];return t.children.forEach(function(t){n.push(u.fromNode(t,e))}),e?new u(t.height,t.width,t.x,n):new u(t.width,t.height,t.y,n)},t.exports=function(t,e){void 0===e&&(e={});var n=e.isHorizontal;function o(t){0===t.cs?((t.el=t).er=t).msel=t.mser=0:(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function C(t){return t.y+t.h}function a(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function e(t,n,r){void 0===r&&(r=0),n?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach(function(t){e(t,n,r)})}(t,n);var r,i,s=u.fromNode(t,n);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=a(C(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var i=C(e.c[r].er);(function(t,e,n){for(var r,i,o,a,s,u,c,h,l,f,d,p,g,v,y,m,b=t.c[e-1],x=b.mod,w=t.c[e],M=w.mod;null!==b&&null!==w;){C(b)>n.low&&(n=n.nxt);var S=x+b.prelim+b.w-(M+w.prelim);0<S&&(M+=S,o=t,a=e,s=n.index,u=S,o.c[a].mod+=u,o.c[a].msel+=u,o.c[a].mser+=u,function(t,e,n){var r;s!==e-1&&(r=e-s,t.c[s+1].shift+=n/r,t.c[e].shift-=n/r,t.c[e].change-=n-n/r)}(o,a,u));var _=C(b),O=C(w);_<=O&&null!==(b=0===(i=b).cs?i.tr:i.c[i.cs-1])&&(x+=b.mod),O<=_&&null!==(w=0===(r=w).cs?r.tl:r.c[0])&&(M+=w.mod)}!b&&w?(g=e,v=w,y=(p=t).c[0].el,m=M-(y.tl=v).mod-p.c[0].msel,y.mod+=m,y.prelim-=m,p.c[0].el=p.c[g].el,p.c[0].msel=p.c[g].msel):b&&!w&&(h=e,l=b,f=(c=t).c[h].er,d=x-(f.tr=l).mod-c.c[h].mser,f.mod+=d,f.prelim-=d,c.c[h].er=c.c[h-1].er,c.c[h].mser=c.c[h-1].mser)})(e,r,n),n=a(i,r,n)}e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2,o(e)}else o(e)}(s),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)n+=(e+=t.c[r].shift)+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(s,0),function n(t,r,i){i?r.y=t.x:r.x=t.x,t.c.forEach(function(t,e){n(t,r.children[e],i)})}(s,t,n),function e(t,n,r){r?t.y+=n:t.x+=n,t.children.forEach(function(t){e(t,n,r)})}(r=t,-function e(t,n){var r=n?t.y:t.x;return t.children.forEach(function(t){r=Math.min(e(t,n),r)}),r}(r,i=n),i),t}},function(t,e,n){var r,i,o,a=n(110),s=n(557),u=n(149),c=n(53),h=(o=r=a,(i=f).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,f.prototype.execute=function(){return this.rootNode.width=0,u(this.rootNode,this.options,s)},f),l={};function f(){return r.apply(this,arguments)||this}t.exports=function(t,e){return e=c.assign({},l,e),new h(t,e).execute()}},function(t,e,n){var i=n(53);function s(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);this.x=this.y=0,this.leftChild=this.rightChild=null,this.height=0,this.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,n){void 0===n&&(n={}),n=i.assign({},o,n);var r,a=0,e=function r(t){if(!t)return null;t.width=0,t.depth&&t.depth>a&&(a=t.depth);var e=t.children,i=e.length,o=new s(t.height,[]);return e.forEach(function(t,e){var n=r(t);o.children.push(n),0===e&&(o.leftChild=n),e===i-1&&(o.rightChild=n)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}(t);return function t(e){var n,r;return e.isLeaf||0===e.children.length?e.drawingDepth=a:(n=e.children.map(t),r=Math.min.apply(null,n),e.drawingDepth=r-1),e.drawingDepth}(e),function e(t){t.x=t.drawingDepth*n.rankSep,t.isLeaf?(t.y=0,r&&(t.y=r.y+r.height+n.nodeSep,t.originNode.parent!==r.originNode.parent&&(t.y+=n.subTreeSep)),r=t):(t.children.forEach(function(t){e(t)}),t.y=(t.leftChild.y+t.rightChild.y)/2)}(e),function n(t,r,i){i?(r.x=t.x,r.y=t.y):(r.x=t.y,r.y=t.x),t.children.forEach(function(t,e){n(t,r.children[e],i)})}(e,t,n.isHorizontal),t}},function(t,e,n){var r,i,o,a=n(110),l=n(559),f=n(232),s=n(53),d=[\"LR\",\"RL\",\"H\"],p=d[0],u=(o=r=a,(i=h).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,h.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n,r,i,o,a=t.indent,s=void 0===a?20:a,u=t.dropCap,c=void 0===u||u,h=t.direction||p;if(h&&-1===d.indexOf(h))throw new TypeError(\"Invalid direction: \"+h);return h===d[0]?l(e,s,c):h===d[1]?(l(e,s,c),e.right2left()):h===d[2]&&(r=(n=f(e,t)).left,i=n.right,l(r,s,c),r.right2left(),l(i,s,c),o=r.getBoundingBox(),i.translate(o.width,0),e.x=i.x-e.width/2),e},h),c={};function h(){return r.apply(this,arguments)||this}t.exports=function(t,e){return e=s.assign({},c,e),new u(t,e).execute()}},function(t,e){t.exports=function(t,e,r){var n=null;t.eachNode(function(t){!function(t,e,n){if(!r)try{if(t.id===t.parent.children[0].id)return t.x+=n*t.depth,t.y=e?e.y:0}catch(t){}t.x+=n*t.depth,t.y=e?e.y+e.height:0}(t,n,e),n=t})}},function(t,e,n){var r,i,o,a=n(110),s=n(561),u=n(149),c=n(53),h=(o=r=a,(i=f).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,f.prototype.execute=function(){return u(this.rootNode,this.options,s)},f),l={};function f(){return r.apply(this,arguments)||this}t.exports=function(t,e){return e=c.assign({},l,e),new h(t,e).execute()}},function(t,e,n){var r=n(53),i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function e(t,n){var r=0;return t.children.length?t.children.forEach(function(t){r+=e(t,n)}):r=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function e(t){var n,r,i,o,a,s=t.children,u=s.length;u&&(s.forEach(function(t){e(t)}),n=s[0],i=(r=s[u-1]).y-n.y+r.height,o=0,s.forEach(function(t){o+=t.totalHeight}),i>t.height?t.y=n.y+i/2-t.height/2:1!==s.length||t.height>o?(a=t.y+(t.height-i)/2-n.y,s.forEach(function(t){t.translate(0,a)})):t.y=(n.y+n.height/2+r.y+r.height/2)/2-t.height/2)}(t)}},function(t){t.exports=JSON.parse('{\"name\":\"@antv/g-canvas\",\"version\":\"0.5.1\",\"description\":\"A canvas library which providing 2d\",\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"unpkg\":\"dist/g.min.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"esm\",\"lib\",\"dist\",\"LICENSE\",\"README.md\"],\"scripts\":{\"build\":\"npm run clean && run-p build:*\",\"build:esm\":\"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"build:cjs\":\"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"build:umd\":\"webpack --config webpack.config.js --mode production\",\"clean\":\"rm -rf esm lib dist\",\"coverage\":\"npm run coverage-generator && npm run coverage-viewer\",\"coverage-generator\":\"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts\",\"coverage-viewer\":\"torch-coverage\",\"test\":\"torch --renderer --compile --opts tests/mocha.opts\",\"test-live\":\"torch --compile --interactive tests/unit\",\"tsc\":\"tsc --noEmit\",\"typecheck\":\"tsc --noEmit\",\"dist\":\"webpack --config webpack.config.js --mode production\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/antvis/g.git\"},\"keywords\":[\"util\",\"antv\",\"g\"],\"publishConfig\":{\"access\":\"public\"},\"author\":\"https://github.com/orgs/antvis/people\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/antvis/g/issues\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.0\",\"less\":\"^3.9.0\",\"npm-run-all\":\"^4.1.5\",\"webpack\":\"^4.26.1\",\"webpack-cli\":\"^3.1.2\"},\"homepage\":\"https://github.com/antvis/g#readme\",\"dependencies\":{\"@antv/g-base\":\"^0.5.1\",\"@antv/g-math\":\"^0.1.5\",\"@antv/matrix-util\":\"^3.1.0-beta.1\",\"@antv/path-util\":\"~2.0.5\",\"@antv/util\":\"~2.0.0\",\"gl-matrix\":\"^3.0.0\"},\"__npminstall_done\":\"Wed Sep 16 2020 10:11:00 GMT+0800 (GMT+08:00)\",\"gitHead\":\"ba7ecf8b8deac37682414ac0b7fc2c3e903398bd\",\"_from\":\"@antv/g-canvas@0.5.1\",\"_resolved\":\"https://registry.npm.alibaba-inc.com/@antv/g-canvas/download/@antv/g-canvas-0.5.1.tgz\"}')},function(t){t.exports=JSON.parse('{\"name\":\"@antv/g-base\",\"version\":\"0.4.7\",\"description\":\"A common util collection for antv projects\",\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"esm\",\"lib\",\"LICENSE\",\"README.md\"],\"scripts\":{\"build\":\"npm run clean && run-p build:*\",\"build:esm\":\"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"build:cjs\":\"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"clean\":\"rm -rf esm lib\",\"watch:cjs\":\"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc\",\"coverage\":\"npm run coverage-generator && npm run coverage-viewer\",\"coverage-generator\":\"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts\",\"coverage-viewer\":\"torch-coverage\",\"test\":\"torch --renderer --compile --opts tests/mocha.opts\",\"test-live\":\"torch --compile --interactive --opts tests/mocha.opts\",\"tsc\":\"tsc --noEmit\",\"typecheck\":\"tsc --noEmit\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/antvis/util.git\"},\"keywords\":[\"util\",\"antv\",\"g\"],\"publishConfig\":{\"access\":\"public\"},\"author\":\"https://github.com/orgs/antvis/people\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/antvis/util/issues\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.0\",\"gl-matrix\":\"^3.0.0\",\"less\":\"^3.9.0\",\"npm-run-all\":\"^4.1.5\",\"tsc-watch\":\"^4.0.0\"},\"homepage\":\"https://github.com/antvis/util#readme\",\"dependencies\":{\"@antv/event-emitter\":\"^0.1.1\",\"@antv/g-math\":\"^0.1.3\",\"@antv/matrix-util\":\"^3.1.0-beta.1\",\"@antv/path-util\":\"~2.0.5\",\"@antv/util\":\"~2.0.0\",\"@types/d3-timer\":\"^1.0.9\",\"d3-ease\":\"^1.0.5\",\"d3-interpolate\":\"^1.3.2\",\"d3-timer\":\"^1.0.9\",\"detect-browser\":\"^5.1.0\"},\"__npminstall_done\":\"Wed Sep 16 2020 10:11:00 GMT+0800 (GMT+08:00)\",\"gitHead\":\"eb6a2503cb7bb8154697592b10680939d954a31a\",\"_from\":\"@antv/g-base@0.4.7\",\"_resolved\":\"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.4.7.tgz\"}')},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"registerNode\",function(){return Hf}),n.d(e,\"registerCombo\",function(){return Uf}),n.d(e,\"Graph\",function(){return Go}),n.d(e,\"TreeGraph\",function(){return Ho}),n.d(e,\"Util\",function(){return Ca}),n.d(e,\"registerEdge\",function(){return Wf}),n.d(e,\"Layout\",function(){return co}),n.d(e,\"Global\",function(){return F}),n.d(e,\"registerLayout\",function(){return $f}),n.d(e,\"Minimap\",function(){return Kf}),n.d(e,\"Grid\",function(){return Qf}),n.d(e,\"Bundling\",function(){return Jf}),n.d(e,\"Menu\",function(){return td}),n.d(e,\"Fisheye\",function(){return ed}),n.d(e,\"registerBehavior\",function(){return Zf}),n.d(e,\"Algorithm\",function(){return d}),n.d(e,\"ToolBar\",function(){return nd}),n.d(e,\"Tooltip\",function(){return rd}),n.d(e,\"TimeBar\",function(){return id}),n.d(e,\"ImageMinimap\",function(){return od});var r={};n.r(r),n.d(r,\"formatPadding\",function(){return E}),n.d(r,\"cloneEvent\",function(){return j}),n.d(r,\"isViewportChanged\",function(){return P}),n.d(r,\"isNaN\",function(){return N}),n.d(r,\"calculationItemsBBox\",function(){return B}),n.d(r,\"processParallelEdges\",function(){return D});var i={};n.r(i),n.d(i,\"getLineIntersect\",function(){return kt}),n.d(i,\"getRectIntersectByPoint\",function(){return Et}),n.d(i,\"getCircleIntersectByPoint\",function(){return jt}),n.d(i,\"getEllipseIntersectByPoint\",function(){return Pt}),n.d(i,\"applyMatrix\",function(){return It}),n.d(i,\"invertMatrix\",function(){return At}),n.d(i,\"getCircleCenterByPoints\",function(){return Tt}),n.d(i,\"distance\",function(){return Nt}),n.d(i,\"scaleMatrix\",function(){return Bt}),n.d(i,\"floydWarshall\",function(){return Dt}),n.d(i,\"getAdjMatrix\",function(){return Lt}),n.d(i,\"translate\",function(){return Rt}),n.d(i,\"move\",function(){return zt}),n.d(i,\"scale\",function(){return Yt}),n.d(i,\"rotate\",function(){return Ft}),n.d(i,\"getDegree\",function(){return Xt}),n.d(i,\"isPointInPolygon\",function(){return Gt}),n.d(i,\"intersectBBox\",function(){return Vt}),n.d(i,\"isPolygonsIntersect\",function(){return qt}),n.d(i,\"Line\",function(){return Ht}),n.d(i,\"getBBoxBoundLine\",function(){return Wt}),n.d(i,\"itemIntersectByLine\",function(){return Ut}),n.d(i,\"fractionToLine\",function(){return Zt}),n.d(i,\"getPointsCenter\",function(){return $t}),n.d(i,\"squareDist\",function(){return Kt}),n.d(i,\"pointLineSquareDist\",function(){return Qt}),n.d(i,\"isPointsOverlap\",function(){return Jt}),n.d(i,\"pointRectSquareDist\",function(){return te});var o={};n.r(o),n.d(o,\"getSpline\",function(){return ae}),n.d(o,\"getControlPoint\",function(){return se}),n.d(o,\"pointsToPolygon\",function(){return ue}),n.d(o,\"pathToPoints\",function(){return ce}),n.d(o,\"getClosedSpline\",function(){return he}),n.d(o,\"roundedHull\",function(){return pe}),n.d(o,\"paddedHull\",function(){return ge});var a={};n.r(a),n.d(a,\"getBBox\",function(){return fn}),n.d(a,\"getLoopCfgs\",function(){return dn}),n.d(a,\"getLabelPosition\",function(){return pn}),n.d(a,\"traverseTree\",function(){return yn}),n.d(a,\"traverseTreeUp\",function(){return mn}),n.d(a,\"radialLayout\",function(){return bn}),n.d(a,\"getLetterWidth\",function(){return xn}),n.d(a,\"getTextSize\",function(){return wn}),n.d(a,\"plainCombosToTrees\",function(){return Mn}),n.d(a,\"reconstructTree\",function(){return Sn}),n.d(a,\"getComboBBox\",function(){return _n}),n.d(a,\"getChartRegion\",function(){return On});var s={};n.r(s),n.d(s,\"getDefault\",function(){return ec}),n.d(s,\"ellipsisHead\",function(){return nc}),n.d(s,\"ellipsisTail\",function(){return rc}),n.d(s,\"ellipsisMiddle\",function(){return ic});var u={};n.r(u),n.d(u,\"getDefault\",function(){return uc}),n.d(u,\"reserveFirst\",function(){return cc}),n.d(u,\"reserveLast\",function(){return hc}),n.d(u,\"reserveBoth\",function(){return lc}),n.d(u,\"equidistance\",function(){return fc});var c={};n.r(c),n.d(c,\"getDefault\",function(){return pc}),n.d(c,\"fixedAngle\",function(){return gc}),n.d(c,\"unfixedAngle\",function(){return vc});var l={};n.r(l),n.d(l,\"autoHide\",function(){return u}),n.d(l,\"autoRotate\",function(){return c}),n.d(l,\"autoEllipsis\",function(){return s});var h={};n.r(h),n.d(h,\"CONTAINER_CLASS\",function(){return ch}),n.d(h,\"TITLE_CLASS\",function(){return hh}),n.d(h,\"LIST_CLASS\",function(){return lh}),n.d(h,\"LIST_ITEM_CLASS\",function(){return fh}),n.d(h,\"MARKER_CLASS\",function(){return dh}),n.d(h,\"VALUE_CLASS\",function(){return ph}),n.d(h,\"NAME_CLASS\",function(){return gh}),n.d(h,\"CROSSHAIR_X\",function(){return vh}),n.d(h,\"CROSSHAIR_Y\",function(){return yh});var f={};n.r(f),n.d(f,\"default\",function(){return el}),n.d(f,\"assign\",function(){return Bh}),n.d(f,\"format\",function(){return Jh}),n.d(f,\"parse\",function(){return tl}),n.d(f,\"defaultI18n\",function(){return Fh}),n.d(f,\"setGlobalDateI18n\",function(){return Gh}),n.d(f,\"setGlobalDateMasks\",function(){return Qh});var d={};n.r(d),n.d(d,\"depthFirstSearch\",function(){return Of}),n.d(d,\"breadthFirstSearch\",function(){return Ef}),n.d(d,\"detectDirectedCycle\",function(){return Bf}),n.d(d,\"degree\",function(){return Mo}),n.d(d,\"adjMatrix\",function(){return ko}),n.d(d,\"floydWarshall\",function(){return Eo}),n.d(d,\"getConnectedComponents\",function(){return Pf}),n.d(d,\"detectAllCycles\",function(){return Nf}),n.d(d,\"detectAllDirectedCycle\",function(){return Tf}),n.d(d,\"detectAllUndirectedCycle\",function(){return Af}),n.d(d,\"findShortestPath\",function(){return Df}),n.d(d,\"findAllPath\",function(){return Lf}),n.d(d,\"minimumSpanningTree\",function(){return Vf}),n.d(d,\"getPageRank\",function(){return qf});var p,g=n(239),v=n(2),m=n.n(v),y=n(9),b={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(n){var t=this,e=this.events;this.graph=n,\"drag-canvas\"!==this.type&&\"brush-select\"!==this.type&&\"lasso-select\"!==this.type||n.get(\"canvas\").set(\"draggable\",!0),m()(e,function(t,e){n.on(e,t)}),document.addEventListener(\"visibilitychange\",function(){t.keydown=!1})},unbind:function(n){var t=this.events;\"drag-canvas\"!==this.type&&\"brush-select\"!==this.type&&\"lasso-select\"!==this.type||n.get(\"canvas\").set(\"draggable\",!1),m()(t,function(t,e){n.off(e,t)})},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},x=(Q.registerBehavior=function(t,e){if(!e)throw new Error(\"please specify handler for this behavior: \"+t);var n=Object(y.clone)(b);Object.assign(n,e);function r(t){var n=this;Object.assign(this,this.getDefaultCfg(),t);var e=this.getEvents();this.events=null;var r={};e&&(Object(y.each)(e,function(t,e){r[e]=Object(y.wrapBehavior)(n,t)}),this.events=r)}r.prototype=n,Q.types[t]=r},Q.hasBehavior=function(t){return!!Q.types[t]},Q.getBehavior=function(t){return Q.types[t]},Q.types={},Q),w=n(4),I=n.n(w),M=n(8),S=n.n(M),_=n(13),A=n.n(_),O=n(3),T=n.n(O),L=n(1),C=n(240),k=(p=n.n(C).a,Object(L.__extends)(K,p),K),E=function(t){var e=0,n=0,r=0,i=0;return A()(t)?e=n=r=i=t:T()(t)?e=n=r=i=parseInt(t,10):I()(t)&&(e=t[0],r=S()(t[1])?t[0]:t[1],i=S()(t[2])?t[0]:t[2],n=S()(t[3])?r:t[3]),[e,r,i,n]},j=function(t){var e=new k(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},P=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},N=function(t){return Number.isNaN(Number(t))},B=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,u=a.minY,c=a.maxX,h=a.maxY;s<e&&(e=s),u<r&&(r=u),n<c&&(n=c),i<h&&(i=h)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r,maxX:n,maxY:i}},D=function(t,e){void 0===e&&(e=15);for(var n,r=t.length,i=2*e,o=[\"top\",\"top-right\",\"right\",\"bottom-right\",\"bottom\",\"bottom-left\",\"left\",\"top-left\"],a={},s=[],u={},c=0;c<r;c++){var h=t[c],l=h.source,f=h.target,d=l+\"-\"+f;if(!s[c]){a[d]||(a[d]=[]),s[c]=!0,a[d].push(h);for(var p,g,v,y=0;y<r;y++){c!==y&&(g=(p=t[y]).source,v=p.target,s[y]||(l===v&&f===g?(a[d].push(p),s[y]=!0,u[g+\"|\"+v+\"|\"+(a[d].length-1)]=!0):l===g&&f===v&&(a[d].push(p),s[y]=!0)))}}}for(n in a)for(var m=a[n],b=m.length,x=0;x<b;x++){var w,M=m[x];M.source!==M.target?(M.type=\"quadratic\",w=(x%2==0?1:-1)*(u[M.source+\"|\"+M.target+\"|\"+x]?-1:1),M.curveOffset=b%2==1?w*Math.ceil(x/2)*i:w*(Math.floor(x/2)*i+e)):(M.type=\"loop\",M.loopCfg={position:o[x%8],dist:20*Math.floor(x/8)+50})}return t},R=Math.abs,z=[\"shift\",\"ctrl\",\"alt\",\"control\"],Y={getDefaultCfg:function(){return{direction:\"both\",enableOptimize:!1}},getEvents:function(){return{dragstart:\"onMouseDown\",mousedown:\"onMouseDown\",drag:\"onMouseMove\",dragend:\"onMouseUp\",mouseup:\"onMouseUp\",\"canvas:click\":\"onMouseUp\",keyup:\"onKeyUp\",focus:\"onKeyUp\",keydown:\"onKeyDown\"}},updateViewport:function(t){var e,n,r,i,o,a=this.origin,s=+t.clientX,u=+t.clientY;N(s)||N(u)||(e=s-a.x,n=u-a.y,\"x\"===this.get(\"direction\")?n=0:\"y\"===this.get(\"direction\")&&(e=0),this.origin={x:s,y:u},r=this.graph.get(\"width\"),i=this.graph.get(\"height\"),((o=this.graph.get(\"canvas\").getCanvasBBox()).minX<=r&&o.minX+e>r||0<=o.maxX&&o.maxX+e<0)&&(e=0),(o.minY<=i&&o.minY+n>i||0<=o.maxY&&o.maxY+n<0)&&(n=0),this.graph.translate(e,n))},onMouseDown:function(t){if((!window||!window.event||\"undefined\"==typeof window||window.event.buttons||window.event.button)&&!this.keydown&&!t.shape&&(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1,this.enableOptimize)){for(var e=this.graph,n=e.getEdges(),r=0,i=n.length;r<i;r++){var o=n[r].get(\"group\").get(\"children\");o&&o.forEach(function(t){t.hide()})}for(var a=e.getNodes(),s=0,u=a.length;s<u;s++)for(var c=0,h=a[s].getContainer().get(\"children\");c<h.length;c++){var l=h[c];l.get(\"isKeyShape\")||l.hide()}}},onMouseMove:function(t){var e=this.graph;if(!this.keydown&&!t.shape&&(t=j(t),this.origin)){if(this.dragging)t.type=\"drag\",e.emit(\"canvas:drag\",t);else{if(R(this.origin.x-t.clientX)+R(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type=\"dragstart\",e.emit(\"canvas:dragstart\",t),this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}},onMouseUp:function(t){var e=this.graph;if(!this.keydown&&!t.shape){if(this.enableOptimize){for(var n=e.getEdges(),r=0,i=n.length;r<i;r++){var o=n[r].get(\"group\").get(\"children\");o&&o.forEach(function(t){t.show()})}for(var a=e.getNodes(),s=0,u=a.length;s<u;s++)for(var c=0,h=a[s].getContainer().get(\"children\");c<h.length;c++){var l=h[c];l.get(\"isKeyShape\")||l.show()}}this.dragging?(t=j(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type=\"dragend\",e.emit(\"canvas:dragend\",t),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(t){var e=t.key;e&&(-1<z.indexOf(e.toLowerCase())?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},F={version:\"3.7.3\",rootContainerClassName:\"root-container\",nodeContainerClassName:\"node-container\",edgeContainerClassName:\"edge-container\",comboContainerClassName:\"combo-container\",customGroupContainerClassName:\"custom-group-container\",delegateContainerClassName:\"delegate-container\",defaultShapeFillColor:\"#C6E5FF\",defaultShapeStrokeColor:\"#5B8FF9\",defaultLoopPosition:\"top\",nodeLabel:{style:{fill:\"#595959\",textAlign:\"center\",textBaseline:\"middle\"},offset:5},defaultNode:{type:\"circle\",style:{fill:\"#C6E5FF\",lineWidth:1,stroke:\"#5B8FF9\"},size:20,color:\"#5B8FF9\"},edgeLabel:{style:{fill:\"#595959\",textAlign:\"center\",textBaseline:\"middle\"}},defaultEdge:{type:\"line\",style:{stroke:\"#e2e2e2\"},size:1,color:\"#e2e2e2\"},comboLabel:{style:{fill:\"#595959\",textBaseline:\"middle\"},refY:10,refX:10},defaultCombo:{type:\"circle\",style:{fill:\"#F3F9FF\",lineWidth:1,stroke:\"#A3B1BF\",opacity:.8,r:5,width:20,height:10},size:[20,5],color:\"#A3B1BF\",padding:[25,20,15,20]},nodeStateStyle:{},delegateStyle:{fill:\"#F3F9FF\",fillOpacity:.5,stroke:\"#1890FF\",strokeOpacity:.9,lineDash:[5,5]}},X={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:\"\",selectedState:\"selected\"}},getEvents:function(){return{\"node:dragstart\":\"onDragStart\",\"node:drag\":\"onDrag\",\"node:dragend\":\"onDragEnd\",\"combo:dragenter\":\"onDragEnter\",\"combo:dragleave\":\"onDragLeave\",\"combo:drop\":\"onDropCombo\",\"node:drop\":\"onDropNode\",\"canvas:drop\":\"onDropCanvas\"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&\"combo\"===t.getType()},onDragStart:function(t){var e=this;if(this.shouldBegin.call(this,t)){var n=t.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set(\"capture\",!1);var r=t.target;if(r&&r.get(\"isAnchorPoint\"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState(\"node\",this.selectedState),a=n.get(\"id\");0!==o.filter(function(t){var e=t.get(\"id\");return a===e}).length&&1<o.length?o.forEach(function(t){t.hasLocked()||e.targets.push(t)}):this.targets.push(n);var s=[];this.targets.forEach(function(t){s.push(Object(y.clone)(t.getModel()))}),this.set(\"beforeDragNodes\",s),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(e){var n=this;this.origin&&this.shouldUpdate(this,e)&&(this.get(\"enableDelegate\")?this.updateDelegate(e):this.targets.map(function(t){n.update(t,e)}))},onDragEnd:function(t){var e,n,r;this.origin&&this.shouldEnd.call(this,t)&&((e=t.item)&&e.getContainer().set(\"capture\",!0),this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(t),(n=this.graph).get(\"enabledStack\")&&(r={before:{nodes:this.get(\"beforeDragNodes\"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}},this.targets.forEach(function(t){r.after.nodes.push(t.getModel())}),n.pushStack(\"update\",Object(y.clone)(r))),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null)},onDropCombo:function(t){var e,n,r=t.item;this.validationCombo(r)&&(this.updatePositions(t),e=this.graph,this.comboActiveState&&e.setItemState(r,this.comboActiveState,!1),this.targetCombo=r,this.onlyChangeComboSize?e.updateCombos():(n=r.getModel(),this.targets.map(function(t){t.getModel().comboId!==n.id&&e.updateComboTree(t,n.id)}),e.updateCombo(r)))},onDropCanvas:function(t){var e=this.graph;this.targets&&0!==this.targets.length&&(this.updatePositions(t),this.onlyChangeComboSize?e.updateCombos():this.targets.map(function(t){t.getModel().comboId&&e.updateComboTree(t)}))},onDropNode:function(t){var e,n,r,i;this.targets&&0!==this.targets.length&&(e=t.item,this.updatePositions(t),n=this.graph,(r=e.getModel().comboId)?(i=n.findById(r),this.comboActiveState&&n.setItemState(i,this.comboActiveState,!1),this.targets.map(function(t){var e=t.getModel();r!==e.comboId&&n.updateComboTree(t,r)}),n.updateCombo(i)):this.targets.map(function(t){t.getModel().comboId&&n.updateComboTree(t)}))},onDragEnter:function(t){var e,n=t.item;this.validationCombo(n)&&(e=this.graph,this.comboActiveState&&e.setItemState(n,this.comboActiveState,!0))},onDragLeave:function(t){var e,n=t.item;this.validationCombo(n)&&(e=this.graph,this.comboActiveState&&e.setItemState(n,this.comboActiveState,!1))},updatePositions:function(e){var n=this;this.targets&&0!==this.targets.length&&this.get(\"enableDelegate\")&&this.targets.map(function(t){return n.update(t,e)})},update:function(t,e){var n=this.origin,r=t.get(\"model\"),i=t.get(\"id\");this.point[i]||(this.point[i]={x:r.x||0,y:r.y||0});var o={x:e.x-n.x+this.point[i].x,y:e.y-n.y+this.point[i].y};this.get(\"updateEdge\")?this.graph.updateItem(t,o,!1):t.updatePosition(o)},updateDelegate:function(t){var e,n,r,i,o,a,s,u,c,h,l;this.graph,this.delegateRect?(e=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY,this.delegateRect.attr({x:e,y:n})):(r=this.graph.get(\"group\"),i=Object(y.deepMix)({},F.delegateStyle,this.delegateStyle),a=(o=this.calculationGroupPosition(t)).x,s=o.y,u=o.width,c=o.height,h=o.minX,l=o.minY,this.originPoint={x:a,y:s,width:u,height:c,minX:h,minY:l},this.delegateRect=r.addShape(\"rect\",{attrs:Object(L.__assign)({width:u,height:c,x:a,y:s},i),name:\"rect-delegate-shape\"}),this.delegateRect.set(\"capture\",!1))},calculationGroupPosition:function(t){var e=this.graph.findAllByState(\"node\",this.selectedState);0===e.length&&e.push(t.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),u=s.minX,c=s.minY,h=s.maxX,l=s.maxY;u<n&&(n=u),c<i&&(i=c),r<h&&(r=h),o<l&&(o=l)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},G=Math.min,V=Math.max,q=Math.abs,H=[\"drag\",\"shift\",\"ctrl\",\"alt\",\"control\"],W={getDefaultCfg:function(){return{brushStyle:{fill:\"#EEF6FF\",fillOpacity:.4,stroke:\"#DDEEFE\",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:\"selected\",trigger:\"shift\",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return-1<H.indexOf(this.trigger.toLowerCase())||(this.trigger=\"shift\",console.warn(\"Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'\")),\"drag\"===this.trigger?{dragstart:\"onMouseDown\",drag:\"onMouseMove\",dragend:\"onMouseUp\",\"canvas:click\":\"clearStates\"}:{dragstart:\"onMouseDown\",drag:\"onMouseMove\",dragend:\"onMouseUp\",\"canvas:click\":\"clearStates\",keyup:\"onKeyUp\",keydown:\"onKeyDown\"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||\"drag\"!==this.trigger&&!this.keydown||(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n=n||this.createBrush(),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&(\"drag\"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph,!this.brush&&!this.dragging||\"drag\"!==this.trigger&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var e=this.graph,n=this.selectedState,t=e.findAllByState(\"node\",n),r=e.findAllByState(\"edge\",n);t.forEach(function(t){return e.setItemState(t,n,!1)}),r.forEach(function(t){return e.setItemState(t,n,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit(\"nodeselectchange\",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(t){var i=this,o=this.graph,e=this.originPoint,a=this.shouldUpdate,r=this.selectedState,n={x:t.x,y:t.y},s=o.getPointByCanvas(e.x,e.y),u=G(n.x,s.x),c=V(n.x,s.x),h=G(n.y,s.y),l=V(n.y,s.y),f=[],d=[];o.getNodes().forEach(function(t){var e,n=t.getBBox();n.centerX>=u&&n.centerX<=c&&n.centerY>=h&&n.centerY<=l&&a(t,\"select\")&&(f.push(t),e=t.getModel(),d.push(e.id),o.setItemState(t,r,!0))});var p=[];this.includeEdges&&f.forEach(function(t){t.getOutEdges().forEach(function(t){var e=t.getModel(),n=e.source,r=e.target;d.includes(n)&&d.includes(r)&&a(t,\"select\")&&(p.push(t),o.setItemState(t,i.selectedState,!0))})}),this.selectedEdges=p,this.selectedNodes=f,this.onSelect&&this.onSelect(f,p),o.emit(\"nodeselectchange\",{selectedItems:{nodes:f,edges:p},select:!0})},createBrush:function(){var t=this.graph.get(\"canvas\").addShape(\"rect\",{attrs:this.brushStyle,capture:!1,name:\"brush-shape\"});return this.brush=t},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:q(t.canvasX-e.x),height:q(t.canvasY-e.y),x:G(t.canvasX,e.x),y:G(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||\"control\"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},U=[\"shift\",\"ctrl\",\"alt\",\"control\"],Z={getDefaultCfg:function(){return{multiple:!0,trigger:\"shift\",selectedState:\"selected\"}},getEvents:function(){return-1<U.indexOf(this.trigger.toLowerCase())||(this.trigger=\"shift\",console.warn(\"Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'\")),this.multiple?{\"node:click\":\"onClick\",\"combo:click\":\"onClick\",\"canvas:click\":\"onCanvasClick\",keyup:\"onKeyUp\",keydown:\"onKeyDown\"}:{\"node:click\":\"onClick\",\"combo:click\":\"onClick\",\"canvas:click\":\"onCanvasClick\"}},onClick:function(t){var e,n,r,i,o,a,s,u,c=this,h=t.item;h&&!h.destroyed&&(e=h.getType(),n=this.graph,r=this.keydown,i=this.multiple,o=this.shouldUpdate,this.shouldBegin.call(this,t)&&(r&&i||(a=n.findAllByState(e,this.selectedState),m()(a,function(t){t!==h&&n.setItemState(t,c.selectedState,!1)})),h.hasState(this.selectedState)?(o.call(this,t)&&n.setItemState(h,this.selectedState,!1),s=n.findAllByState(\"node\",this.selectedState),u=n.findAllByState(\"combo\",this.selectedState),n.emit(\"nodeselectchange\",{target:h,selectedItems:{nodes:s,combos:u},select:!1})):(o.call(this,t)&&n.setItemState(h,this.selectedState,!0),s=n.findAllByState(\"node\",this.selectedState),u=n.findAllByState(\"combo\",this.selectedState),n.emit(\"nodeselectchange\",{target:h,selectedItems:{nodes:s,combos:u},select:!0}))))},onCanvasClick:function(){var e=this,n=this.graph,t=n.findAllByState(\"node\",this.selectedState);m()(t,function(t){n.setItemState(t,e.selectedState,!1)});var r=n.findAllByState(\"combo\",this.selectedState);m()(r,function(t){n.setItemState(t,e.selectedState,!1)}),n.emit(\"nodeselectchange\",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||\"control\"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},$=n(23);function K(t,e){var n=p.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}function Q(){}$.translate=function(t,e,n){var r=new Array(9);return $.fromTranslation(r,n),$.multiply(t,r,e)},$.rotate=function(t,e,n){var r=new Array(9);return $.fromRotation(r,n),$.multiply(t,r,e)},$.scale=function(t,e,n){var r=new Array(9);return $.fromScaling(r,n),$.multiply(t,r,e)},$.transform=function(t,e){for(var n=[].concat(t),r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case\"t\":$.translate(n,n,[o[1],o[2]]);break;case\"s\":$.scale(n,n,[o[1],o[2]]);break;case\"r\":$.rotate(n,n,o[1])}}return n};var J=$,tt=n(33),ot=n(0);tt.angle=function(t,e){var n=tt.dot(t,e)/(tt.length(t)*tt.length(e));return Math.acos(Object(ot.clamp)(n,-1,1))},tt.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},tt.angleTo=function(t,e,n){var r=tt.angle(t,e),i=0<=tt.direction(t,e);return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},tt.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};function et(t,e){var n=t?Object(ot.clone)(t):[1,0,0,0,1,0,0,0,1];return Object(ot.each)(e,function(t){switch(t[0]){case\"t\":J.translate(n,n,[t[1],t[2]]);break;case\"s\":J.scale(n,n,[t[1],t[2]]);break;case\"r\":J.rotate(n,n,t[1]);break;case\"m\":J.multiply(n,n,t[1]);break;default:return!1}}),n}function nt(t,e,n){return e<=t&&t<=n}var rt=tt,it=n(151),at={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:\"selected\"}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState=\"selected\"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:\"onWheel\"}},onWheel:function(t){var c=this,h=this.graph,e=this.fixSelectedItems;if(this.shouldUpdate.call(this,t)){t.preventDefault();var n=h.get(\"canvas\").getPointByClient(t.clientX,t.clientY),r=this.get(\"sensitivity\"),i=h.getZoom(),o=i*(t.wheelDelta<0?1-.05*r:1/(1-.05*r)),a=this.get(\"minZoom\")||h.get(\"minZoom\");if(!(o>(this.get(\"maxZoom\")||h.get(\"maxZoom\"))||o<a)){if(this.get(\"enableOptimize\")){var l=this.get(\"optimizeZoom\"),s=this.get(\"optimized\"),f=h.getNodes(),d=h.getEdges(),p=f.length,g=d.length;if(!s){for(var u=0;u<p;u++)if(!(O=f[u]).destroyed)for(var v=(W=O.get(\"group\").get(\"children\")).length,y=0;y<v;y++)(B=W[y]).destoryed||B.get(\"isKeyShape\")||B.hide();for(var m=0;m<g;m++)for(v=(W=(H=d[m]).get(\"group\").get(\"children\")).length,y=0;y<v;y++)(B=W[y]).hide();this.set(\"optimized\",!0)}clearTimeout(this.get(\"timeout\"));var b=setTimeout(function(){var t=h.getZoom();if(c.get(\"optimized\")){c.set(\"optimized\",!1);for(var e=0;e<p;e++){var n=f[e],r=(a=n.get(\"group\").get(\"children\")).length;if(t<l)n.getKeyShape().show();else for(var i=0;i<r;i++)(s=a[i]).get(\"visible\")||s.show()}for(var o=0;o<g;o++){var a,s,u=d[o],r=(a=u.get(\"group\").get(\"children\")).length;if(t<l)u.getKeyShape().show();else for(i=0;i<r;i++){(s=a[i]).get(\"visible\")||s.show()}}}},500);this.set(\"timeout\",b)}if(i<=1){var x,w;if(e.fixAll||e.fixLineWidth||e.fixLabel){x=h.findAllByState(\"node\",e.fixState),w=h.findAllByState(\"edge\",e.fixState);for(var M=i/o,S=x.length,_=0;_<S;_++){var O,C,k,E,j,P=(O=x[_]).getContainer(),I=O.getModel(),A=O.getOriginStyle(),T=O.getStateStyle(e.fixState),N=O.get(\"shapeFactory\").getShape(I.shape||I.type).getStateStyle(e.fixState,O)[e.fixState];if(e.fixAll)o<=1&&(C=(C=Object(ot.clone)(P.getMatrix()))||[1,0,0,0,1,0,0,0,1],E=(k=O.getModel()).x,j=k.y,J.translate(C,C,[-E,-j]),J.scale(C,C,[M,M]),J.translate(C,C,[E,j]),P.setMatrix(C));else for(v=(W=P.get(\"children\")).length,y=0;y<v;y++){var B=W[y],D=void 0,L=void 0;if(e.fixLabel&&\"text\"===B.get(\"type\")){D=B.attr(\"fontSize\")||12;var R=T[B.get(\"name\")],z=N[B.get(\"name\")],Y=R?R.fontSize:12,F=z?z.fontSize:12,X=Y||F||12;if(o<=1&&B.attr(\"fontSize\",X/o),L)break}if(e.fixLineWidth&&B.get(\"isKeyShape\")){L=B.attr(\"lineWidth\")||0;var G=T.lineWidth||N.lineWidth||A.lineWidth||0;if(o<=1&&B.attr(\"lineWidth\",G/o),D)break}}}for(var V=w.length,q=0;q<V;q++)for(var H,W=(P=(H=w[q]).getContainer()).get(\"children\"),I=H.getModel(),T=H.getStateStyle(e.fixState),N=H.get(\"shapeFactory\").getShape(I.shape||I.type).getStateStyle(e.fixState,H)[e.fixState],v=W.length,y=0;y<v&&(B=W[y],L=D=void 0,!e.fixLabel&&!e.fixAll||\"text\"!==B.get(\"type\")||(D=B.attr(\"fontSize\")||12,R=T[B.get(\"name\")],z=N[B.get(\"name\")],Y=R?R.fontSize:12,F=z?z.fontSize:12,X=Y||F||12,o<=1&&B.attr(\"fontSize\",X/o),!L))&&(!e.fixLineWidth&&!e.fixAll||!B.get(\"isKeyShape\")||(L=B.attr(\"lineWidth\")||0,G=T.lineWidth||N.lineWidth||1,o<=1&&B.attr(\"lineWidth\",G/o),!D));y++);}}h.zoomTo(o,{x:n.x,y:n.y}),h.emit(\"wheelzoom\",t)}}}},st=n(7),ut=n.n(st),ct=n(11),ht=n.n(ct),lt={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit(\"tooltipchange\",{item:t.item,action:\"show\"})},onMouseMove:function(t){this.shouldUpdate(t)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t)&&(this.hideTooltip(),this.graph.emit(\"tooltipchange\",{item:this.currentTarget,action:\"hide\"}),this.currentTarget=null)},showTooltip:function(t){var e,n=this.container;t.item&&!t.item.destroyed&&(n||(n=this.createTooltip(this.graph.get(\"canvas\")),this.container=n),e=this.formatText(t.item.get(\"model\"),t),n.innerHTML=e,ut()(this.container,{visibility:\"visible\"}),this.updatePosition(t))},hideTooltip:function(){ut()(this.container,{visibility:\"hidden\"})},updatePosition:function(t){var e,n,r,i,o,a,s,u=this.get(\"shouldBegin\"),c=this.width,h=this.height,l=this.container,f=this.graph;u(t)?(e=f.getPointByClient(t.clientX,t.clientY),r=(n=f.getCanvasByPoint(e.x,e.y)).x,i=n.y,o=l.getBoundingClientRect(),c/2<r?r-=o.width:r+=this.offset,h/2<i?i-=o.height:i+=this.offset,a=r+\"px\",s=i+\"px\",ut()(this.container,{left:a,top:s,visibility:\"visible\"})):ut()(l,{visibility:\"hidden\"})},createTooltip:function(t){var e=t.get(\"el\");e.style.position=\"relative\";var n=ht()('<div class=\"g6-tooltip g6-'+this.item+'-tooltip\"></div>');return e.parentNode.appendChild(n),ut()(n,{position:\"absolute\",visibility:\"visible\"}),this.width=t.get(\"width\"),this.height=t.get(\"height\"),this.container=n,this.graph.get(\"tooltips\").push(n),n}},ft=Object(L.__assign)({getDefaultCfg:function(){return{item:\"node\",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{\"node:mouseenter\":\"onMouseEnter\",\"node:mouseleave\":\"onMouseLeave\",\"node:mousemove\":\"onMouseMove\",afterremoveitem:\"onMouseLeave\"}}},lt),dt=Object(L.__assign)({getDefaultCfg:function(){return{item:\"edge\",offset:12,formatText:function(t){return\"source: \"+t.source+\" target: \"+t.target}}},getEvents:function(){return{\"edge:mouseenter\":\"onMouseEnter\",\"edge:mouseleave\":\"onMouseLeave\",\"edge:mousemove\":\"onMouseMove\",afterremoveitem:\"onMouseLeave\"}}},lt),pt=n(15),gt=n.n(pt),vt={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",\"canvas:mouseleave\":\"onOutOfRange\"}},onDragStart:function(t){var e=this.graph,n=t.target.get(\"groupId\");if(n){var r=e.get(\"customGroupControll\"),i=r.customGroup,o=i[n].nodeGroup;this.targetGroup=o,this.mouseOrigin={x:t.x,y:t.y};for(var a,s=e.save().groups,u=null,c=0;c<s.length;c++){var h=s[c];if(n===h.id){u=h.parentId;break}}u&&(a=i[u].nodeGroup,r.setGroupStyle(a.get(\"keyShape\"),\"hover\"))}},onDrag:function(t){this.mouseOrigin&&this.updateDelegate(t)},onDragEnd:function(t){var e,n,r=this.graph,i=t.target.get(\"groupId\");this.delegateShapes[i]&&(this.delegateShapeBBox=this.delegateShapes[i].getBBox(),this.delegateShapes[i].remove(),delete this.delegateShapes[i]),this.delegateShapeBBox&&(e=r.get(\"customGroupControll\"),n=this.delegateShapeBBoxs[i],e.updateGroup(i,n,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,e.resetNodePoint(),this.delegateShapeBBox=null)},updateDelegate:function(t){var e,n,r,i,o,a,s,u,c,h,l,f,d,p,g,v=this.graph,y=t.target.get(\"groupId\"),m=this.targetGroup.get(\"keyShape\"),b=this.delegateShapes[y],x=m.getBBox(),w=m.get(\"type\");b?(e=this.mouseOrigin,n=this.shapeOrigin,r=t.x-e.x,i=t.y-e.y,o=r+n.x,a=i+n.y,b.attr({x:o,y:a})):(s=v.get(\"delegateGroup\"),u=x.x,c=x.y,h=x.width,l=x.height,f=Object(L.__assign)({width:h,height:l},gt()({},F.delegateStyle,this.delegateStyle)),\"circle\"===w?(p=u+(d=l<h?h/2:l/2),g=c+d,b=s.addShape(\"circle\",{attrs:Object(L.__assign)({x:p,y:g,r:d},f),name:\"circle-delegate-shape\"}),this.shapeOrigin={x:p,y:g}):(b=s.addShape(\"rect\",{attrs:Object(L.__assign)({x:u,y:c},f),name:\"rect-delegate-shape\"}),this.shapeOrigin={x:u,y:c}),this.delegateShapes[y]=b),this.delegateShapeBBoxs[y]=b.getBBox()},onOutOfRange:function(e){var n=this,r=this.graph.get(\"canvas\").get(\"el\"),i=function(t){t.target!==r&&(n.onDragEnd(e),document.body.removeEventListener(\"mouseup\",i,!0))};this.mouseOrigin&&document.body.addEventListener(\"mouseup\",i,!0)}},yt=document.body,mt={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{\"node:dragstart\":\"onDragStart\",\"node:drag\":\"onDrag\",\"node:dragend\":\"onDragEnd\",\"canvas:mouseleave\":\"onOutOfRange\",dragover:\"onDragOver\",dragleave:\"onDragLeave\"}},onDragOver:function(t){var e,n,r,i=this.graph,o=t.target.get(\"groupId\");o&&this.origin&&((n=(e=i.get(\"customGroupControll\")).getDeletageGroupById(o))&&(r=n.nodeGroup.get(\"keyShape\"),this.inGroupId=o,e.setGroupStyle(r,\"hover\")))},onDragLeave:function(t){var e,n,r,i=this.graph,o=t.target.get(\"groupId\");o&&this.origin&&((n=(e=i.get(\"customGroupControll\")).getDeletageGroupById(o))&&(r=n.nodeGroup.get(\"keyShape\"),e.setGroupStyle(r,\"default\"))),o||(this.inGroupId=null)},onDragStart:function(t){var e,n,r,i,o,a=this.graph;this.shouldBegin.call(this,t)&&(e=t.item,!(n=(this.target=e).getModel().groupId)||(i=(r=a.get(\"customGroupControll\")).getDeletageGroupById(n))&&(o=i.nodeGroup.get(\"keyShape\"),r.setGroupStyle(o,\"hover\"),this.inGroupId=n),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={})},onDrag:function(t){var e,n,r,i,o,a;this.origin&&this.get(\"shouldUpdate\").call(this,t)&&(this.update(this.target,t,!0),e=t.item,n=this.graph,!(r=e.getModel().groupId)||(o=(i=n.get(\"customGroupControll\")).getDeletageGroupById(r))&&(a=o.nodeGroup.get(\"keyShape\"),this.inGroupId!==r?i.setGroupStyle(a,\"default\"):i.setGroupStyle(a,\"hover\")))},onDragEnd:function(t){var e;this.origin&&this.shouldEnd.call(this,t)&&(this.shape&&(this.shape.remove(),this.shape=null),this.target&&(e=this.target.get(\"delegateShape\"))&&(e.remove(),this.target.set(\"delegateShape\",null)),this.target&&this.update(this.target,t),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(t))},setCurrentGroupStyle:function(t){var e,n,r=this.graph,i=t.item,o=i.getModel(),a=o.groupId,s=o.id,u=r.get(\"customGroupControll\"),c=u.customGroup,h=r.get(\"groupNodes\");if(this.inGroupId&&a){if(!(n=c[a].nodeGroup))return;var l,f=n.get(\"keyShape\"),d=i.getBBox(),p=f.getBBox(),g=d.centerX,v=d.centerY,y=p.minX,m=p.minY,b=p.maxX,x=p.maxY;if(g<b*this.maxMultiple&&g>y*this.minMultiple&&v<x*this.maxMultiple&&v>m*this.minMultiple&&this.inGroupId===a||(l=h[a],h[a]=l.filter(function(t){return t!==s}),u.dynamicChangeGroupSize(t,n,f),delete o.groupId),this.inGroupId!==a){if(!(e=c[this.inGroupId].nodeGroup))return;var w=e.get(\"keyShape\");-1===h[this.inGroupId].indexOf(s)&&h[this.inGroupId].push(s),o.groupId=this.inGroupId,u.dynamicChangeGroupSize(t,e,w)}u.setGroupStyle(f,\"default\")}else if(this.inGroupId&&!a){if(!(e=c[this.inGroupId].nodeGroup))return;f=e.get(\"keyShape\"),-1===h[this.inGroupId].indexOf(s)&&h[this.inGroupId].push(s),o.groupId=this.inGroupId,u.dynamicChangeGroupSize(t,e,f)}else if(!this.inGroupId&&a){if(Object.keys(h).forEach(function(t){var e=h[t];h[t]=e.filter(function(t){return t!==s})}),!(n=c[a].nodeGroup))return;f=n.get(\"keyShape\"),u.dynamicChangeGroupSize(t,n,f),delete o.groupId}this.inGroupId=null},onOutOfRange:function(n){var r=this,i=r.graph.get(\"canvas\").get(\"el\");r.origin&&yt.addEventListener(\"mouseup\",function t(e){e.target!==i&&(n.item=r.target,r.onDragEnd(n),document.body.removeEventListener(\"mouseup\",t,!0))},!0)},update:function(t,e,n){var r=this.origin,i=t.get(\"model\"),o=t.get(\"id\");this.point[o]||(this.point[o]={x:i.x,y:i.y});var a,s=e.x-r.x+this.point[o].x,u=e.y-r.y+this.point[o].y;n?this.updateDelegate(e,s,u):(a={x:s,y:u},this.get(\"updateEdge\")?this.graph.updateItem(t,a):(t.updatePosition(a),this.graph.paint()))},updateDelegate:function(t,e,n){var r,i,o=this.graph,a=t.item,s=o.get(\"groupType\"),u=a.get(\"keyShape\").getBBox();this.shape||(r=o.get(\"delegateGroup\"),i=gt()({},F.delegateStyle,this.delegateStyle),this.target&&(this.shape=r.addShape(\"rect\",{attrs:Object(L.__assign)({width:u.width,height:u.height,x:e-u.width/2,y:n-u.height/2},i),name:\"delegate-shape\"}),this.target.set(\"delegateShape\",this.shape)),this.shape.set(\"capture\",!1)),this.target&&(\"circle\"===s?this.shape.attr({x:e-u.width/2,y:n-u.height/2}):\"rect\"===s&&this.shape.attr({x:e,y:n}))}},bt=[\"click\",\"dblclick\"],xt={getDefaultCfg:function(){return{trigger:\"dblclick\"}},getEvents:function(){var t,e;return bt.includes(this.trigger)?e=this.trigger:(e=\"dblclick\",console.warn(\"Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'\")),(t={})[\"\"+e]=\"onGroupClick\",t},onGroupClick:function(t){var e=t.target,n=this.graph,r=e.get(\"groupId\");r&&n.get(\"customGroupControll\").collapseExpandGroup(r)}},wt=[\"click\",\"dblclick\"],Mt={getDefaultCfg:function(){return{trigger:\"click\",onChange:function(){}}},getEvents:function(){var t,e;return wt.includes(this.trigger)?e=this.trigger:(e=\"click\",console.warn(\"Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'\")),(t={})[\"node:\"+e]=\"onNodeClick\",t},onNodeClick:function(t){var e=t.item,n=this.graph.findDataById(e.get(\"id\"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;if(this.shouldBegin(t,i)&&(n.collapsed=i,e.getModel().collapsed=i,this.graph.emit(\"itemcollapsed\",{item:t.item,collapsed:i}),this.shouldUpdate(t,i))){try{this.onChange(e,i)}catch(t){console.warn(\"G6 自 3.0.4 版本支持直接从 item.getModel() 获取源数据(临时通知，将在3.2.0版本中清除)\",t)}this.graph.layout()}}}}},St=function(t,e){if(!1!==e(t)&&t){var n=t.get(\"combos\");if(0===n.length)return!1;Object(y.each)(n,function(t){St(t,e)})}},_t={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:\"\",selectedState:\"selected\"}},getEvents:function(){return{\"combo:dragstart\":\"onDragStart\",\"combo:drag\":\"onDrag\",\"combo:dragend\":\"onDragEnd\",\"combo:drop\":\"onDrop\",\"node:drop\":\"onNodeDrop\",\"combo:dragenter\":\"onDragEnter\",\"combo:dragleave\":\"onDragLeave\"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed||!this.shouldUpdate(this,t)||\"combo\"!==e.getType())},onDragStart:function(t){var e,n,r=this,i=this.graph,o=t.item;this.validationCombo(t)&&(this.targets=[],e=i.findAllByState(\"combo\",this.selectedState),n=o.get(\"id\"),0===e.filter(function(t){var e=t.get(\"id\");return n===e}).length?this.targets.push(o):this.targets=e,this.activeState&&this.targets.map(function(t){var e,n=t.getModel();!n.parentId||(e=i.findById(n.parentId))&&i.setItemState(e,r.activeState,!0)}),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],St(o,function(t){if(t.destroyed)return!1;var e=t.getModel();return r.currentItemChildCombos.push(e.id),!0}))},onDrag:function(e){var u,t,n,r,i,c,h,l,f=this;this.origin&&this.validationCombo(e)&&(this.enableDelegate?this.updateDelegate(e):(this.activeState&&(u=this.graph,t=e.item,n=t.getModel(),r=u.getCombos(),i=t.getBBox(),c=i.centerX,h=i.centerY,l=i.width,r.filter(function(t){var e=t.getModel();return n.parentId,e.id!==n.id&&!f.currentItemChildCombos.includes(e.id)}).map(function(t){var e=t.getBBox(),n=e.centerX,r=e.centerY,i=e.width,o=c-n,a=h-r,s=2*Math.sqrt(o*o+a*a);.8*l<l+i-s?u.setItemState(t,f.activeState,!0):u.setItemState(t,f.activeState,!1)})),Object(y.each)(this.targets,function(t){f.updateCombo(t,e)})))},updatePositions:function(e){var n=this;this.enableDelegate&&Object(y.each)(this.targets,function(t){n.updateCombo(t,e)})},onDrop:function(t){var e,n,r=this,i=t.item;i&&this.targets&&!i.destroyed&&(this.updatePositions(t),e=this.graph,n=i.getModel(),this.targets.map(function(t){t.getModel().parentId!==n.id?(r.activeState&&e.setItemState(i,r.activeState,!1),r.onlyChangeComboSize?e.updateCombo(t):e.updateComboTree(t,n.id)):e.updateCombo(i)}),this.end(i,t),this.endComparison=!0)},onNodeDrop:function(t){var e,n,r,i,o=this;this.targets&&0!==this.targets.length&&(this.updatePositions(t),n=this.graph,(r=t.item.getModel().comboId)?(this.activeState&&(i=n.findById(r),n.setItemState(i,this.activeState,!1)),this.targets.map(function(t){o.onlyChangeComboSize?n.updateCombo(t):r!==t.getID()&&(e=n.findById(r),r!==t.getModel().parentId&&n.updateComboTree(t,r))})):this.targets.map(function(t){o.onlyChangeComboSize?n.updateCombo(t):t.getModel().comboId&&n.updateComboTree(t)}),this.endComparison=!0,this.end(e,t))},onDragEnter:function(t){var e,n;this.origin&&this.validationCombo(t)&&(e=t.item,n=this.graph,this.activeState&&n.setItemState(e,this.activeState,!0))},onDragLeave:function(t){var e,n;this.origin&&this.validationCombo(t)&&(e=t.item,n=this.graph,this.activeState&&n.setItemState(e,this.activeState,!1))},onDragEnd:function(t){var e,n,r;this.targets&&0!==this.targets.length&&(e=t.item,this.updatePositions(t),n=this.getParentCombo(e.getModel().parentId),r=this.graph,n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,t))},end:function(t,e){var n,r=this;this.origin&&(n=this.graph,this.delegateShape&&(n.get(\"delegateGroup\").clear(),this.delegateShape=null),t&&this.activeState&&n.setItemState(t,this.activeState,!1),t||this.targets.map(function(t){r.onlyChangeComboSize?n.updateCombo(t):n.updateComboTree(t)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0)},traverse:function(t,e){var n,r,i=this;!1!==e(t)&&t&&(n=t.get(\"combos\"),Object(y.each)(n,function(t){i.traverse(t,e)}),r=t.get(\"nodes\"),Object(y.each)(r,function(t){i.traverse(t,e)}))},updateCombo:function(t,e){var n=this;this.traverse(t,function(t){return!t.destroyed&&(n.updateSignleItem(t,e),!0)})},updateSignleItem:function(t,e){var n=this.origin,r=this.graph,i=t.getModel(),o=t.get(\"id\");this.point[o]||(this.point[o]={x:i.x,y:i.y});var a=e.x-n.x+this.point[o].x,s=e.y-n.y+this.point[o].y;r.updateItem(t,{x:a,y:s})},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e,n,r,i,o,a,s,u,c,h,l,f=this.graph;this.delegateShape?(e=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY,this.delegateShape.attr({x:e,y:n})):(r=f.get(\"delegateGroup\"),i=null,o=(i=1<this.targets.length?B(this.targets):this.targets[0].getBBox()).x,a=i.y,s=i.width,u=i.height,c=i.minX,h=i.minY,this.originPoint={x:o,y:a,width:s,height:u,minX:c,minY:h},l=Object(L.__assign)(Object(L.__assign)({},F.delegateStyle),this.delegateStyle),this.delegateShape=r.addShape(\"rect\",{attrs:Object(L.__assign)({width:i.width,height:i.height,x:i.x,y:i.y},l),name:\"combo-delegate-shape\"}))}},Ot=[\"click\",\"dblclick\"],Ct={getDefaultCfg:function(){return{trigger:\"dblclick\",relayout:!0}},getEvents:function(){var t,e;return Ot.includes(this.trigger)?e=this.trigger:(e=\"dblclick\",console.warn(\"Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'\")),(t={})[\"combo:\"+e]=\"onComboClick\",t},onComboClick:function(t){var e,n=t.item,r=this.graph,i=this.relayout;!n||n.destroyed||\"combo\"!==n.getType()||(e=n.getModel().id)&&(r.collapseExpandCombo(e),i&&r.get(\"layout\")?r.layout():r.refreshPositions())}},kt=function(t,e,n,r){var i,o=n.x-t.x,a=n.y-t.y,s=e.x-t.x,u=e.y-t.y,c=r.x-n.x,h=r.y-n.y,l=s*h-u*c,f=null;return.001*(s*s+u*u)*(c*c+h*h)<l*l&&(nt(i=(o*h-a*c)/l,0,1)&&nt((o*u-a*s)/l,0,1)&&(f={x:t.x+i*s,y:t.y+i*u})),f},Et=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=kt(a[c-1],a[c],s,e));c++);return u},jt=function(t,e){var n=t.x,r=t.y,i=t.r,o=e.x-n,a=e.y-r;if(Math.sqrt(o*o+a*a)<i)return null;var s=Math.sign(o),u=Math.sign(a),c=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(c))*s,y:r+Math.abs(i*Math.sin(c))*u}},Pt=function(t,e){var n=t.rx,r=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},It=function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),it.transformMat3(r,r,e),{x:r[0],y:r[1]}},At=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var r=(r=J.invert([],e))||[1,0,0,0,1,0,0,0,1],i=[t.x,t.y,n];return it.transformMat3(i,i,r),{x:i[0],y:i[1]}},Tt=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,c=i*o-r*a;return{x:-(a*s-i*u)/c,y:-(r*u-o*s)/c}},Nt=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},Bt=function(t,n){var r=[];return t.forEach(function(t){var e=[];t.forEach(function(t){e.push(t*n)}),r.push(e)}),r},Dt=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},Lt=function(t,o){var e=t.nodes,n=t.edges,a=[],s={};if(!e)throw new Error(\"invalid nodes data!\");return e&&e.forEach(function(t,e){s[t.id]=e,a.push([])}),n&&n.forEach(function(t){var e=t.source,n=t.target,r=s[e],i=s[n];a[r][i]=1,o||(a[i][r]=1)}),a},Rt=function(t,e){t.translate(e.x,e.y)},zt=function(t,e){var n=(n=t.getMatrix())||[1,0,0,0,1,0,0,0,1],r=t.getCanvasBBox(),i=e.x-r.minX,o=e.y-r.minY,a=et(n,[[\"t\",i,o]]);t.setMatrix(a)},Yt=function(t,e){var n=(n=t.getMatrix())||[1,0,0,0,1,0,0,0,1],r=e;I()(e)||(r=[e,e]),I()(e)&&1===e.length&&(r=[e[0],e[0]]),n=et(n,[[\"s\",r[0],r[1]]]),t.setMatrix(n)},Ft=function(t,e){var n=t.getMatrix();n=et(n=n||[1,0,0,0,1,0,0,0,1],[[\"r\",e]]),t.setMatrix(n)},Xt=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach(function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)}),r};var Gt=function(t,e,n){var r=!1,i=t.length;function o(t){return Math.abs(t)<1e-6?0:t<0?-1:1}if(i<=2)return!1;for(var a,s,u,c=0;c<i;c++){var h=t[c],l=t[(c+1)%i];if(s=l,((u=[e,n])[0]-(a=h)[0])*(s[1]-a[1])==(s[0]-a[0])*(u[1]-a[1])&&Math.min(a[0],s[0])<=u[0]&&u[0]<=Math.max(a[0],s[0])&&Math.min(a[1],s[1])<=u[1]&&u[1]<=Math.max(a[1],s[1]))return!0;0<o(h[1]-n)!=0<o(l[1]-n)&&o(e-(n-h[1])*(h[0]-l[0])/(h[1]-l[1])-h[0])<0&&(r=!r)}return r},Vt=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},qt=function(e,n){function t(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function r(t){for(var e,n,r=[],i=t.length,o=0;o<i-1;o++){var a=t[o],s=t[o+1];r.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return 1<r.length&&(e=t[0],n=t[i-1],r.push({from:{x:n[0],y:n[1]},to:{x:e[0],y:e[1]}})),r}if(e.length<2||n.length<2)return!1;var i=t(e),o=t(n);if(!Vt(i,o))return!1;var a=!1;if(Object(ot.each)(n,function(t){if(Gt(e,t[0],t[1]))return!(a=!0)}),a)return!0;if(Object(ot.each)(e,function(t){if(Gt(n,t[0],t[1]))return!(a=!0)}),a)return!0;var s=r(e),u=r(n),c=!1;return Object(ot.each)(u,function(t){if(e=s,n=t,r=!1,Object(ot.each)(e,function(t){if(kt(t.from,t.to,n.from,n.to))return!(r=!0)}),r)return!(c=!0);var e,n,r}),c},Ht=(ee.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},ee),Wt=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},Ut=function(t,e){for(var n=[\"top\",\"left\",\"bottom\",\"right\"],r=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=Wt(r,n[a]),u=s[0],c=s[1],h=s[2],l=s[3];o[a]=kt({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:u,y:c},{x:h,y:l}),o[a]&&(i+=1)}return[o,i]},Zt=function(t,e){for(var n=[\"top\",\"left\",\"bottom\",\"right\"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=Wt(r,n[a]),u=s[0],c=s[1],h=s[2],l=s[3],f=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=n/i,a=r/i;if(0<=o&&o<=1&&0<=a&&a<=1)return o}return Number.POSITIVE_INFINITY}(e,new Ht(u,c,h,l));0<=(f=Math.abs(f-.5))&&f<=1&&(o+=1,i=f<i?f:i)}return 0===o?-1:i},$t=function(t){var e=0,n=0;if(0<t.length){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},Kt=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},Qt=function(t,e){var n=e.x1,r=e.y1,i=e.x2-n,o=e.y2-r,a=t.x-n,s=t.y-r,u=a*i+s*o,c=u<=0||(u=(a=i-a)*i+(s=o-s)*o)<=0?0:u*u/(i*i+o*o),h=a*a+s*s-c;return h<0&&(h=0),h},Jt=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},te=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s};function ee(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}function ne(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push([\"C\",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}n(111);var re=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\",ie=new RegExp(\"([a-z])[\"+re+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+re+\"]*,?[\"+re+\"]*)+)\",\"ig\"),oe=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+re+\"]*,?[\"+re+\"]*\",\"ig\");n(54),n(55);var ae=function(t){var e=[];if(t.length<2)throw new Error(\"point length must largn than 2, now it's \"+t.length);for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,a=i.y;e.push(o),e.push(a)}var s=ne(e);return s.unshift([\"M\",t[0].x,t[0].y]),s},se=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[];rt.normalize(o,[e.x-t.x,e.y-t.y]),0===o.length&&(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},ue=function(t,e){var n=t.length;if(!n)return\"\";for(var r=\"\",i=0;i<n;i++){r+=function(t,r){return t&&r?t.replace(/\\\\?\\{([^{}]+)\\}/g,function(t,e){if(\"\\\\\"===t.charAt(0))return t.slice(1);var n=r[e];return 0===n&&(n=\"0\"),n||\"\"}):t}(0===i?\"M{x} {y}\":\"L{x} {y}\",t[i])}return e&&(r+=\"Z\"),r},ce=function(t){var r=[];return t.forEach(function(t){if(\"A\"!==t[0])for(var e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);else{var n=t.length;r.push([t[n-2],t[n-1]])}}),r},he=function(t){if(t.length<2)throw new Error(\"point length must largn than 2, now it's \"+t.length);var e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(r),t.unshift(i),t.push(e),t.push(n);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,u=t[a-1].y,c=t[a].x,h=t[a].y,l=t[a+1].x,f=t[a+1].y,d=c+(l-s)/6,p=h+(f-u)/6,g=l-((a!==t.length-2?t[a+2].x:l)-c)/6,v=f-((a!==t.length-2?t[a+2].y:f)-h)/6;o.push([\"C\",d,p,g,v,l,f])}return o.unshift([\"M\",r.x,r.y]),o},le=function(t,e){return rt.scale([],rt.normalize([],t),e)},fe=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error(\"p0 should not be equal to p1\");return[n[0]/r,n[1]/r]},de=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function pe(t,e){if(!t||t.length<1)return\"\";if(1===t.length)return n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e],\"M \"+n+\" A \"+e+\",\"+e+\",0,0,0,\"+r+\" A \"+e+\",\"+e+\",0,0,0,\"+n;var n,r,i,o,a,s,u,c,h;if(2===t.length)return i=t,o=rt.scale([],fe(i[0],i[1]),e),a=rt.scale([],o,-1),s=rt.add([],i[0],o),u=rt.add([],i[1],o),c=rt.add([],i[1],a),h=rt.add([],i[0],a),\"M \"+s+\" L \"+u+\" A \"+[e,e,\"0,0,0\",c].join(\",\")+\" L \"+h+\" A \"+[e,e,\"0,0,0\",s].join(\",\");for(var l=new Array(t.length),f=0;f<l.length;++f){var d=0===f?t[t.length-1]:t[f-1],p=t[f],g=rt.scale([],fe(d,p),e);l[f]=[rt.add([],d,g),rt.add([],p,g)]}var v=\"A \"+[e,e,\"0,0,0,\"].join(\",\");return(l=l.map(function(t,e){var n=\"\";return 0===e&&(n=\"M \"+l[l.length-1][1]+\" \"),n+(v+t[0]+\" L \"+t[1])})).join(\" \")}function ge(r,t){var e,n,i,o,a,s,u,c,h,l,f,d,p,g=r.length;if(!r||g<1)return\"\";if(1===g)return e=[r[0][0],r[0][1]-t],n=[r[0][0],r[0][1]+t],\"M \"+e+\" A \"+[t,t,\"0,0,0\",n].join(\",\")+\" A \"+[t,t,\"0,0,0\",e].join(\",\");if(2===g)return o=de((i=r)[0],i[1]),a=le(o,t),s=rt.add([],i[0],rt.scale([],a,-1)),u=rt.add([],i[1],a),c=1.2*t,h=le(rt.normalize([],o),c),l=rt.scale([],h,-1),f=rt.add([],s,l),d=rt.add([],u,l),p=rt.add([],s,h),\"M \"+s+\" C \"+[f,d,u].join(\",\")+\" S \"+[p,s].join(\",\")+\" Z\";for(var v=r.map(function(t,e){var n=r[(e+1)%g];return{p:t,v:rt.normalize([],de(t,n))}}),y=0;y<v.length;++y){var m=0<y?y-1:g-1,b=rt.normalize([],rt.add([],v[m].v,rt.scale([],v[y].v,-1)));v[y].p=rt.add([],v[y].p,rt.scale([],b,t))}return v.map(function(t){var e=t.p;return{x:e[0],y:e[1]}})}var ve=[\"drag\",\"shift\",\"ctrl\",\"alt\",\"control\"],ye=[\"click\",\"drag\"],me=[\"shift\",\"ctrl\",\"control\",\"alt\",\"meta\",void 0],be={\"drag-canvas\":Y,\"zoom-canvas\":at,\"drag-node\":X,\"activate-relations\":{getDefaultCfg:function(){return{trigger:\"mouseenter\",activeState:\"active\",inactiveState:\"inactive\",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return\"mouseenter\"===this.get(\"trigger\")?{\"node:mouseenter\":\"setAllItemStates\",\"node:mouseleave\":\"clearActiveState\"}:{\"node:click\":\"setAllItemStates\",\"canvas:click\":\"clearAllItemStates\"}},setAllItemStates:function(t){var e=t.item,n=this.graph;if(this.item=e,this.shouldUpdate(t.item,{event:t,action:\"activate\"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getEdges(),s=o.length,u=a.length,c=0;c<s;c++){var h=o[c],l=h.hasState(\"selected\");this.resetSelected&&l&&n.setItemState(h,\"selected\",!1),n.setItemState(h,r,!1),i&&n.setItemState(h,i,!0)}for(c=0;c<u;c++){var f=a[c];n.setItemState(f,r,!1),i&&n.setItemState(f,i,!0)}i&&n.setItemState(e,i,!1),n.setItemState(e,r,!0);for(var d=e.getEdges(),p=d.length,c=0;c<p;c++){var g=(f=d[c]).getSource()===e?f.getTarget():f.getSource();i&&n.setItemState(g,i,!1),n.setItemState(g,r,!0),n.setItemState(f,i,!1),n.setItemState(f,r,!0),f.toFront()}n.emit(\"afteractivaterelations\",{item:t.item,action:\"activate\"})}},clearActiveState:function(t){var e=this.get(\"graph\");if(this.shouldUpdate(t.item,{event:t,action:\"deactivate\"})){var n=this.activeState,r=this.inactiveState,i=e.get(\"autoPaint\");e.setAutoPaint(!1);for(var o=e.getNodes(),a=e.getEdges(),s=o.length,u=a.length,c=0;c<s;c++){var h=o[c];e.clearItemStates(h,[n,r])}for(c=0;c<u;c++){var l=a[c];e.clearItemStates(l,[n,r,\"deactivate\"])}e.paint(),e.setAutoPaint(i),e.emit(\"afteractivaterelations\",{item:t.item||this.get(\"item\"),action:\"deactivate\"})}},clearAllItemStates:function(t){var e=this.graph;if(this.shouldUpdate(t.item,{event:t,action:\"deactivate\"})){for(var n=this.activeState,r=this.inactiveState,i=e.getNodes(),o=e.getEdges(),a=i.length,s=o.length,u=0;u<a;u++){var c=i[u];e.clearItemStates(c,[n,r])}for(u=0;u<s;u++){var h=o[u];e.clearItemStates(h,[n,r,\"deactivate\"])}e.emit(\"afteractivaterelations\",{item:t.item||this.get(\"item\"),action:\"deactivate\"})}}},\"brush-select\":W,\"click-select\":Z,\"lasso-select\":{getDefaultCfg:function(){return{delegateStyle:{fill:\"#EEF6FF\",fillOpacity:.4,stroke:\"#DDEEFE\",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:\"selected\",trigger:\"shift\",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return-1<ve.indexOf(this.trigger.toLowerCase())||(this.trigger=\"shift\",console.warn(\"Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'\")),\"drag\"===this.trigger?{dragstart:\"onDragStart\",drag:\"onDragMove\",dragend:\"onDragEnd\",\"canvas:click\":\"clearStates\"}:{dragstart:\"onDragStart\",drag:\"onDragMove\",dragend:\"onDragEnd\",keyup:\"onKeyUp\",keydown:\"onKeyDown\",\"canvas:click\":\"clearStates\"}},onDragStart:function(t){var e=this.lasso;t.item||\"drag\"!==this.trigger&&!this.keydown||(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),e=e||this.createLasso(),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&(\"drag\"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){!this.lasso&&!this.dragging||\"drag\"!==this.trigger&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,n=[];return t.length&&(t.forEach(function(t,e){0===e?n.push([\"M\",t.x,t.y]):n.push([\"L\",t.x,t.y])}),n.push([\"L\",t[0].x,t[0].y])),n},clearStates:function(){var e=this.graph,n=this.selectedState,t=e.findAllByState(\"node\",n),r=e.findAllByState(\"edge\",n);t.forEach(function(t){return e.setItemState(t,n,!1)}),r.forEach(function(t){return e.setItemState(t,n,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit(\"nodeselectchange\",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var i=this,s=this.graph,u=this.shouldUpdate,c=this.points.map(function(t){return[s.getCanvasByPoint(t.x,t.y).x,s.getCanvasByPoint(t.x,t.y).y]}),h=this.selectedState,l=[],f=[];s.getNodes().forEach(function(t){var e,n,r,i,o,a;r=c,a=(n=t).getKeyShape(),o=\"path\"===n.get(\"type\")?ce(a.attr(\"path\")):[[(i=a.getCanvasBBox()).minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]],qt(r,o)&&u(t,\"select\")&&(l.push(t),e=t.getModel(),f.push(e.id),s.setItemState(t,h,!0))});var o=[];this.includeEdges&&l.forEach(function(t){t.getOutEdges().forEach(function(t){var e=t.getModel(),n=e.source,r=e.target;f.includes(n)&&f.includes(r)&&u(t,\"select\")&&(o.push(t),s.setItemState(t,i.selectedState,!0))})}),this.selectedEdges=o,this.selectedNodes=l,this.onSelect&&this.onSelect(l,o),s.emit(\"nodeselectchange\",{selectedItems:{nodes:l,edges:o},select:!0})},createLasso:function(){var t=this.graph.get(\"delegateGroup\").addShape(\"path\",{attrs:Object(L.__assign)({path:[]},this.delegateStyle),capture:!1,name:\"lasso-shape\"});return this.lasso=t,this.points=[],t},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:ft,\"edge-tooltip\":dt,\"drag-group\":vt,\"drag-node-with-group\":mt,\"collapse-expand-group\":xt,\"collapse-expand\":Mt,\"drag-combo\":_t,\"collapse-expand-combo\":Ct,\"create-edge\":{getDefaultCfg:function(){return{trigger:\"click\",key:void 0}},getEvents:function(){var t;return-1<ye.indexOf(this.trigger.toLowerCase())||(this.trigger=\"click\",console.warn(\"Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'\")),this.key&&-1===me.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn(\"Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined\")),\"drag\"===this.trigger?t={\"node:dragstart\":\"onClick\",drag:\"updateEndPoint\",\"node:drop\":\"onClick\",dragend:\"onDragEnd\"}:\"click\"===this.trigger&&(t={\"node:click\":\"onClick\",mousemove:\"updateEndPoint\",\"edge:click\":\"cancelCreating\"}),this.key&&(t.keydown=\"onKeyDown\",t.keyup=\"onKeyUp\"),t},onDragEnd:function(t){var e;this.key&&!this.keydown||((e=t.item)&&e.getID()!==this.source&&\"node\"===e.getType()||this.cancelCreating({item:this.edge,x:t.x,y:t.y}))},onClick:function(t){if(!this.key||this.keydown){var e=t.item,n=this.graph,r=e.getModel();if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,t))return;var i={target:r.id};this.source===r.id&&(i.type=\"loop\"),n.updateItem(this.edge,i),n.emit(\"aftercreateedge\",{edge:this.edge}),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,t))return;this.edge=n.addItem(\"edge\",{source:r.id,target:r.id},!1),this.source=r.id,this.addingEdge=!0}}},updateEndPoint:function(t){var e;this.key&&!this.keydown||(e={x:t.x,y:t.y},this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:e},!1))},cancelCreating:function(t){if(!this.key||this.keydown){var e=this.graph,n=t.item;if(this.addingEdge&&this.edge===n){var r=!0;if(!e.get(\"groupByTypes\"))for(var i=t.x,o=t.y,a=e.getNodes(),s=a.length,u=0;u<s;u++){var c=a[u],h=c.getModel(),l=c.getBBox();if(i<=l.maxX&&i>=l.minX&&o<=l.maxY&&o>=l.minY){if(!this.shouldEnd.call(this,{x:t.x,y:t.y,canvasX:t.canvasX,canvasY:t.canvasY,clientX:t.clientX,clientY:t.clientY,item:c}))return;e.updateItem(this.edge,{target:h.id}),e.emit(\"aftercreateedge\",{edge:this.edge}),r=!1;break}}r&&e.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1}}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}}};m()(be,function(t,e){x.registerBehavior(e,t)});var xe=x,we=n(65),Me=n(67),Se=n.n(Me),_e=n(69),Oe=n.n(_e),Ce=n(28),ke=n(83),Ee=n.n(ke),je=(He.prototype.formatModes=function(){var t=this.modes;m()(t,function(n){m()(n,function(t,e){T()(t)&&(n[e]={type:t})})})},He.prototype.setBehaviors=function(t){var n,r=this.graph,e=this.modes[t],i=[];m()(e||[],function(t){var e=x.getBehavior(t.type);e&&(n=new e(t))&&(n.bind(r),i.push(n))}),this.currentBehaves=i},He.mergeBehaviors=function(e,t){return m()(t,function(t){e.indexOf(t)<0&&(T()(t)&&(t={type:t}),e.push(t))}),e},He.filterBehaviors=function(t,n){var r=[];return t.forEach(function(t){var e=T()(t)?t:t.type;n.indexOf(e)<0&&r.push(t)}),r},He.prototype.setMode=function(t){var e=this.modes,n=this.graph,r=t;e[r]&&(n.emit(\"beforemodechange\",{mode:t}),m()(this.currentBehaves,function(t){t.unbind(n)}),this.setBehaviors(r),n.emit(\"aftermodechange\",{mode:t}),this.mode=t)},He.prototype.getMode=function(){return this.mode},He.prototype.manipulateBehaviors=function(t,e,n){var r=this,i=I()(t)?t:[t];if(I()(e))return m()(e,function(t){r.modes[t]?r.modes[t]=n?He.mergeBehaviors(r.modes[t]||[],i):He.filterBehaviors(r.modes[t]||[],i):n&&(r.modes[t]=i)}),this;var o=e;return e||(o=this.mode),this.modes[o]||n&&(this.modes[o]=i),this.modes[o]=n?He.mergeBehaviors(this.modes[o]||[],i):He.filterBehaviors(this.modes[o]||[],i),this.setMode(this.mode),this},He.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},He),Pe=(qe.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get(\"width\"),r=e.get(\"height\");return{x:(n-t[1]-t[3])/2+t[3],y:(r-t[0]-t[2])/2+t[0]}},qe.prototype.fitCenter=function(){var t=this.graph,e=t.get(\"group\");e.resetMatrix();var n,r,i,o=e.getCanvasBBox();0!==o.width&&0!==o.height&&(n=this.getViewCenter(),r=o.x+o.width/2,i=o.y+o.height/2,t.translate(n.x-r,n.y-i))},qe.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),n=t.get(\"width\"),r=t.get(\"height\"),i=t.get(\"group\");i.resetMatrix();var o,a,s,u,c,h,l=i.getCanvasBBox();0!==l.width&&0!==l.height&&(o=this.getViewCenter(),a=l.x+l.width/2,s=l.y+l.height/2,t.translate(o.x-a,o.y-s),u=(n-e[1]-e[3])/l.width,h=(c=(r-e[0]-e[2])/l.height)<u?c:u,t.zoom(h,o))},qe.prototype.getFormatPadding=function(){var t=this.graph.get(\"fitViewPadding\");return E(t)},qe.prototype.focusPoint=function(t,e,n){var r,i,o,a,s,u,c=this,h=this.getViewCenter(),l=this.getPointByCanvas(h.x,h.y),f=(f=this.graph.get(\"group\").getMatrix())||[1,0,0,0,1,0,0,0,1];e?(r=(l.x-t.x)*f[0],i=(l.y-t.y)*f[4],u=s=a=o=0,this.graph.get(\"canvas\").animate(function(t){s=r*t,u=i*t,c.graph.translate(s-o,u-a),o=s,a=u},Object(L.__assign)({},n))):this.graph.translate((l.x-t.x)*f[0],(l.y-t.y)*f[4])},qe.prototype.getPointByCanvas=function(t,e){var n=this.graph.get(\"group\").getMatrix();return At({x:t,y:e},n=n||[1,0,0,0,1,0,0,0,1])},qe.prototype.getPointByClient=function(t,e){var n=this.graph.get(\"canvas\").getPointByClient(t,e);return this.getPointByCanvas(n.x,n.y)},qe.prototype.getClientByPoint=function(t,e){var n=this.graph.get(\"canvas\"),r=this.getCanvasByPoint(t,e),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},qe.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get(\"group\").getMatrix();return It({x:t,y:e},n=n||[1,0,0,0,1,0,0,0,1])},qe.prototype.focus=function(t,e,n){T()(t)&&(t=this.graph.findById(t));var r=(r=t.get(\"group\").getMatrix())||[1,0,0,0,1,0,0,0,1];t&&this.focusPoint({x:r[6],y:r[7]},e,n)},qe.prototype.changeSize=function(n,r){var i=this.graph;if(!A()(n)||!A()(r))throw Error(\"invalid canvas width & height, please make sure width & height type is number\");i.set({width:n,height:r}),i.get(\"canvas\").changeSize(n,r),i.get(\"plugins\").forEach(function(t){var e;t.get(\"gridContainer\")&&(e=i.get(\"minZoom\"),ut()(t.get(\"container\"),{width:n+\"px\",height:r+\"px\"}),ut()(t.get(\"gridContainer\"),{width:n/e+\"px\",height:r/e+\"px\",left:0,top:0}))})},qe.prototype.destroy=function(){this.graph=null,this.destroyed=!1},qe),Ie=n(71),Ae=n.n(Ie),Te=n(56),Ne=n.n(Te),Be=(Ve.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,n=t.get(\"canvas\"),r=n.get(\"el\"),i=Ne()(this,\"onCanvasEvents\"),o=Ne()(this,\"onExtendEvents\"),a=Ne()(this,\"onWheelEvent\");n.on(\"*\",i),this.canvasHandler=i,e.push(Ae()(r,\"DOMMouseScroll\",a)),e.push(Ae()(r,\"mousewheel\",a)),\"undefined\"!=typeof window&&(e.push(Ae()(window,\"keydown\",o)),e.push(Ae()(window,\"keyup\",o)),e.push(Ae()(window,\"focus\",o)))},Ve.getItemRoot=function(t){for(;t&&!t.get(\"item\");)t=t.get(\"parent\");return t},Ve.prototype.onCanvasEvents=function(t){var e=this.graph,n=e.get(\"canvas\"),r=t.target,i=t.type;t.canvasX=t.x,t.canvasY=t.y;var o={x:t.canvasX,y:t.canvasY},a=e.get(\"group\").getMatrix();if(P(a=a||[1,0,0,0,1,0,0,0,1])&&(o=e.getPointByClient(t.clientX,t.clientY)),t.x=o.x,t.y=o.y,t.currentTarget=e,r===n)return\"mousemove\"===i&&this.handleMouseMove(t,\"canvas\"),t.target=n,t.item=null,e.emit(i,t),void e.emit(\"canvas:\"+i,t);var s,u,c,h=Ve.getItemRoot(r);h?(s=h.get(\"item\")).destroyed||(u=s.getType(),t.target=r,t.item=s,t.canvasX===t.x&&t.canvasY===t.y&&(c=e.getCanvasByPoint(t.x,t.y),t.canvasX=c.x,t.canvasY=c.y),e.emit(i,t),t.name&&!t.name.includes(\":\")?e.emit(u+\":\"+i,t):e.emit(t.name,t),\"dragstart\"===i&&(this.dragging=!0),\"dragend\"===i&&(this.dragging=!1),\"mousemove\"===i&&this.handleMouseMove(t,u)):e.emit(i,t)},Ve.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},Ve.prototype.onWheelEvent=function(t){S()(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit(\"wheel\",t)},Ve.prototype.handleMouseMove=function(t,e){var n=this.graph,r=this.preItem,i=n.get(\"canvas\"),o=t.target===i?null:t.item;t=j(t),r&&r!==o&&!r.destroyed&&(t.item=r,this.emitCustomEvent(r.getType(),\"mouseleave\",t),this.dragging&&this.emitCustomEvent(r.getType(),\"dragleave\",t)),o&&r!==o&&(t.item=o,this.emitCustomEvent(e,\"mouseenter\",t),this.dragging&&this.emitCustomEvent(e,\"dragenter\",t)),this.preItem=o},Ve.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit(t+\":\"+e,n)},Ve.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,n=this.extendEvents;t.get(\"canvas\").off(\"*\",e),m()(n,function(t){t.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},Ve),De=n(120),Le=n.n(De),Re=n(32),ze=n.n(Re),Ye=n(45),Fe=n.n(Ye),Xe=n(150),Ge=n.n(Xe);function Ve(t){this.preItem=null,this.graph=t,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}function qe(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}function He(t){this.graph=t,this.destroyed=!1,this.modes=t.get(\"modes\")||{default:[]},this.formatModes(),this.mode=t.get(\"defaultMode\")||\"default\",this.currentBehaves=[],this.setMode(this.mode)}function We(t){if(\"string\"!=typeof t)return t;function e(e){if(\"string\"!=typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}}var n=e(t);if(n&&\"string\"!=typeof n)return n;for(var r=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some(function(t){return r(a)===t})},u=null,c=0,h=\"\";c<i.length;){var l=i[c],f=s('\"',\"'\");if(f||l.trim()){var d,p=\"\\\\\"===i[c-1],g=s(\"}\"),v=s(\"]\"),y=s(\",\"),m=r(o);if(f)r(a)!==l||p?h+=l:(a.pop(),d=e(h),m.push(d),u=d,h=\"\");else if(v&&\",\"===l)h&&(m.push(e(h)),h=\"\");else if(g&&\":\"===l)a.push(\",\"),h&&(m.push(h),h=\"\");else if(y&&\",\"===l)h&&(m.push(e(h)),h=\"\"),a.pop();else if(\"}\"===l&&(g||y)){h&&(m.push(e(h)),h=\"\"),y&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else\"]\"===l&&v?(h&&(m.push(e(h)),h=\"\"),o.pop(),o.length&&r(o).push(m),a.pop(),u=m):\"{\"===l?(o.push([]),a.push(\"}\")):\"[\"===l?(o.push([]),a.push(\"]\")):'\"'===l?a.push('\"'):\"'\"===l?a.push(\"'\"):h+=l;c+=1}else c+=1}return u||h}function Ue(i){function l(t){var o,e=(o=\"function\"==typeof i?i(t):i,function(t){for(var e=o.length,n=[],r=0,i=\"\";r<e;)\"{\"===o[r]&&\"{\"===o[r+1]?(n.push(i),i=\"\",r+=2):\"}\"===o[r]&&\"}\"===o[r+1]?(i=Ge()(t,i,'\"{'+i+'}\"'),n.length&&n.push(n.pop()+i),r+=2,i=\"\"):(i+=o[r],r+=1);return n.push(i),n.join(\"\")}(t)),n=document.createElement(\"div\");n.innerHTML=e;var r=function t(e,a){var n;void 0===a&&(a={x:0,y:0});var s=Object(L.__assign)({x:0,y:0,width:0,height:0},a);if(null!==(n=e.children)&&void 0!==n&&n.length){var r=e.attrs,i=void 0===r?{}:r,o=i.marginTop,u=Object(L.__assign)({},a);o&&(u.y+=o);for(var c=0;c<e.children.length;c++){e.children[c].attrs.key=(i.key||\"root\")+\"-\"+c;var h,l=t(e.children[c],u);l.bbox&&(h=l.bbox,u.y+=l.bbox.height,h.width+h.x>s.width&&(s.width=h.width+h.x),h.height+h.y>s.height&&(s.height=h.height+h.y))}}return e.bbox=function(t){var e,n,r=t.attrs,i=void 0===r?{}:r,o={x:a.x||0,y:a.y||0,width:s.width||0,height:s.height||0};switch(t.type){case\"maker\":case\"circle\":i.r&&(n=2*i.r,e=2*i.r);break;case\"ellipse\":i.rx&&i.ry&&(n=2*i.rx,e=2*i.ry);break;case\"text\":i.text&&(n=i.text.length*i.length,e=16,o.y+=e,t.attrs=Object(L.__assign)({fontSize:12,fill:\"#000\"},i));break;default:i.width&&(n=i.width),i.height&&(e=i.height)}return 0<=e&&(o.height=e),0<=n&&(o.width=n),i.marginTop&&(o.y+=i.marginTop),i.marginLeft&&(o.x+=i.marginLeft),o}(e),e.attrs=Object(L.__assign)(Object(L.__assign)({},e.attrs),e.bbox),e}(function e(i,n){var o={},t=i.getAttributeNames&&i.getAttributeNames()||[],r=i.children&&Array.from(i.children).map(function(t){return e(t,n)}),a={},s=i.tagName?i.tagName.toLowerCase():\"group\";return\"text\"===s&&(o.text=i.innerText),\"img\"===(a.type=s)&&(a.type=\"image\"),Array.from(t).forEach(function(t){var e,n=t.split(\"-\").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}),r=i.getAttribute(t);try{\"style\"===n||\"attrs\"===n?(e=We(r),o=Object(L.__assign)(Object(L.__assign)({},o),e)):a[n]=We(r)}catch(t){if(\"style\"===n)throw t;a[n]=r}}),a.attrs=o,n&&n.style&&a.name&&\"object\"==typeof n.style[a.name]&&(a.attrs=Object(L.__assign)(Object(L.__assign)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(L.__assign)(Object(L.__assign)({},a.attrs),n.style)),r.length&&(a.children=r),a}(n.children[0],t));return n.remove(),r}var f={};return{draw:function(t,u){var e=l(t),c=u,h=function(t){var e,n=t.attrs,r=void 0===n?{}:n,i=t.bbox,o=t.type,a=t.children,s=Object(L.__rest)(t,[\"attrs\",\"bbox\",\"type\",\"children\"]);\"group\"!==t.type&&(e=u.addShape(t.type,Object(L.__assign)({attrs:r,origin:{bbox:i,type:o,children:a}},s)),t.keyshape&&(c=e)),t.children&&t.children.forEach(function(t){return h(t)})};return h(e),f[t.id]=[e],c},update:function(t,i){f[t.id]||(f[t.id]=[]);var r=i.getContainer(),o=r.get(\"children\"),e=l(t),n=function t(e,n){var r,i,o,a,s=(e||{}).type,u=((null==n?void 0:n.attrs)||{}).key;if(u&&e&&(e.attrs.key=u),!e&&n)return{action:\"delete\",val:n,type:s,key:u};if(e&&!n)return{action:\"add\",val:e,type:s};if(!e&&!n)return{action:\"same\",type:s};var c=[];if(0<(null===(r=e.children)||void 0===r?void 0:r.length)||0<(null===(i=n.children)||void 0===i?void 0:i.length))for(var h=Math.max(null===(o=e.children)||void 0===o?void 0:o.length,null===(a=n.children)||void 0===a?void 0:a.length),l=n.children||[],f=e.children||[],d=0;d<h;d+=1)c.push(t(f[d],l[d]));var p=Object.keys(n.attrs),g=Object.keys(e.attrs);return n.type!==e.type?{action:\"restructure\",nowTarget:e,formerTarget:n,key:u,children:c}:p.filter(function(t){return\"children\"!==t}).some(function(t){return e.attrs[t]!==n.attrs[t]||!g.includes(t)})?{action:\"change\",val:e,children:c,type:s,key:u}:{action:\"same\",children:c,type:s,key:u}}(e,f[t.id].pop()),a=function(t){var e;r.addShape(t.type,{attrs:t.attrs}),null!==(e=t.children)&&void 0!==e&&e.length&&t.children.map(function(t){return a(t)})},s=function(e){var t,n=o.find(function(t){return t.attrs.key===e.attrs.key});r.removeChild(n),null!==(t=e.children)&&void 0!==t&&t.length&&e.children.map(function(t){return s(t)})},u=function(t){var e=t.key;if(\"group\"!==t.type){var n,r=o.find(function(t){return t.attrs.key===e});switch(t.action){case\"change\":r&&(n=t.val.keyshape?i.getOriginStyle():{},r.attr(Object(L.__assign)(Object(L.__assign)({},n),t.val.attrs)));break;case\"add\":a(t.val);break;case\"delete\":s(t.val);break;case\"restructure\":s(t.formerTarget),a(t.nowTarget)}}t.children&&t.children.forEach(function(t){return u(t)})};u(n),f[t.id].push(e)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ze={};function $e(t){return Ze[t]||(Ze[t]=Object(ot.upperFirst)(t)),Ze[t]}var Ke={defaultShapeType:\"defaultType\",className:null,getShape:function(t){return this[t]||this[this.defaultShapeType]},draw:function(t,e,n){var r=this.getShape(t),i=r.draw(e,n);return r.afterDraw&&r.afterDraw(e,n,i),i},baseUpdate:function(t,e,n){var r=this.getShape(t);r.update&&r.update(e,n),r.afterUpdate&&r.afterUpdate(e,n)},setState:function(t,e,n,r){this.getShape(t).setState(e,n,r)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},Qe={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},Je=(en.registerFactory=function(t,e){var n=$e(t),r=Ke,i=Object(L.__assign)(Object(L.__assign)({},r),e);return(en[n]=i).className=n,i},en.getFactory=function(t){return en[$e(t)]},en.registerNode=function(t,e,n){var r,i,o,a=en.Node;return(i=\"string\"==typeof e||\"function\"==typeof e?(r=Ue(e),Object(L.__assign)(Object(L.__assign)({},a.getShape(\"single-node\")),r)):(o=n?a.getShape(n):Qe,Object(L.__assign)(Object(L.__assign)({},o),e))).type=t,i.itemType=\"node\",a[t]=i},en.registerEdge=function(t,e,n){var r=en.Edge,i=n?r.getShape(n):Qe,o=Object(L.__assign)(Object(L.__assign)({},i),e);return o.type=t,o.itemType=\"edge\",r[t]=o},en.registerCombo=function(t,e,n){var r=en.Combo,i=n?r.getShape(n):Qe,o=Object(L.__assign)(Object(L.__assign)({},i),e);return o.type=t,o.itemType=\"combo\",r[t]=o},en),tn=Je;function en(){}Je.registerFactory(\"node\",{defaultShapeType:\"circle\"}),Je.registerFactory(\"edge\",{defaultShapeType:\"line\"}),Je.registerFactory(\"combo\",{defaultShapeType:\"circle\"});var nn,rn,on,an={\" \":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,\"[\":.3329986572265625,\"]\":.3329986572265625,\",\":.26399993896484375,\".\":.26399993896484375,\";\":.26399993896484375,\":\":.26399993896484375,\"{\":.3329986572265625,\"}\":.3329986572265625,\"\\\\\":.5,\"|\":.19499969482421875,\"=\":.604998779296875,\"+\":.604998779296875,\"-\":.604998779296875,_:.5,\"`\":.3329986572265625,\" ~\":.8329986572265625,\"!\":.3329986572265625,\"@\":.8579986572265625,\"#\":.6,$:.6,\"%\":.9699996948242188,\"^\":.517999267578125,\"&\":.7259994506835937,\"*\":.505999755859375,\"(\":.3329986572265625,\")\":.3329986572265625,\"<\":.604998779296875,\">\":.604998779296875,\"/\":.5,\"?\":.53699951171875},sn=Math.PI,un=Math.sin,cn=Math.cos,hn=un(sn/8),ln=cn(sn/8),fn=function(t,e){var n,r=t.getBBox(),i={x:r.minX,y:r.minY},o={x:r.maxX,y:r.maxY};e&&(n=e.getMatrix(),i=It(i,n=n||[1,0,0,0,1,0,0,0,1]),o=It(o,n));var a=i.x,s=i.y,u=o.x,c=o.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},dn=function(t){var e,n=t.sourceNode||t.targetNode,r=(r=n.get(\"group\").getMatrix())||[1,0,0,0,1,0,0,0,1],i=n.getKeyShape().getBBox(),o=t.loopCfg||{},a=o.dist||2*Math.max(i.width,i.height),s=o.position||F.defaultLoopPosition,u=[r[6],r[7]],c=[t.startPoint.x,t.startPoint.y],h=[t.endPoint.x,t.endPoint.y],l=i.height/2,f=i.height/2,d=l*hn,p=l*ln,g=f*hn,v=f*ln;if(c[0]===h[0]&&c[1]===h[1]){switch(s){case\"top\":c=[u[0]-d,u[1]-p],h=[u[0]+g,u[1]-v];break;case\"top-right\":l=i.height/2,f=i.width/2,c=[u[0]+(d=l*hn),u[1]-(p=l*ln)],h=[u[0]+(v=f*ln),u[1]-(g=f*hn)];break;case\"right\":l=i.width/2,f=i.width/2,c=[u[0]+(p=l*ln),u[1]-(d=l*hn)],h=[u[0]+(v=f*ln),u[1]+(g=f*hn)];break;case\"bottom-right\":l=i.width/2,f=i.height/2,c=[u[0]+(p=l*ln),u[1]+(d=l*hn)],h=[u[0]+(g=f*hn),u[1]+(v=f*ln)];break;case\"bottom\":l=i.height/2,f=i.height/2,c=[u[0]+(d=l*hn),u[1]+(p=l*ln)],h=[u[0]-(g=f*hn),u[1]+(v=f*ln)];break;case\"bottom-left\":l=i.height/2,f=i.width/2,c=[u[0]-(d=l*hn),u[1]+(p=l*ln)],h=[u[0]-(v=f*ln),u[1]+(g=f*hn)];break;case\"left\":l=i.width/2,f=i.width/2,c=[u[0]-(p=l*ln),u[1]+(d=l*hn)],h=[u[0]-(v=f*ln),u[1]-(g=f*hn)];break;case\"top-left\":l=i.width/2,f=i.height/2,c=[u[0]-(p=l*ln),u[1]-(d=l*hn)],h=[u[0]-(g=f*hn),u[1]-(v=f*ln)];break;default:l=i.width/2,f=i.width/2,c=[u[0]-(d=l*hn),u[1]-(p=l*ln)],h=[u[0]+(g=f*hn),u[1]-(v=f*ln)]}!1===o.clockwise&&(e=[c[0],c[1]],c=[h[0],h[1]],h=[e[0],e[1]])}var y=[c[0]-u[0],c[1]-u[1]],m=(l+a)/l,b=(f+a)/f;!1===o.clockwise&&(m=(f+a)/f,b=(l+a)/l);var x=rt.scale([],y,m),w=[u[0]+x[0],u[1]+x[1]],M=[h[0]-u[0],h[1]-u[1]],S=rt.scale([],M,b),_=[u[0]+S[0],u[1]+S[1]];return t.startPoint={x:c[0],y:c[1]},t.endPoint={x:h[0],y:h[1]},t.controlPoints=[{x:w[0],y:w[1]},{x:_[0],y:_[1]}],t},pn=function(t,e,n,r,i){var o,a=[],s=t.getPoint(e);if(null===s)return{x:0,y:0,angle:0};e<1e-4?a=t.getStartTangent().reverse():.9999<e?a=t.getEndTangent():(o=t.getPoint(e+1e-4),a.push([s.x,s.y]),a.push([o.x,o.y]));var u,c=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);c<0&&(c+=2*sn),n&&(s.x+=cn(c)*n,s.y+=un(c)*n),r&&(u=c-sn/2,.5*sn<c&&c<1.5*sn&&(u-=sn),s.x+=cn(u)*r,s.y+=un(u)*r);var h={x:s.x,y:s.y,angle:c};return i?(.5*sn<c&&c<1.5*sn&&(c-=sn),Object(L.__assign)({rotate:c},h)):h},gn=function(t,e){if(!1===e(t))return!1;if(t&&t.children)for(var n=t.children.length-1;0<=n;n--)if(!gn(t.children[n],e))return!1;return!0},vn=function(t,e){if(t&&t.children)for(var n=t.children.length-1;0<=n;n--)if(!vn(t.children[n],e))return;return!1!==e(t)},yn=function(t,e){\"function\"==typeof e&&gn(t,e)},mn=function(t,e){\"function\"==typeof e&&vn(t,e)},bn=function(r,t){var i={x:1/0,y:1/0},e={x:-1/0,y:-1/0},o=\"x\",a=\"y\";t&&0<=[\"V\",\"TB\",\"BT\"].indexOf(t)&&(a=\"x\",o=\"y\");var n=0;yn(r,function(t){return n++,t.x>e.x&&(e.x=t.x),t.x<i.x&&(i.x=t.x),t.y>e.y&&(e.y=t.y),t.y<i.y&&(i.y=t.y),!0});var s=2*sn/n,u=e[a]-i[a];return 0==u||yn(r,function(t){var e=(t[a]-i[a])/u*(2*sn-s)+s,n=Math.abs(\"x\"===o?t.x-r.x:t.y-r.y);return t.x=n*Math.cos(e),t.y=n*Math.sin(e),!0}),r},xn=function(t,e){return e*(an[t]||1)},wn=function(t,e){var n=0,r=new RegExp(\"[一-龥]+\");return t.split(\"\").forEach(function(t){r.test(t)?n+=e:n+=xn(t,e)}),[n,e]},Mn=function(t,e){var s=[],u={},c={};t.forEach(function(t){c[t.id]=t}),t.forEach(function(t,e){var n=Object(ot.clone)(t);n.itemType=\"combo\",n.children=void 0,n.parentId===n.id?(console.warn(\"The parentId for combo \"+n.id+\" can not be the same as the combo's id\"),delete n.parentId):n.parentId&&!c[n.parentId]&&(console.warn(\"The parent combo for combo \"+n.id+\" does not exist!\"),delete n.parentId);var r,i=u[n.id];if(i){if(n.children=i.children,!(i=u[n.id]=n).parentId)return void s.push(i);var o,a=u[i.parentId];a?a.children?a.children.push(n):a.children=[n]:(o={id:i.parentId,children:[i]},u[i.parentId]=o,u[n.id]=n)}else{Object(ot.isString)(t.parentId)?(o=u[t.parentId])?o.children?o.children.push(n):o.children=[n]:(r={id:t.parentId,children:[n]},u[r.id]=r):s.push(n),u[n.id]=n}});var i={};return(e||[]).forEach(function(t){i[t.id]=t;var e,n=u[t.comboId];n&&(e={id:t.id,comboId:t.comboId},n.children?n.children.push(e):n.children=[e],e.itemType=\"node\",u[t.id]=e)}),s.forEach(function(t){t.depth=0,gn(t,function(t){var e=u[t.id].itemType,n=\"node\"===e?u[t.comboId]:u[t.parentId];t.depth=n?\"node\"===e?n.depth+1:n.depth+2:0;var r=i[t.id];return r&&(r.depth=t.depth),!0})}),s},Sn=function(t,e,n){var r,i=t,o={root:{children:t}},a=!1,s=\"root\";(t||[]).forEach(function(t){if(!a)return t.id===e?(\"combo\"===(r=t).itemType?r.parentId=n:r.comboId=n,void(a=!0)):void yn(t,function(t){return o[t.id]={children:t.children},i=o[t.parentId||t.comboId||\"root\"].children,!t||!t.removed&&e!==t.id||!i||(s=t.parentId||t.comboId||\"root\",\"combo\"===(r=t).itemType?r.parentId=n:r.comboId=n,!(a=!0))})});var u,c,h,l=(i=o[s].children)?i.indexOf(r):-1;return-1<l&&i.splice(l,1),a||(r={id:e,itemType:\"node\",comboId:n},o[e]={children:void 0}),e&&(u=!1,n?(c=0,(t||[]).forEach(function(t){u||yn(t,function(t){return n!==t.id||(u=!0,t.children?t.children.push(r):t.children=[r],c=t.depth,\"node\"===r.itemType?r.depth=c+2:r.depth=c+1,!1)})})):n&&u||\"node\"===r.itemType||t.push(r),h=r.depth,yn(r,function(t){return\"node\"===t.itemType?h+=2:h+=1,t.depth=h,!0})),t},_n=function(t,r){var i={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return t&&0!==t.length&&(t.forEach(function(t){var e,n=r.findById(t.id);n&&n.isVisible()&&(n.set(\"bboxCanvasCache\",void 0),(e=n.getCanvasBBox()).x&&i.minX>e.minX&&(i.minX=e.minX),e.y&&i.minY>e.minY&&(i.minY=e.minY),e.x&&i.maxX<e.maxX&&(i.maxX=e.maxX),e.y&&i.maxY<e.maxY&&(i.maxY=e.maxY))}),i.x=(i.minX+i.maxX)/2,i.y=(i.minY+i.maxY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,Object.keys(i).forEach(function(t){i[t]!==1/0&&i[t]!==-1/0||(i[t]=void 0)})),i},On=function(t){var e=t.group,n=t.height,r=t.width,i=t.x,o=t.y,a=e.get(\"canvas\"),s=a.get(\"width\"),u=a.get(\"height\"),c={start:{x:0,y:0},end:{x:0,y:0}};return c.start.x=i/s,c.start.y=o/u,c.end.x=(i+r)/s,c.end.y=(o+n)/u,c},Cn=(Gn.prototype.calculateBBox=function(){var t=this.get(\"keyShape\"),e=this.get(\"group\"),n=fn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},Gn.prototype.calculateCanvasBBox=function(){var t=this.get(\"keyShape\"),e=this.get(\"group\"),n=fn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},Gn.prototype.drawInner=function(){var t=this.get(\"shapeFactory\"),e=this.get(\"group\"),n=this.get(\"model\");e.clear();var r,i,o,a=n.visible;void 0===a||a||this.changeVisibility(a),t&&(this.updatePosition(n),i=(r=this.getShapeCfg(n)).shape||r.type,(o=t.draw(i,r,e))&&(this.set(\"keyShape\",o),o.set(\"isKeyShape\",!0),o.set(\"draggable\",!0)),this.setOriginStyle(),this.set(\"currentShape\",i),this.restoreStates(t,i))},Gn.prototype.setOriginStyle=function(t){var i={},e=this.get(\"group\").get(\"children\"),o=this.getKeyShape(),a=this;Object(ot.each)(e,function(t){var e,n,r=t.get(\"name\");r?i[r]=a.getShapeStyleByName(r):(e=o.get(\"name\"),n=a.getShapeStyleByName(),e?i[e]=n:Object.assign(i,n))});var n=this.getOriginStyle(),r=t?Object(ot.deepMix)({},n,i,t.style,{labelCfg:t.labelCfg}):Object(ot.deepMix)({},n,i);a.set(\"originStyle\",r)},Gn.prototype.restoreStates=function(e,n){var r=this,t=r.get(\"states\");Object(ot.each)(t,function(t){e.setState(n,t,!0,r)})},Gn.prototype.init=function(){var t=tn.getFactory(this.get(\"type\"));this.set(\"shapeFactory\",t)},Gn.prototype.get=function(t){return this._cfg[t]},Gn.prototype.set=function(t,e){Object(ot.isPlainObject)(t)?this._cfg=Object(L.__assign)(Object(L.__assign)({},this._cfg),t):this._cfg[t]=e},Gn.prototype.getDefaultCfg=function(){return{}},Gn.prototype.clearCache=function(){this.set(\"bboxCache\",null),this.set(\"bboxCanvasCache\",null)},Gn.prototype.beforeDraw=function(){},Gn.prototype.afterDraw=function(){},Gn.prototype.afterUpdate=function(){},Gn.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},Gn.prototype.getShapeStyleByName=function(e){var t=this.get(\"group\"),n=this.getKeyShape();if(e&&(n=t.find(function(t){return t.get(\"name\")===e})),n){var r={};return Object(ot.each)(n.attr(),function(t,e){\"img\"!==e&&(r[e]=t)}),r}return{}},Gn.prototype.getShapeCfg=function(t){var e=this.get(\"styles\");if(e){var n=t;return n.style=Object(L.__assign)(Object(L.__assign)({},e),t.style),n}return t},Gn.prototype.getStateStyle=function(t){var e=this.get(\"styles\");return e&&e[t]},Gn.prototype.getOriginStyle=function(){return this.get(\"originStyle\")},Gn.prototype.getCurrentStatesStyle=function(){var e=this,n={};return Object(ot.each)(e.getStates(),function(t){n=Object.assign(n,e.getStateStyle(t))}),n},Gn.prototype.setState=function(t,e){var n=this.get(\"states\"),r=this.get(\"shapeFactory\"),i=t,o=t;Object(ot.isString)(e)&&(i=t+\":\"+e,o=t+\":\");var a,s,u,c=n;if(Object(ot.isBoolean)(e)){var h=n.indexOf(o);if(e){if(-1<h)return;n.push(i)}else-1<h&&n.splice(h,1)}else{Object(ot.isString)(e)&&(0<(a=n.filter(function(t){return t.includes(o)})).length&&this.clearStates(a),(c=c.filter(function(t){return!t.includes(o)})).push(i),this.set(\"states\",c))}r&&(u=(s=this.get(\"model\")).shape||s.type,r.setState(u,t,e,this))},Gn.prototype.clearStates=function(e){var n=this,t=n.getStates(),r=n.get(\"shapeFactory\"),i=n.get(\"model\"),o=i.shape||i.type;e=e||t,Object(ot.isString)(e)&&(e=[e]);var a=t.filter(function(t){return-1===e.indexOf(t)});n.set(\"states\",a),e.forEach(function(t){r.setState(o,t,!1,n)})},Gn.prototype.getContainer=function(){return this.get(\"group\")},Gn.prototype.getKeyShape=function(){return this.get(\"keyShape\")},Gn.prototype.getModel=function(){return this.get(\"model\")},Gn.prototype.getType=function(){return this.get(\"type\")},Gn.prototype.getID=function(){return this.get(\"id\")},Gn.prototype.isItem=function(){return!0},Gn.prototype.getStates=function(){return this.get(\"states\")},Gn.prototype.hasState=function(t){return 0<=this.getStates().indexOf(t)},Gn.prototype.refresh=function(){var t=this.get(\"model\");this.updatePosition(t),this.updateShape(),this.afterUpdate(),this.clearCache()},Gn.prototype.isOnlyMove=function(t){return!1},Gn.prototype.update=function(t){var e=this.get(\"model\"),n=e.visible,r=t.visible;n!==r&&void 0!==r&&this.changeVisibility(r);var i=e.x,o=e.y;t.x=isNaN(t.x)?e.x:t.x,t.y=isNaN(t.y)?e.y:t.y;var a,s=this.get(\"styles\");t.stateStyles&&(a=t.stateStyles,Object(ot.mix)(s,a),delete t.stateStyles),Object.assign(e,t),this.isOnlyMove(t)?this.updatePosition(t):(i===t.x&&o===t.y||this.updatePosition(t),this.updateShape()),this.afterUpdate(),this.clearCache()},Gn.prototype.updateShape=function(){var t,e=this.get(\"shapeFactory\"),n=this.get(\"model\"),r=n.shape||n.type;e.shouldUpdate(r)&&r===this.get(\"currentShape\")?(t=this.getShapeCfg(n),e.baseUpdate(r,t,this)):this.draw(),this.setOriginStyle(n),this.restoreStates(e,r)},Gn.prototype.updatePosition=function(t){var e=this.get(\"model\"),n=Object(ot.isNil)(t.x)?e.x:t.x,r=Object(ot.isNil)(t.y)?e.y:t.y,i=this.get(\"group\");Object(ot.isNil)(n)||Object(ot.isNil)(r)||(i.resetMatrix(),Rt(i,{x:n,y:r}),e.x=n,e.y=r,this.clearCache())},Gn.prototype.getBBox=function(){var t=this.get(\"bboxCache\");return t||(t=this.calculateBBox(),this.set(\"bboxCache\",t)),t},Gn.prototype.getCanvasBBox=function(){var t=this.get(\"bboxCanvasCache\");return t||(t=this.calculateCanvasBBox(),this.set(\"bboxCanvasCache\",t)),t},Gn.prototype.toFront=function(){this.get(\"group\").toFront()},Gn.prototype.toBack=function(){this.get(\"group\").toBack()},Gn.prototype.show=function(){this.changeVisibility(!0)},Gn.prototype.hide=function(){this.changeVisibility(!1)},Gn.prototype.changeVisibility=function(t){var e=this.get(\"group\");t?e.show():e.hide(),this.set(\"visible\",t)},Gn.prototype.isVisible=function(){return this.get(\"visible\")},Gn.prototype.enableCapture=function(t){var e=this.get(\"group\");e&&e.set(\"capture\",t)},Gn.prototype.destroy=function(){var t,e;this.destroyed||(t=this.get(\"animate\"),e=this.get(\"group\"),t&&e.stopAnimate(),this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0)},Gn),kn={source:\"start\",target:\"end\"},En=(on=Cn,Object(L.__extends)(Xn,on),Xn.prototype.getDefaultCfg=function(){return{type:\"edge\",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},Xn.prototype.setEnd=function(t,e){var n=kn[t]+\"Point\",r=t+\"Node\",i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),Object(ot.isPlainObject)(e)?(this.set(n,e),this.set(r,null)):(e.addEdge(this),this.set(r,e),this.set(n,null))},Xn.prototype.getLinkPoint=function(t,e,n){var r,i,o,a,s=kn[t]+\"Point\",u=t+\"Node\",c=this.get(s);return c||(r=this.get(u),i=t+\"Anchor\",o=this.getPrePoint(t,n),a=e[i],Object(ot.isNil)(a)||(c=r.getLinkPointByAnchor(a)),c=c||r.getLinkPoint(o),Object(ot.isNil)(c.index)||this.set(t+\"AnchorIndex\",c.index)),c},Xn.prototype.getPrePoint=function(t,e){if(e&&e.length)return e[\"source\"===t?0:e.length-1];var n=\"source\"===t?\"target\":\"source\";return this.getEndPoint(n)},Xn.prototype.getEndPoint=function(t){var e=t+\"Node\",n=kn[t]+\"Point\",r=this.get(e);return r?r.get(\"model\"):this.get(n)},Xn.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint(\"source\"),n=this.getEndPoint(\"target\"),r=this.get(\"shapeFactory\"),i=t.shape||t.type;return r.getControlPoints(i,{startPoint:e,endPoint:n})},Xn.prototype.getEndCenter=function(t){var e=t+\"Node\",n=kn[t]+\"Point\",r=this.get(e);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},Xn.prototype.init=function(){on.prototype.init.call(this),this.setSource(this.get(\"source\")),this.setTarget(this.get(\"target\"))},Xn.prototype.getShapeCfg=function(t){var e,n=this.get(\"linkCenter\"),r=on.prototype.getShapeCfg.call(this,t);return n?(r.startPoint=this.getEndCenter(\"source\"),r.endPoint=this.getEndCenter(\"target\")):(e=r.controlPoints||this.getControlPointsByCenter(r),r.startPoint=this.getLinkPoint(\"source\",t,e),r.endPoint=this.getLinkPoint(\"target\",t,e)),r.sourceNode=this.get(\"sourceNode\"),r.targetNode=this.get(\"targetNode\"),r},Xn.prototype.getModel=function(){var t=this.get(\"model\"),e=this.get(\"sourceNode\"),n=this.get(\"targetNode\");return e?delete t.sourceNode:t.source=this.get(\"startPoint\"),n?delete t.targetNode:t.target=this.get(\"endPoint\"),Object(ot.isString)(t.source)||Object(ot.isPlainObject)(t.source)||(t.source=t.source.getID()),Object(ot.isString)(t.target)||Object(ot.isPlainObject)(t.target)||(t.target=t.target.getID()),t},Xn.prototype.setSource=function(t){this.setEnd(\"source\",t),this.set(\"source\",t)},Xn.prototype.setTarget=function(t){this.setEnd(\"target\",t),this.set(\"target\",t)},Xn.prototype.getSource=function(){return this.get(\"source\")},Xn.prototype.getTarget=function(){return this.get(\"target\")},Xn.prototype.updatePosition=function(){},Xn.prototype.update=function(t){var e=this.get(\"model\"),n=e.visible,r=t.visible;n!==r&&void 0!==r&&this.changeVisibility(r),Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},Xn.prototype.destroy=function(){var t=this.get(\"sourceNode\"),e=this.get(\"targetNode\");t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),on.prototype.destroy.call(this)},Xn),jn=n(20),Pn=n.n(jn),In=(rn=Cn,Object(L.__extends)(Fn,rn),Fn.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=Nt(t[0],e),o=0;o<t.length;o++){var a=t[o],s=Nt(a,e);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},Fn.prototype.getDefaultCfg=function(){return{type:\"node\",edges:[]}},Fn.prototype.getEdges=function(){return this.get(\"edges\")},Fn.prototype.getInEdges=function(){var e=this;return this.get(\"edges\").filter(function(t){return t.get(\"target\")===e})},Fn.prototype.getOutEdges=function(){var e=this;return this.get(\"edges\").filter(function(t){return t.get(\"source\")===e})},Fn.prototype.getNeighbors=function(t){var e=this,n=this.get(\"edges\");return\"target\"===t?n.filter(function(t){return t.getSource()===e}).map(function(t){return t.getTarget()}):\"source\"===t?n.filter(function(t){return t.getTarget()===e}).map(function(t){return t.getSource()}):n.map(function(t){return t.getSource()===e?t.getTarget():t.getSource()})},Fn.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},Fn.prototype.getLinkPoint=function(t){var e,n,r=this.get(\"keyShape\").get(\"type\"),i=this.get(\"type\"),o=this.getBBox(),a=\"combo\"===i?(e=(o.maxX+o.minX)/2,(o.maxY+o.minY)/2):(e=o.centerX,o.centerY),s=this.getAnchorPoints();switch(r){case\"circle\":n=jt({x:e,y:a,r:o.width/2},t);break;case\"ellipse\":n=Pt({x:e,y:a,rx:o.width/2,ry:o.height/2},t);break;default:n=Et(o,t)}var u=n;return s.length&&(u=u||t,u=this.getNearestPoint(s,u)),u=u||{x:e,y:a}},Fn.prototype.getAnchorPoints=function(){var t,r,e,n,i,o,a=this.get(\"anchorPointsCache\");return a||(a=[],t=this.get(\"shapeFactory\"),r=this.getBBox(),e=this.get(\"model\"),n=this.getShapeCfg(e),i=e.shape||e.type,o=t.getAnchorPoints(i,n)||[],m()(o,function(t,e){var n=Pn()({x:r.minX+t[0]*r.width,y:r.minY+t[1]*r.height},t[2],{index:e});a.push(n)}),this.set(\"anchorPointsCache\",a)),a},Fn.prototype.addEdge=function(t){this.get(\"edges\").push(t)},Fn.prototype.lock=function(){this.set(\"locked\",!0)},Fn.prototype.unlock=function(){this.set(\"locked\",!1)},Fn.prototype.hasLocked=function(){return this.get(\"locked\")},Fn.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);-1<n&&e.splice(n,1)},Fn.prototype.clearCache=function(){this.set(\"bboxCache\",null),this.set(\"anchorPointsCache\",null)},Fn.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!S()(t.x),n=!S()(t.y),r=Object.keys(t);return 1===r.length&&(e||n)||2===r.length&&e&&n},Fn),An=(nn=In,Object(L.__extends)(Yn,nn),Yn.prototype.getDefaultCfg=function(){return{type:\"combo\",nodes:[],edges:[],combos:[]}},Yn.prototype.getShapeCfg=function(t){var e=this.get(\"styles\"),n=this.get(\"bbox\");if(e){var r=t,i={r:Math.hypot(n.height,n.width)/2||F.defaultCombo.size[0]/2,width:n.width||F.defaultCombo.size[0],height:n.height||F.defaultCombo.size[1]};r.style=Object(L.__assign)(Object(L.__assign)(Object(L.__assign)({},e),t.style),i);var o=t.padding||F.defaultCombo.padding;return A()(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set(\"sizeCache\",i),r}return t},Yn.prototype.calculateCanvasBBox=function(){var t=this.get(\"keyShape\"),e=this.get(\"group\"),n=fn(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get(\"sizeCache\");return r?(\"circle\"===t.get(\"type\")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2):(n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2),n},Yn.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},Yn.prototype.getNodes=function(){return this.get(\"nodes\")},Yn.prototype.getCombos=function(){return this.get(\"combos\")},Yn.prototype.addChild=function(t){switch(t.getType()){case\"node\":this.addNode(t);break;case\"combo\":this.addCombo(t);break;default:return console.warn(\"Only node or combo items are allowed to be added into a combo\"),!1}return!0},Yn.prototype.addCombo=function(t){return this.get(\"combos\").push(t),!0},Yn.prototype.addNode=function(t){return this.get(\"nodes\").push(t),!0},Yn.prototype.removeChild=function(t){switch(t.getType()){case\"node\":this.removeNode(t);break;case\"combo\":this.removeCombo(t);break;default:return console.warn(\"Only node or combo items are allowed to be added into a combo\"),!1}return!0},Yn.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return-1<n&&(e.splice(n,1),!0)}},Yn.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return-1<n&&(e.splice(n,1),!0)}},Yn.prototype.isOnlyMove=function(t){return!1},Yn.prototype.getBBox=function(){return this.set(\"bboxCanvasCache\",null),this.calculateCanvasBBox()},Yn.prototype.clearCache=function(){this.set(\"bboxCache\",null),this.set(\"bboxCanvasCache\",null),this.set(\"anchorPointsCache\",null)},Yn.prototype.destroy=function(){var t,e;this.destroyed||(t=this.get(\"animate\"),e=this.get(\"group\"),t&&e.stopAnimate(),this.clearCache(),this.set(\"sizeCache\",null),this.set(\"bbox\",null),e.remove(),this._cfg=null,this.destroyed=!0)},Yn),Tn=Object.hasOwnProperty,Nn=(zn.prototype.addItem=function(t,n){var e=this,r=this.graph,i=\"vedge\"===t?\"edge\":t,o=r.get(i+\"Group\")||r.get(\"group\"),a=Fe()(i),s=null,u=r.get(i+Fe()(\"stateStyles\"))||{},c=r.get(\"default\"+a);n.stateStyles&&(u=n.stateStyles);var h,l,f,d,p,g=r.get(i+\"Mapper\");if(g?((h=g(n)).stateStyles&&(u=h.stateStyles,delete h.stateStyles),n=gt()({},c,n,h)):c&&m()(c,function(t,e){Tn.call(n,e)||(ze()(t)?n[e]=Le()(t):n[e]=c[e])}),n.shape&&!n.type&&console.warn(\"shape 字段即将被废弃，请使用 type 代替\"),r.emit(\"beforeadditem\",{type:t,model:n}),\"edge\"===t||\"vedge\"===t){var v=void 0,y=void 0,v=n.source,y=n.target;if(v&&T()(v)&&(v=r.findById(v)),y&&T()(y)&&(y=r.findById(y)),!v||!y)return void console.warn(\"The source or target node of edge \"+n.id+\" does not exist!\");v.getType&&\"combo\"===v.getType()&&(n.isComboEdge=!0,r.updateCombo(v)),y.getType&&\"combo\"===y.getType()&&(n.isComboEdge=!0,r.updateCombo(y)),s=new En({model:n,source:v,target:y,styles:u,linkCenter:r.get(\"linkCenter\"),group:o.addGroup()})}else{\"node\"===t?s=new In({model:n,styles:u,group:o.addGroup()}):\"combo\"===t&&(l=n.children,f=_n(l,r),n.x=f.x||n.x||100*Math.random(),n.y=f.y||n.y||100*Math.random(),(d=o.addGroup()).setZIndex(n.depth),p=(s=new An({model:n,styles:u,bbox:f,group:d})).getModel(),(l||[]).forEach(function(t){var e=r.findById(t.id);s.addChild(e),t.depth=p.depth+2}),n.collapsed&&setTimeout(function(){r.collapseCombo(s),e.updateCombo(s,[])},250))}if(s)return r.get(t+\"s\").push(s),r.get(\"itemMap\")[s.get(\"id\")]=s,r.emit(\"afteradditem\",{item:s,model:n}),s},zn.prototype.updateItem=function(t,n){var e,r,i,o,a,s,u,c,h=this.graph;T()(t)&&(t=h.findById(t)),t&&!t.destroyed&&(e=\"\",t.getType&&(e=t.getType()),r=h.get(e+\"Mapper\"),i=t.getModel(),r?(o=r(gt()({},i,n)),a=gt()({},i,o,n),o.stateStyles&&(t.set(\"styles\",a.stateStyles),delete a.stateStyles),m()(a,function(t,e){n[e]=t})):m()(n,function(t,e){i[e]&&ze()(t)&&!I()(t)&&(n[e]=Object(L.__assign)(Object(L.__assign)({},i[e]),n[e]))}),h.emit(\"beforeupdateitem\",{item:t,cfg:n}),\"edge\"===e&&(n.source&&(s=n.source,T()(s)&&(s=h.findById(s)),t.setSource(s)),n.target&&(u=n.target,T()(u)&&(u=h.findById(u)),t.setTarget(u))),t.update(n),\"node\"!==e&&\"combo\"!==e||(c=t.getEdges(),m()(c,function(t){t.refresh()})),h.emit(\"afterupdateitem\",{item:t,cfg:n}))},zn.prototype.updateCombo=function(t,e){var n=this.graph;if(T()(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=_n(e,n);t.set(\"bbox\",r),t.update({x:r.x,y:r.y});for(var i=t.getEdges()||[],o=i.length,a=0;a<o;a++){var s=i[a];null==s||s.refresh()}}},zn.prototype.collapseCombo=function(t){var e=this.graph;T()(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach(function(t){e.hideItem(t)}),n.combos.forEach(function(t){e.hideItem(t)})},zn.prototype.expandCombo=function(t){var e=this.graph;T()(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach(function(t){e.showItem(t)}),n.combos.forEach(function(t){t.getModel().collapsed?t.show():e.showItem(t)})},zn.prototype.removeItem=function(t){var e=this,n=this.graph;if(T()(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=Le()(t.getModel());n.emit(\"beforeremoveitem\",{item:r});var i=\"\";t.getType&&(i=t.getType());var o,a,s=n.get(i+\"s\"),u=s.indexOf(t);-1<u&&s.splice(u,1),\"edge\"===i&&-1<(a=(o=n.get(\"v\"+i+\"s\")).indexOf(t))&&o.splice(a,1);var c=t.get(\"id\");delete n.get(\"itemMap\")[c];var h=n.get(\"comboTrees\"),l=t.get(\"id\");if(\"node\"===i){var f,d,p=t.getModel().comboId;h&&(d=!1,(f=h).forEach(function(t){d||yn(t,function(t){if(t.id===l&&f){var e=f.indexOf(t);return f.splice(e,1),!(d=!0)}return f=t.children,!0})}));for(var g=(y=t.getEdges()).length-1;0<=g;g--)n.removeItem(y[g],!1);p&&n.updateCombo(p)}else if(\"combo\"===i){var v,y,m=t.getModel().parentId,b=!1;for((h||[]).forEach(function(t){b||yn(t,function(t){return t.id!==l||(v=t,!(b=!0))})}),v.removed=!0,v&&v.children&&v.children.forEach(function(t){e.removeItem(t.id)}),g=(y=t.getEdges()).length;0<=g;g--)n.removeItem(y[g],!1);m&&n.updateCombo(m)}t.destroy(),n.emit(\"afterremoveitem\",{item:r})}},zn.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;T()(n)&&(i=e+\":\"+n),t.hasState(i)===n||T()(n)&&t.hasState(i)||(r.emit(\"beforeitemstatechange\",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit(\"afteritemstatechange\",{item:t,state:i,enabled:n}))},zn.prototype.priorityState=function(t,e){var n=this.graph,r=t;T()(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},zn.prototype.clearItemStates=function(t,e){var n=this.graph;T()(t)&&(t=n.findById(t)),n.emit(\"beforeitemstatesclear\",{item:t,states:e}),t.clearStates(e),n.emit(\"afteritemstatesclear\",{item:t,states:e})},zn.prototype.refreshItem=function(t){var e=this.graph;T()(t)&&(t=e.findById(t)),e.emit(\"beforeitemrefresh\",{item:t}),t.refresh(),e.emit(\"afteritemrefresh\",{item:t})},zn.prototype.addCombos=function(t,r){var i=this,e=this.graph;(t||[]).forEach(function(t){mn(t,function(e){var n;return r.forEach(function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,n=t)}),n&&i.addItem(\"combo\",n),!0})});var n=e.get(\"comboGroup\");n&&n.sort()},zn.prototype.changeItemVisibility=function(t,n){var e,r,i,o,a,s=this,u=this.graph;if(T()(t)&&(t=u.findById(t)),t)return u.emit(\"beforeitemvisibilitychange\",{item:t,visible:n}),t.changeVisibility(n),t.getType&&\"node\"===t.getType()?(e=t.getEdges(),m()(e,function(t){(!n||t.get(\"source\").isVisible()&&t.get(\"target\").isVisible())&&s.changeItemVisibility(t,n)})):t.getType&&\"combo\"===t.getType()&&(r=u.get(\"comboTrees\"),i=t.get(\"id\"),a=!(o=[]),(r||[]).forEach(function(t){a||t.children&&0!==t.children.length&&yn(t,function(t){return t.id!==i||(o=t.children,!(a=!0))})}),o.forEach(function(t){var e=u.findById(t.id);s.changeItemVisibility(e,n)}),e=t.getEdges(),m()(e,function(t){(!n||t.get(\"source\").isVisible()&&t.get(\"target\").isVisible())&&s.changeItemVisibility(t,n)})),u.emit(\"afteritemvisibilitychange\",{item:t,visible:n}),t;console.warn(\"The item to be shown or hidden does not exist!\")},zn.prototype.destroy=function(){this.graph=null,this.destroyed=!0},zn),Bn=(Rn.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},Rn.prototype.execute=function(){},Rn.prototype.layout=function(t){this.init(t),this.execute()},Rn.prototype.getDefaultCfg=function(){return{}},Rn.prototype.updateCfg=function(t){Pn()(this,t)},Rn.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},Rn),Dn={registerLayout:function(t,o,e){if(void 0===e&&(e=Bn),!o)throw new Error(\"please specify handler for this layout: \"+t);var a,n=(a=e,Object(L.__extends)(r,a),r);function r(t){var e=a.call(this)||this,n=e,r={},i=n.getDefaultCfg();return Pn()(r,i,o,t),m()(r,function(t,e){n[e]=t}),e}Dn[t]=n}},Ln=Dn;function Rn(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}function zn(t){this.graph=t,this.destroyed=!1}function Yn(){return null!==nn&&nn.apply(this,arguments)||this}function Fn(){return null!==rn&&rn.apply(this,arguments)||this}function Xn(){return null!==on&&on.apply(this,arguments)||this}function Gn(t){this._cfg={},this.destroyed=!1;this._cfg=Object.assign({id:void 0,type:\"item\",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]},this.getDefaultCfg(),t);var e=this.get(\"model\").id;e||(e=Object(ot.uniqueId)(this.get(\"type\")),this.get(\"model\").id=e),this.set(\"id\",e);var n=t.group;n&&(n.set(\"item\",this),n.set(\"id\",e)),this.init(),this.draw()}function Vn(t,e){return t.degree<e.degree?-1:t.degree>e.degree?1:0}var qn,Hn,Wn,Un=(Wn=Bn,Object(L.__extends)(er,Wn),er.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},er.prototype.execute=function(){var t=this.nodes,e=this.edges,n=t.length,r=this.center;if(0!==n){if(1===n)return t[0].x=r[0],void(t[0].y=r[1]);var i=this.radius,o=this.startRadius,a=this.endRadius,s=this.divisions,u=this.startAngle,c=this.endAngle,h=(c-u)/n,l={};t.forEach(function(t,e){l[t.id]=e}),this.nodeMap=l;var f=Xt(t.length,l,e);this.degrees=f,this.width||\"undefined\"==typeof window||(this.width=window.innerWidth),this.height||\"undefined\"==typeof window||(this.height=window.innerHeight),i||o||a?!o&&a?o=a:o&&!a&&(a=o):i=this.height>this.width?this.width/2:this.height/2;var d=h*this.angleRatio;this.astep=d;for(var p=this.ordering,g=[],g=\"topology\"===p?this.topologyOrdering():\"topology-directed\"===p?this.topologyOrdering(!0):\"degree\"===p?this.degreeOrdering():t,v=this.clockwise,y=Math.ceil(n/s),m=0;m<n;++m){var b=i;b||null===o||null===a||(b=o+m*(a-o)/(n-1)),b=b||10+100*m/(n-1);var x=u+m%y*d+2*Math.PI/s*Math.floor(m/y);v||(x=c-m%y*d-2*Math.PI/s*Math.floor(m/y)),g[m].x=r[0]+Math.cos(x)*b,g[m].y=r[1]+Math.sin(x)*b,g[m].weight=f[m]}}},er.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var r,e,i,n,s=this.degrees,u=this.edges,c=this.nodes,h=Object(ot.clone)(c),l=this.nodeMap,f=[h[0]],d=[c[0]],p=[],g=c.length;p[0]=!0,e=u,i=l,n=t,(r=h).forEach(function(t,e){r[e].children=[],r[e].parent=[]}),n?e.forEach(function(t){var e=0;t.source&&(e=i[t.source]);var n=0;t.target&&(n=i[t.target]),r[e].children.push(r[n].id),r[n].parent.push(r[e].id)}):e.forEach(function(t){var e=0;t.source&&(e=i[t.source]);var n=0;t.target&&(n=i[t.target]),r[e].children.push(r[n].id),r[n].children.push(r[e].id)});var v=0;return h.forEach(function(t,e){if(0!==e)if(e!==g-1&&s[e]===s[e+1]&&!function(t,e,n){for(var r=n.length,i=0;i<r;i++)if(t.id===n[i].source&&e.id===n[i].target||e.id===n[i].source&&t.id===n[i].target)return 1}(f[v],t,u)||!0===p[e]){for(var n=f[v].children,r=!1,i=0;i<n.length;i++){var o=l[n[i]];if(s[o]===s[e]&&!0!==p[o]){f.push(h[o]),d.push(c[l[h[o].id]]),r=p[o]=!0;break}}for(var a=0;!r&&(p[a]||(f.push(h[a]),d.push(c[l[h[a].id]]),r=p[a]=!0),++a!==g););}else f.push(t),d.push(c[l[t.id]]),p[e]=!0,v++}),d},er.prototype.degreeOrdering=function(){var t=this.nodes,n=[],r=this.degrees;return t.forEach(function(t,e){t.degree=r[e],n.push(t)}),n.sort(Vn),n},er),Zn=(Hn=Bn,Object(L.__extends)(tr,Hn),tr.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:\"degree\"}},tr.prototype.execute=function(){var a=this,t=a.nodes,e=a.edges,n=t.length,o=a.center;if(0!==n){if(1===n)return t[0].x=o[0],void(t[0].y=o[1]);var r=[],i=I()(a.nodeSize)?Math.max(a.nodeSize[0],a.nodeSize[1]):a.nodeSize;t.forEach(function(t){r.push(t);var e=i;I()(t.size)?e=Math.max(t.size[0],t.size[1]):Object(ot.isNumber)(t.size)&&(e=t.size),i=Math.max(i,e)}),a.width||\"undefined\"==typeof window||(a.width=window.innerWidth),a.height||\"undefined\"==typeof window||(a.height=window.innerHeight),a.clockwise=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise;var s,u={},c={};r.forEach(function(t,e){u[t.id]=t,c[t.id]=e}),\"degree\"!==a.sortBy&&T()(a.sortBy)&&void 0!==r[0][a.sortBy]||(a.sortBy=\"degree\",Object(ot.isNumber)(t[0].degree))||(s=Xt(t.length,c,e),r.forEach(function(t,e){t.degree=s[e]})),r.sort(function(t,e){return e[a.sortBy]-t[a.sortBy]}),a.maxValueNode=r[0],a.maxLevelDiff=a.maxLevelDiff||a.maxValueNode[a.sortBy]/4;var h=[[]],l=h[0];r.forEach(function(t){var e;0<l.length&&(e=Math.abs(l[0][a.sortBy]-t[a.sortBy]),a.maxLevelDiff&&e>=a.maxLevelDiff&&(l=[],h.push(l))),l.push(t)});var f,d,p=i+a.minNodeSpacing;a.preventOverlap||(f=0<h.length&&1<h[0].length,d=(Math.min(a.width,a.height)/2-p)/(h.length+(f?1:0)),p=Math.min(p,d));var g=0;if(h.forEach(function(t){var e=a.sweep;void 0===e&&(e=2*Math.PI-2*Math.PI/t.length);var n,r,i,o=t.dTheta=e/Math.max(1,t.length-1);1<t.length&&a.preventOverlap&&(n=Math.cos(o)-Math.cos(0),r=Math.sin(o)-Math.sin(0),i=Math.sqrt(p*p/(n*n+r*r)),g=Math.max(i,g)),t.r=g,g+=p}),a.equidistant){for(var v=0,y=0,m=0;m<h.length;m++)var b=h[m].r-y,v=Math.max(v,b);y=0,h.forEach(function(t,e){0===e&&(y=t.r),t.r=y,y+=v})}h.forEach(function(t){var r=t.dTheta,i=t.r;t.forEach(function(t,e){var n=a.startAngle+(a.clockwise?1:-1)*r*e;t.x=o[0]+i*Math.cos(n),t.y=o[1]+i*Math.sin(n)})})}},tr),$n=n(152),Kn=n.n($n),Qn=(qn=Bn,Object(L.__extends)(Jn,qn),Jn.prototype.getDefaultCfg=function(){return{rankdir:\"TB\",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},Jn.prototype.execute=function(){var n,a,s,r,u,c,i=this,o=i.nodes,t=i.nodeSize,e=i.rankdir;o&&(n=i.edges||[],a=new Kn.a.graphlib.Graph,s=t?I()(t)?function(){return t}:function(){return[t,t]}:function(t){return t.size?I()(t.size)?t.size:[t.size,t.size]:[40,40]},u=nr(i.nodesepFunc,i.nodesep,50),c=nr(i.ranksepFunc,i.ranksep,50),\"LR\"!==e&&\"RL\"!==e||(u=nr(i.ranksepFunc,i.ranksep,50),c=nr(i.nodesepFunc,i.nodesep,50)),a.setDefaultEdgeLabel(function(){return{}}),a.setGraph(i),o.forEach(function(t){var e=s(t),n=c(t),r=u(t),i=e[0]+2*r,o=e[1]+2*n;a.setNode(t.id,{width:i,height:o})}),n.forEach(function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})}),Kn.a.layout(a),a.nodes().forEach(function(e){r=a.node(e);var t=o.findIndex(function(t){return t.id===e});o[t].x=r.x,o[t].y=r.y}),a.edges().forEach(function(e){r=a.edge(e);var t=n.findIndex(function(t){return t.source===e.v&&t.target===e.w});i.controlPoints&&\"loop\"!==n[t].type&&\"loop\"!==n[t].shape&&(n[t].controlPoints=r.points.slice(1,r.points.length-1))}),i.sortByCombo&&i.sortLevel(\"comboId\"))},Jn.prototype.sortLevel=function(s){var t=this.nodes,u={};t.forEach(function(t){u[t.y]||(u[t.y]={y:t.y,nodes:[]}),u[t.y].nodes.push(t)}),Object.keys(u).forEach(function(t){var e,n,r,i=u[t].nodes,o=i.length,a={};i.forEach(function(t){var e=t.comboId;a[e]||(a[e]={x:0,y:0,count:0}),a[e].x+=t.x,a[e].y+=t.y,a[e].count++}),Object.keys(a).forEach(function(t){a[t].x/=a[t].count,a[t].y/=a[t].count}),1!==o&&(e=i.sort(function(t,e){return t.x-e.x}),n=e[0].x,r=(e[o-1].x-n)/(o-1),i.sort(function(t,e){var n=t[s]||\"undefined\",r=e[s]||\"undefined\";return n<r?-1:r<n?1:0}).forEach(function(t,e){t.x=n+e*r}))})},Jn);function Jn(){var t=null!==qn&&qn.apply(this,arguments)||this;return t.rankdir=\"TB\",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}function tr(){var t=null!==Hn&&Hn.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=1.5*Math.PI,t.clockwise=!0,t.sortBy=\"degree\",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}function er(){var t=null!==Wn&&Wn.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}function nr(t,e,n){return t||(Object(ot.isNumber)(e)?function(){return e}:function(){return n})}function rr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,h,l,f,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+y)/2))?g=o:y=o,(h=n>=(a=(v+m)/2))?v=a:m=a,!(d=(i=d)[l=h<<1|c]))return i[l]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[l]=p:t._root=p,t;for(;i=i?i[l]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+y)/2))?g=o:y=o,(h=n>=(a=(v+m)/2))?v=a:m=a,(l=h<<1|c)==(f=(a<=u)<<1|o<=s););return i[f]=d,i[l]=p,t}function ir(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function or(t){return t[0]}function ar(t){return t[1]}function sr(t,e,n){var r=new ur(null==e?or:e,null==n?ar:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ur(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function cr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var hr=sr.prototype=ur.prototype;hr.copy=function(){var t,e,n=new ur(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=cr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=cr(e));return n},hr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return rr(this.cover(e,n),e,n,t)},hr.addAll=function(t){for(var e,n,r,i=t.length,o=new Array(i),a=new Array(i),s=1/0,u=1/0,c=-1/0,h=-1/0,l=0;l<i;++l)isNaN(n=+this._x.call(null,e=t[l]))||isNaN(r=+this._y.call(null,e))||((o[l]=n)<s&&(s=n),c<n&&(c=n),(a[l]=r)<u&&(u=r),h<r&&(h=r));if(c<s||h<u)return this;for(this.cover(s,u).cover(c,h),l=0;l<i;++l)rr(this,o[l],a[l],t[l]);return this},hr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n||1,c=this._root;t<n||i<=t||e<r||o<=e;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},hr.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},hr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},hr.find=function(t,e,n){var r,i,o,a,s,u,c,h,l,f,d,p,g,v=this._x0,y=this._y0,m=this._x1,b=this._y1,x=[],w=this._root;for(w&&x.push(new ir(w,v,y,m,b)),null==n?n=1/0:(v=t-n,y=e-n,m=t+n,b=e+n,n*=n);s=x.pop();){!(w=s.node)||(r=s.x0)>m||(i=s.y0)>b||(o=s.x1)<v||(a=s.y1)<y||(w.length?(c=(r+o)/2,h=(i+a)/2,x.push(new ir(w[3],c,h,o,a),new ir(w[2],r,h,c,a),new ir(w[1],c,i,o,h),new ir(w[0],r,i,c,h)),(u=(h<=e)<<1|c<=t)&&(s=x[x.length-1],x[x.length-1]=x[x.length-1-u],x[x.length-1-u]=s)):(d=(l=t-this._x.call(null,w.data))*l+(f=e-this._y.call(null,w.data))*f)<n&&(v=t-(p=Math.sqrt(n=d)),y=e-p,m=t+p,b=e+p,g=w.data))}return g},hr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,h,l,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+v)/2))?p=s:v=s,(h=a>=(u=(g+y)/2))?g=u:y=u,!(d=(e=d)[l=h<<1|c]))return this;if(!d.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,f=l)}for(;d.data!==t;)if(!(d=(r=d).next))return this;return(i=d.next)&&delete d.next,r?i?r.next=i:delete r.next:e?(i?e[l]=i:delete e[l],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d)):this._root=i,this},hr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},hr.root=function(){return this._root},hr.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},hr.visit=function(t){var e,n,r,i,o,a,s,u,c=[],h=this._root;for(h&&c.push(new ir(h,this._x0,this._y0,this._x1,this._y1));e=c.pop();){!t(h=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&h.length&&(s=(r+o)/2,u=(i+a)/2,(n=h[3])&&c.push(new ir(n,s,u,o,a)),(n=h[2])&&c.push(new ir(n,r,u,s,a)),(n=h[1])&&c.push(new ir(n,s,i,o,u)),(n=h[0])&&c.push(new ir(n,r,i,s,u)))}return this},hr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ir(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i,o,a,s,u,c,h,l=e.node;l.length&&(o=e.x0,a=e.y0,c=(o+(s=e.x1))/2,h=(a+(u=e.y1))/2,(i=l[0])&&n.push(new ir(i,o,a,c,h)),(i=l[1])&&n.push(new ir(i,c,a,s,h)),(i=l[2])&&n.push(new ir(i,o,h,c,u)),(i=l[3])&&n.push(new ir(i,c,h,s,u))),r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},hr.x=function(t){return arguments.length?(this._x=t,this):this._x},hr.y=function(t){return arguments.length?(this._y=t,this):this._y};function lr(t){return function(){return t}}function fr(t){return 1e-6*(t()-.5)}var dr={value:function(){}};function pr(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+\"\")||t in r||/[\\s.]/.test(t))throw new Error(\"illegal type: \"+t);r[t]=[]}return new gr(r)}function gr(t){this._=t}function vr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=dr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}gr.prototype=pr.prototype={constructor:gr,on:function(t,e){var n,r,i=this._,o=(r=i,(t+\"\").trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&\"function\"!=typeof e)throw new Error(\"invalid callback: \"+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=vr(i[n],t.name,e);else if(null==e)for(n in i)i[n]=vr(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new gr(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var yr=pr;function mr(t){return(mr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var br,xr,wr=0,Mr=0,Sr=0,_r=0,Or=0,Cr=0,kr=\"object\"===(\"undefined\"==typeof performance?\"undefined\":mr(performance))&&performance.now?performance:Date,Er=\"object\"===(\"undefined\"==typeof window?\"undefined\":mr(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jr(){return Or||(Er(Pr),Or=kr.now()+Cr)}function Pr(){Or=0}function Ir(){this._call=this._time=this._next=null}function Ar(t,e,n){var r=new Ir;return r.restart(t,e,n),r}function Tr(){Or=(_r=kr.now())+Cr,wr=Mr=0;try{!function(){jr(),++wr;for(var t,e=br;e;)0<=(t=Or-e._time)&&e._call.call(null,t),e=e._next;--wr}()}finally{wr=0,function(){for(var t,e,n=br,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:br=e);xr=t,Br(r)}(),Or=0}}function Nr(){var t=kr.now(),e=t-_r;1e3<e&&(Cr-=e,_r=t)}function Br(t){wr||(Mr=Mr&&clearTimeout(Mr),24<t-Or?(t<1/0&&(Mr=setTimeout(Tr,t-kr.now()-Cr)),Sr=Sr&&clearInterval(Sr)):(Sr||(_r=kr.now(),Sr=setInterval(Nr,1e3)),wr=1,Er(Tr)))}function Dr(t){return t.x}function Lr(t){return t.y}Ir.prototype=Ar.prototype={constructor:Ir,restart:function(t,e,n){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");n=(null==n?jr():+n)+(null==e?0:+e),this._next||xr===this||(xr?xr._next=this:br=this,xr=this),this._call=t,this._time=n,Br()},stop:function(){this._call&&(this._call=null,this._time=1/0,Br())}};var Rr=Math.PI*(3-Math.sqrt(5));function zr(t){return(zr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Yr(t){return t.index}function Fr(t,e){var n=t.get(e);if(!n)throw new Error(\"node not found: \"+e);return n}function Xr(t){return t.x+t.vx}function Gr(t){return t.y+t.vy}var Vr,qr=n(12),Hr=n.n(qr),Wr=\"LAYOUT_TICK\",Ur=(Vr=Bn,Object(L.__extends)(Zr,Vr),Zr.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},Zr.prototype.init=function(t){this.nodes=t.nodes||[];var e=t.edges||[];this.edges=e.map(function(e){var n={},r=[\"targetNode\",\"sourceNode\",\"startPoint\",\"endPoint\"];return Object.keys(e).forEach(function(t){-1<r.indexOf(t)||(n[t]=e[t])}),n}),this.ticking=!1},Zr.prototype.execute=function(t){var e,n,r,i,o,l,f,d,a,s,p,g,u,c,h,v,y,m,b,x,w,M,S,_,O,C,k,E,j,P,I,A,T,N,B,D,L,R,z,Y,F,X=this,G=X.nodes,V=X.edges;if(!X.ticking){var q=X.forceSimulation,H=X.alphaMin,W=X.alphaDecay,U=X.alpha;if(q)t&&(q.nodes(G),X.edgeForce.links(V)),X.preventOverlap&&X.overlapProcess(q),q.alpha(U).restart(),this.ticking=!0;else try{var Z,$=(R=lr(-30),Y=(z=1)/0,F=.81,ut.initialize=function(t,e){T=t,B=e,ct()},ut.strength=function(t){return arguments.length?(R=\"function\"==typeof t?t:lr(+t),ct(),ut):R},ut.distanceMin=function(t){return arguments.length?(z=t*t,ut):Math.sqrt(z)},ut.distanceMax=function(t){return arguments.length?(Y=t*t,ut):Math.sqrt(Y)},ut.theta=function(t){return arguments.length?(F=t*t,ut):Math.sqrt(F)},ut);if(X.nodeStrength&&$.strength(X.nodeStrength),O=.001,C=(_=1)-Math.pow(O,1/300),k=0,E=.6,j=new Map,P=Ar(it),I=yr(\"tick\",\"end\"),S=1,A=function(){return(S=(1664525*S+1013904223)%4294967296)/4294967296},null==w&&(w=[]),at(),q=(M={tick:ot,restart:function(){return P.restart(it),M},stop:function(){return P.stop(),M},nodes:function(t){return arguments.length?(w=t,at(),j.forEach(st),M):w},alpha:function(t){return arguments.length?(_=+t,M):_},alphaMin:function(t){return arguments.length?(O=+t,M):O},alphaDecay:function(t){return arguments.length?(C=+t,M):+C},alphaTarget:function(t){return arguments.length?(k=+t,M):k},velocityDecay:function(t){return arguments.length?(E=1-t,M):1-E},randomSource:function(t){return arguments.length?(A=t,j.forEach(st),M):A},force:function(t,e){return 1<arguments.length?(null==e?j.delete(t):j.set(t,st(e)),M):j.get(t)},find:function(t,e,n){var r,i,o,a,s,u=0,c=w.length;for(null==n?n=1/0:n*=n,u=0;u<c;++u)(o=(r=t-(a=w[u]).x)*r+(i=e-a.y)*i)<n&&(s=a,n=o);return s},on:function(t,e){return 1<arguments.length?(I.on(t,e),M):I.on(t)}}).nodes(G).force(\"center\",(y=X.center[0],m=X.center[1],x=1,null==y&&(y=0),null==m&&(m=0),rt.initialize=function(t){b=t},rt.x=function(t){return arguments.length?(y=+t,rt):y},rt.y=function(t){return arguments.length?(m=+t,rt):m},rt.strength=function(t){return arguments.length?(x=+t,rt):x},rt)).force(\"charge\",$).alpha(U).alphaDecay(W).alphaMin(H),X.preventOverlap&&X.overlapProcess(q),V&&(u=Yr,c=function(t){return 1/Math.min(s[t.source.index],s[t.target.index])},h=lr(30),v=1,null==l&&(l=[]),J.initialize=function(t,e){a=t,g=e,tt()},J.links=function(t){return arguments.length?(l=t,tt(),J):l},J.id=function(t){return arguments.length?(u=t,J):u},J.iterations=function(t){return arguments.length?(v=+t,J):v},J.strength=function(t){return arguments.length?(c=\"function\"==typeof t?t:lr(+t),et(),J):c},J.distance=function(t){return arguments.length?(h=\"function\"==typeof t?t:lr(+t),nt(),J):h},Z=J.id(function(t){return t.id}).links(V),X.edgeStrength&&Z.strength(X.edgeStrength),X.linkDistance&&Z.distance(X.linkDistance),X.edgeForce=Z,q.force(\"link\",Z)),!X.workerEnabled||\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||(X.workerEnabled=!1,console.warn(\"workerEnabled option is only supported when running in web worker.\")),X.workerEnabled){q.stop();for(var K=(n=(e=q).alphaMin(),r=e.alphaTarget(),i=e.alpha(),o=Math.log((n-r)/(i-r))/Math.log(1-e.alphaDecay()),Math.ceil(o)),Q=1;Q<=K;Q++)q.tick(),postMessage({type:Wr,currentTick:Q,totalTicks:K,nodes:G},void 0);X.ticking=!1}else q.on(\"tick\",function(){X.tick()}).on(\"end\",function(){X.ticking=!1,X.onLayoutEnd&&X.onLayoutEnd()}),X.ticking=!0;X.forceSimulation=q,X.ticking=!0}catch(t){X.ticking=!1,console.warn(t)}}function J(t){for(var e=0,n=l.length;e<v;++e)for(var r,i,o,a,s,u,c,h=0;h<n;++h)i=(r=l[h]).source,a=(o=r.target).x+o.vx-i.x-i.vx||fr(g),s=o.y+o.vy-i.y-i.vy||fr(g),a*=u=((u=Math.sqrt(a*a+s*s))-d[h])/u*t*f[h],s*=u,o.vx-=a*(c=p[h]),o.vy-=s*c,i.vx+=a*(c=1-c),i.vy+=s*c}function tt(){if(a){var t,e=a.length,n=l.length,r=new Map(a.map(function(t,e){return[u(t,e,a),t]})),i=0;for(s=new Array(e);i<n;++i)(t=l[i]).index=i,\"object\"!==zr(t.source)&&(t.source=Fr(r,t.source)),\"object\"!==zr(t.target)&&(t.target=Fr(r,t.target)),s[t.source.index]=(s[t.source.index]||0)+1,s[t.target.index]=(s[t.target.index]||0)+1;for(i=0,p=new Array(n);i<n;++i)t=l[i],p[i]=s[t.source.index]/(s[t.source.index]+s[t.target.index]);f=new Array(n),et(),d=new Array(n),nt()}}function et(){if(a)for(var t=0,e=l.length;t<e;++t)f[t]=+c(l[t],t,l)}function nt(){if(a)for(var t=0,e=l.length;t<e;++t)d[t]=+h(l[t],t,l)}function rt(){for(var t,e=b.length,n=0,r=0,i=0;i<e;++i)n+=(t=b[i]).x,r+=t.y;for(n=(n/e-y)*x,r=(r/e-m)*x,i=0;i<e;++i)(t=b[i]).x-=n,t.y-=r}function it(){ot(),I.call(\"tick\",M),_<O&&(P.stop(),I.call(\"end\",M))}function ot(t){var e,n,r=w.length;void 0===t&&(t=1);for(var i=0;i<t;++i)for(_+=(k-_)*C,j.forEach(function(t){t(_)}),e=0;e<r;++e)null==(n=w[e]).fx?n.x+=n.vx*=E:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=E:(n.y=n.fy,n.vy=0);return M}function at(){for(var t,e,n,r=0,i=w.length;r<i;++r){(t=w[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),(isNaN(t.x)||isNaN(t.y))&&(e=10*Math.sqrt(.5+r),n=r*Rr,t.x=e*Math.cos(n),t.y=e*Math.sin(n)),(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function st(t){return t.initialize&&t.initialize(w,A),t}function ut(t){var e,n=T.length,r=sr(T,Dr,Lr).visitAfter(ht);for(D=t,e=0;e<n;++e)N=T[e],r.visit(lt)}function ct(){if(T){var t,e,n=T.length;for(L=new Array(n),t=0;t<n;++t)e=T[t],L[e.index]=+R(e,t,T)}}function ht(t){var e,n,r,i,o,a=0,s=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else for((e=t).x=e.data.x,e.y=e.data.y;a+=L[e.data.index],e=e.next;);t.value=a}function lt(t,e,n,r){if(!t.value)return!0;var i=t.x-N.x,o=t.y-N.y,a=r-e,s=i*i+o*o;if(a*a/F<s)return s<Y&&(0===i&&(s+=(i=fr(B))*i),0===o&&(s+=(o=fr(B))*o),s<z&&(s=Math.sqrt(z*s)),N.vx+=i*t.value*D/s,N.vy+=o*t.value*D/s),!0;if(!(t.length||Y<=s))for(t.data===N&&!t.next||(0===i&&(s+=(i=fr(B))*i),0===o&&(s+=(o=fr(B))*o),s<z&&(s=Math.sqrt(z*s)));t.data!==N&&(a=L[t.data.index]*D/s,N.vx+=i*a,N.vy+=o*a),t=t.next;);}},Zr.prototype.overlapProcess=function(t){var e,n,r,i,o,a,s,v,y,u,c=this.nodeSize,h=this.nodeSpacing,l=this.collideStrength;function f(){for(var t,e,l,f,d,p,g,n=a.length,r=0;r<u;++r)for(e=sr(a,Xr,Gr).visitAfter(m),t=0;t<n;++t)l=a[t],p=s[l.index],g=p*p,f=l.x+l.vx,d=l.y+l.vy,e.visit(i);function i(t,e,n,r,i){var o,a,s,u=t.data,c=t.r,h=p+c;if(!u)return f+h<e||r<f-h||d+h<n||i<d-h;u.index>l.index&&((s=(o=f-u.x-u.vx)*o+(a=d-u.y-u.vy)*a)<h*h&&(0===o&&(s+=(o=fr(v))*o),0===a&&(s+=(a=fr(v))*a),s=(h-(s=Math.sqrt(s)))/s*y,l.vx+=(o*=s)*(h=(c*=c)/(g+c)),l.vy+=(a*=s)*h,u.vx-=o*(h=1-h),u.vy-=a*h))}}function m(t){if(t.data)return t.r=s[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function d(){if(a){var t,e,n=a.length;for(s=new Array(n),t=0;t<n;++t)e=a[t],s[e.index]=+o(e,t,a)}}e=A()(h)?function(){return h}:Hr()(h)?h:function(){return 0},r=c?Hr()(c)?function(t){return c(t)+e(t)}:I()(c)?(n=(c[0]>c[1]?c[0]:c[1])/2,function(t){return n+e(t)}):A()(c)?(i=c/2,function(t){return i+e(t)}):function(){return 10}:function(t){return t.size?I()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+e(t):t.size/2+e(t):10+e(t)},t.force(\"collisionForce\",(u=y=1,\"function\"!=typeof(o=r)&&(o=lr(null==o?1:+o)),f.initialize=function(t,e){a=t,v=e,d()},f.iterations=function(t){return arguments.length?(u=+t,f):u},f.strength=function(t){return arguments.length?(y=+t,f):y},f.radius=function(t){return arguments.length?(o=\"function\"==typeof t?t:lr(+t),d(),f):o},f.strength(l)))},Zr.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Pn()(this,t)},Zr.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},Zr);function Zr(){var t=null!==Vr&&Vr.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}var $r,Kr,Qr,Jr=(Qr=Bn,Object(L.__extends)(ai,Qr),ai.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},ai.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var n={},r={};t.forEach(function(t,e){n[t.id]=t,r[t.id]=e}),this.nodeMap=n,this.nodeIdxMap=r,this.run()}},ai.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var i,o=t.center,a=t.velocityDecay,s=t.clustering;t.initVals(),s&&(i=t.getClusterMap());for(var u=this,c=0;c<n;c++)!function(){var n=[];e.forEach(function(t,e){n[e]={x:0,y:0}}),t.applyCalculate(e,r,n),s&&t.applyClusterForce(i,n),e.forEach(function(t,e){Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(t.x+=n[e].x*a,t.y+=n[e].y*a)}),u.alpha+=(u.alphaTarget-u.alpha)*u.alphaDecay,t.tick()}();var h=[0,0];e.forEach(function(t){Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(h[0]+=t.x,h[1]+=t.y)}),h[0]/=e.length,h[1]/=e.length;var l=[o[0]-h[0],o[1]-h[1]];e.forEach(function(t,e){Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(t.x+=l[0],t.y+=l[1])})},ai.prototype.initVals=function(){for(var t=this.edges,e={},n=0;n<t.length;++n)e[t[n].source]?e[t[n].source]++:e[t[n].source]=1,e[t[n].target]?e[t[n].target]++:e[t[n].target]=1;for(var r=[],n=0;n<t.length;++n)r[n]=e[t[n].source]/(e[t[n].source]+e[t[n].target]);this.bias=r;var i,o,a,s=this.nodeSize,u=this.nodeSpacing,c=Object(ot.isNumber)(u)?function(){return u}:Object(ot.isFunction)(u)?u:function(){return 0};o=s?Object(ot.isFunction)(s)?function(t){return s(t)+c(t)}:Object(ot.isArray)(s)?(i=(s[0]>s[1]?s[0]:s[1])/2,function(t){return i+c(t)}):Object(ot.isNumber)(s)?(a=s/2,function(t){return a+c(t)}):function(){return 10}:function(t){return t.size?Object(ot.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+c(t):t.size/2+c(t):10+c(t)},this.nodeSize=o;var h,l=(l=this.linkDistance)||50;Object(ot.isNumber)(l)&&(h=function(t){return l}),this.linkDistance=h;var f,d=(d=this.linkStrength)||1;Object(ot.isNumber)(d)&&(f=function(t){return d}),this.linkStrength=f;var p,g=(g=this.nodeStrength)||30;Object(ot.isNumber)(g)&&(p=function(t){return g}),this.nodeStrength=p},ai.prototype.getClusterMap=function(){var t,e=this.nodes,r={};for(t in e.forEach(function(t){var e;void 0===r[t.cluster]&&(e={name:t.cluster,cx:0,cy:0,count:0},r[t.cluster]=e);var n=r[t.cluster];Object(ot.isNumber)(t.x)&&(n.cx+=t.x),Object(ot.isNumber)(t.y)&&(n.cy+=t.y),n.count++}),r)r[t].cx/=r[t].count,r[t].cy/=r[t].count;return r},ai.prototype.applyClusterForce=function(a,s){var t,e=this.gravity,n=this.nodes,u=this.clusterGravity||e,c=this.alpha;for(t in n.forEach(function(t,e){var n,r,i,o;Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(n=a[t.cluster],r=t.x-n.cx,i=t.y-n.cy,o=Math.sqrt(r*r+i*i),s[e].x-=r*u*c/o,s[e].y-=i*u*c/o)}),a)a[t].cx=0,a[t].cy=0,a[t].count=0;for(t in n.forEach(function(t){var e=a[t.cluster];Object(ot.isNumber)(t.x)&&(e.cx+=t.x),Object(ot.isNumber)(t.y)&&(e.cy+=t.y),e.count++}),a)a[t].cx/=a[t].count,a[t].cy/=a[t].count},ai.prototype.applyCalculate=function(t,e,n){var u={};t.forEach(function(a,s){n[s]={x:0,y:0},t.forEach(function(t,e){var n,r,i,o;s<e||((i=(n=a.x-t.x)*n+(r=a.y-t.y)*r)<1&&(i=Math.sqrt(i)),0===n&&(i+=(n=.01*Math.random())*n),0===r&&(i+=(r=.01*Math.random())*r),o=Math.sqrt(i),u[a.id+\"-\"+t.id]={vx:n,vy:r,vl:i,sqrtVl:o},u[t.id+\"-\"+a.id]={vx:-n,vy:-r,vl:i,sqrtVl:o})})}),this.calRepulsive(t,n,u),this.calAttractive(e,n,u)},ai.prototype.calRepulsive=function(t,v,y){var m=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,b=this.nodeStrength,x=this.alpha,w=this.collideStrength,M=this.preventOverlap,S=this.nodeSize;t.forEach(function(p,g){t.forEach(function(t,e){var n,r,i,o,a,s,u,c,h,l,f,d;g!==e&&Object(ot.isNumber)(p.x)&&Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(p.y)&&Object(ot.isNumber)(t.y)&&(r=(n=y[p.id+\"-\"+t.id]).vl,i=n.vx,o=n.vy,m<r||(v[g].x+=i*b(t)*x/r,v[g].y+=o*b(t)*x/r,!(M&&g<e))||r<(u=(a=S(p))+(s=S(t)))*u&&(l=s*s/(a*a+s*s),f=i*(h=(u-(c=y[p.id+\"-\"+t.id].sqrtVl))/c*w),d=o*h,v[g].x+=f*l,v[g].y+=d*l,l=1-l,v[e].x-=f*l,v[e].y-=d*l))})})},ai.prototype.calAttractive=function(t,p,g){var v=this,y=this.linkDistance,m=this.alpha,b=this.linkStrength,x=this.bias;t.forEach(function(t,e){var n,r,i,o,a,s,u,c,h,l,f,d;t.source&&t.target&&((n=v.nodeIdxMap[t.source])!==(r=v.nodeIdxMap[t.target])&&(i=v.nodeMap[t.source],o=v.nodeMap[t.target],Object(ot.isNumber)(o.x)&&Object(ot.isNumber)(i.x)&&Object(ot.isNumber)(o.y)&&Object(ot.isNumber)(i.y)&&((a=g[t.target+\"-\"+t.source]).vl,s=a.sqrtVl,u=a.vx,c=a.vy,l=u*(h=(s-y(t))/s*m*b(t)),f=c*h,d=x[e],p[r].x-=l*d,p[r].y-=f*d,p[n].x+=l*(1-d),p[n].y+=f*(1-d))))})},ai),ti=(Kr=Bn,Object(L.__extends)(oi,Kr),oi.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},oi.prototype.execute=function(){var n=this,t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var r={},i={};t.forEach(function(t,e){Object(ot.isNumber)(t.x)||(t.x=Math.random()*n.width),Object(ot.isNumber)(t.y)||(t.y=Math.random()*n.height),r[t.id]=t,i[t.id]=e}),this.nodeMap=r,this.nodeIdxMap=i,this.run()}},oi.prototype.run=function(){var e=this,n=e.nodes,r=e.edges,t=e.maxIteration;e.width||\"undefined\"==typeof window||(e.width=window.innerWidth),e.height||\"undefined\"==typeof window||(e.height=window.innerHeight);var i=e.center,s=e.width/10,u=Math.sqrt(e.width*e.height/(n.length+1)),c=e.gravity,h=e.speed,l=e.clustering,f={};if(l)for(var o in n.forEach(function(t){var e;void 0===f[t.cluster]&&(e={name:t.cluster,cx:0,cy:0,count:0},f[t.cluster]=e);var n=f[t.cluster];Object(ot.isNumber)(t.x)&&(n.cx+=t.x),Object(ot.isNumber)(t.y)&&(n.cy+=t.y),n.count++}),f)f[o].cx/=f[o].count,f[o].cy/=f[o].count;for(var a=0;a<t;a++)!function(){var o=[];if(n.forEach(function(t,e){o[e]={x:0,y:0}}),e.applyCalculate(n,r,o,u),l){var t,a=e.clusterGravity||c;for(t in n.forEach(function(t,e){var n,r,i;Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(n=f[t.cluster],r=Math.sqrt((t.x-n.cx)*(t.x-n.cx)+(t.y-n.cy)*(t.y-n.cy)),i=u*a,o[e].x-=i*(t.x-n.cx)/r,o[e].y-=i*(t.y-n.cy)/r)}),f)f[t].cx=0,f[t].cy=0,f[t].count=0;for(t in n.forEach(function(t){var e=f[t.cluster];Object(ot.isNumber)(t.x)&&(e.cx+=t.x),Object(ot.isNumber)(t.y)&&(e.cy+=t.y),e.count++}),f)f[t].cx/=f[t].count,f[t].cy/=f[t].count}n.forEach(function(t,e){var n;Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(n=.01*u*c,o[e].x-=n*(t.x-i[0]),o[e].y-=n*(t.y-i[1]))}),n.forEach(function(t,e){var n,r;Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(0<(n=Math.sqrt(o[e].x*o[e].x+o[e].y*o[e].y))&&(r=Math.min(h/800*s,n),t.x+=o[e].x/n*r,t.y+=o[e].y/n*r))})}()},oi.prototype.applyCalculate=function(t,e,n,r){this.calRepulsive(t,n,r),this.calAttractive(e,n,r)},oi.prototype.calRepulsive=function(t,u,c){t.forEach(function(a,s){u[s]={x:0,y:0},t.forEach(function(t,e){var n,r,i,o;s!==e&&Object(ot.isNumber)(a.x)&&Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(a.y)&&Object(ot.isNumber)(t.y)&&(0===(n=(r=a.x-t.x)*r+(i=a.y-t.y)*i)&&(n=1,i=r=.01*(e<s?1:-1)),o=c*c/n,u[s].x+=r*o,u[s].y+=i*o)})})},oi.prototype.calAttractive=function(t,c,h){var l=this;t.forEach(function(t){var e,n,r,i,o,a,s,u;t.source&&t.target&&((e=l.nodeIdxMap[t.source])!==(n=l.nodeIdxMap[t.target])&&(r=l.nodeMap[t.source],i=l.nodeMap[t.target],Object(ot.isNumber)(i.x)&&Object(ot.isNumber)(r.x)&&Object(ot.isNumber)(i.y)&&Object(ot.isNumber)(r.y)&&(o=i.x-r.x,a=i.y-r.y,u=(s=Math.sqrt(o*o+a*a))*s/h,c[n].x-=o/s*u,c[n].y-=a/s*u,c[e].x+=o/s*u,c[e].y+=a/s*u)))})},oi),ei=($r=Bn,Object(L.__extends)(ii,$r),ii.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:\"degree\",nodeSize:30}},ii.prototype.execute=function(){var a=this,t=a.nodes,e=t.length,n=a.center;if(0!==e){if(1===e)return t[0].x=n[0],void(t[0].y=n[1]);var r=a.edges,i=[];t.forEach(function(t){i.push(t)});var o,s={};i.forEach(function(t,e){s[t.id]=e}),\"degree\"!==a.sortBy&&T()(a.sortBy)&&void 0!==i[0][a.sortBy]||(a.sortBy=\"degree\",!N(t[0].degree))||(o=Xt(i.length,s,r),i.forEach(function(t,e){t.degree=o[e]})),i.sort(function(t,e){return e[a.sortBy]-t[a.sortBy]}),a.width||\"undefined\"==typeof window||(a.width=window.innerWidth),a.height||\"undefined\"==typeof window||(a.height=window.innerHeight);var u=a.rows,c=null!=a.cols?a.cols:a.columns;if(a.cells=e,null!=u&&null!=c?(a.rows=u,a.cols=c):null!=u&&null==c?(a.rows=u,a.cols=Math.ceil(a.cells/a.rows)):null==u&&null!=c?(a.cols=c,a.rows=Math.ceil(a.cells/a.cols)):(a.splits=Math.sqrt(a.cells*a.height/a.width),a.rows=Math.round(a.splits),a.cols=Math.round(a.width/a.height*a.splits)),a.cols*a.rows>a.cells)((l=a.small())-1)*(h=a.large())>=a.cells?a.small(l-1):(h-1)*l>=a.cells&&a.large(h-1);else for(;a.cols*a.rows<a.cells;){var h,l=a.small();((h=a.large())+1)*l>=a.cells?a.large(h+1):a.small(l+1)}a.cellWidth=a.width/a.cols,a.cellHeight=a.height/a.rows,a.condense&&(a.cellWidth=0,a.cellHeight=0),a.preventOverlap&&i.forEach(function(t){var e,n;t.x&&t.y||(t.x=0,t.y=0),Object(ot.isArray)(t.size)?(e=t.size[0],n=t.size[1]):Object(ot.isNumber)(t.size)&&(e=t.size,n=t.size),void 0!==e&&void 0!==n||(n=Object(ot.isArray)(a.nodeSize)?(e=a.nodeSize[0],a.nodeSize[1]):Object(ot.isNumber)(a.nodeSize)?(e=a.nodeSize,a.nodeSize):e=30);var r=a.preventOverlapPadding,i=e+r,o=n+r;a.cellWidth=Math.max(a.cellWidth,i),a.cellHeight=Math.max(a.cellHeight,o)}),a.cellUsed={},a.row=0,a.col=0,a.id2manPos={};for(var f=0;f<i.length;f++){var d=i[f],p=void 0;if(a.position&&(p=a.position(d)),p&&(void 0!==p.row||void 0!==p.col)){var g={row:p.row,col:p.col};if(void 0===g.col)for(g.col=0;a.used(g.row,g.col);)g.col++;else if(void 0===g.row)for(g.row=0;a.used(g.row,g.col);)g.row++;a.id2manPos[d.id]=g,a.use(g.row,g.col)}a.getPos(d)}}},ii.prototype.small=function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.min(n,r):Math.min(n,r)===this.rows?this.rows=t:this.cols=t,e},ii.prototype.large=function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.max(n,r):Math.max(n,r)===this.rows?this.rows=t:this.cols=t,e},ii.prototype.used=function(t,e){return this.cellUsed[\"c-\"+t+\"-\"+e]||!1},ii.prototype.use=function(t,e){this.cellUsed[\"c-\"+t+\"-\"+e]=!0},ii.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},ii.prototype.getPos=function(t){var e,n,r=this.begin,i=this.cellWidth,o=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*i+i/2+r[0],n=a.row*o+o/2+r[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*i+i/2+r[0],n=this.row*o+o/2+r[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=n},ii),ni=n(57),ri=n.n(ni);function ii(){var t=null!==$r&&$r.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy=\"degree\",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}function oi(){var t=null!==Kr&&Kr.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}function ai(){var t=null!==Qr&&Qr.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}function si(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!ri()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");if(void 0!==n.output){if(!ri()(n.output))throw new TypeError(\"output option must be an array if specified\");e=n.output}else e=new Array(t.length);var r=function(t){if(!ri()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}(t),i=function(t){if(!ri()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}(t);if(r===i)throw new RangeError(\"minimum and maximum input values are equal. Cannot rescale a constant array\");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(u<=a)throw new RangeError(\"min option must be smaller than max option\");for(var c=(u-a)/(i-r),h=0;h<t.length;h++)e[h]=(t[h]-r)*c+a;return e}var ui=\" \".repeat(2),ci=\" \".repeat(4);function hi(t,e){var n=1<arguments.length&&void 0!==e?e:{},r=n.maxRows,i=void 0===r?15:r,o=n.maxColumns,a=void 0===o?10:o,s=n.maxNumSize,u=void 0===s?8:s;return\"\".concat(t.constructor.name,\" {\\n\").concat(ui,\"[\\n\").concat(ci).concat(function(t,e,n,r){for(var i=t.rows,o=t.columns,a=Math.min(i,e),s=Math.min(o,n),u=[],c=0;c<a;c++){for(var h=[],l=0;l<s;l++)h.push(function(t,e){var n=String(t);if(n.length<=e)return n.padEnd(e,\" \");var r=t.toPrecision(e-2);if(r.length<=e)return r;var i=t.toExponential(e-2),o=i.indexOf(\"e\"),a=i.slice(o);return i.slice(0,e-a.length)+a}(t.get(c,l),r));u.push(\"\".concat(h.join(\" \")))}return s!==o&&(u[u.length-1]+=\" ... \".concat(o-n,\" more columns\")),a!==i&&u.push(\"... \".concat(i-e,\" more rows\")),u.join(\"\\n\".concat(ci))}(t,i,a,u),\"\\n\").concat(ui,\"]\\n\").concat(ui,\"rows: \").concat(t.rows,\"\\n\").concat(ui,\"columns: \").concat(t.columns,\"\\n}\")}function li(t){return(li=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function fi(t,e,n){var r=n?t.rows:t.rows-1;if(e<0||r<e)throw new RangeError(\"Row index out of range\")}function di(t,e,n){var r=n?t.columns:t.columns-1;if(e<0||r<e)throw new RangeError(\"Column index out of range\")}function pi(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError(\"vector size must be the same as the number of columns\");return e}function gi(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError(\"vector size must be the same as the number of rows\");return e}function vi(t,e,n,r,i){if(5!==arguments.length)throw new RangeError(\"expected 4 arguments\");if(mi(\"startRow\",e),mi(\"endRow\",n),mi(\"startColumn\",r),mi(\"endColumn\",i),n<e||i<r||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError(\"Submatrix indices are out of range\")}function yi(t,e){for(var n=1<arguments.length&&void 0!==e?e:0,r=[],i=0;i<t;i++)r.push(n);return r}function mi(t,e){if(\"number\"!=typeof e)throw new TypeError(\"\".concat(t,\" must be a number\"))}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xi(t,e){return!e||\"object\"!==Si(e)&&\"function\"!=typeof e?wi(t):e}function wi(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Si(t){return(Si=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e,n){return e&&Oi(t.prototype,e),n&&Oi(t,n),t}var ki=(Ci(Ei,[{key:\"apply\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(\"callback must be a function\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:\"to1DArray\",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:\"to2DArray\",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:\"toJSON\",value:function(){return this.to2DArray()}},{key:\"isRowVector\",value:function(){return 1===this.rows}},{key:\"isColumnVector\",value:function(){return 1===this.columns}},{key:\"isVector\",value:function(){return 1===this.rows||1===this.columns}},{key:\"isSquare\",value:function(){return this.rows===this.columns}},{key:\"isSymmetric\",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:\"isEchelonForm\",value:function(){for(var t=0,e=0,n=-1,r=!0,i=!1;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&n<e?(i=!0,n=e):i=!(r=!1);t++}return r}},{key:\"isReducedEchelonForm\",value:function(){for(var t=0,e=0,n=-1,r=!0,i=!1;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&n<e?(i=!0,n=e):i=!(r=!1);for(var o=e+1;o<this.rows;o++)0!==this.get(t,o)&&(r=!1);t++}return r}},{key:\"echelonForm\",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var r=e,i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);for(var o=t.get(e,n),a=n;a<t.columns;a++)t.set(e,a,t.get(e,a)/o);for(var s=e+1;s<t.rows;s++){var u=t.get(s,n)/t.get(e,n);t.set(s,n,0);for(var c=n+1;c<t.columns;c++)t.set(s,c,t.get(s,c)-t.get(e,c)*u)}e++,n++}}return t}},{key:\"reducedEchelonForm\",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;0<=r;)if(0===t.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===t.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=t.get(a,i),u=i;u<e;u++){var c=t.get(a,u)-s*t.get(r,u);t.set(a,u,c)}r--}return t}},{key:\"set\",value:function(){throw new Error(\"set method is unimplemented\")}},{key:\"get\",value:function(){throw new Error(\"get method is unimplemented\")}},{key:\"repeat\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(\"object\"!==Si(t))throw new TypeError(\"options must be an object\");var e=t.rows,n=void 0===e?1:e,r=t.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError(\"rows must be a positive integer\");if(!Number.isInteger(i)||i<=0)throw new TypeError(\"columns must be a positive integer\");for(var o=new Ai(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:\"fill\",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:\"neg\",value:function(){return this.mulS(-1)}},{key:\"getRow\",value:function(t){fi(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:\"getRowVector\",value:function(t){return Ai.rowVector(this.getRow(t))}},{key:\"setRow\",value:function(t,e){fi(this,t),e=pi(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:\"swapRows\",value:function(t,e){fi(this,t),fi(this,e);for(var n=0;n<this.columns;n++){var r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}},{key:\"getColumn\",value:function(t){di(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:\"getColumnVector\",value:function(t){return Ai.columnVector(this.getColumn(t))}},{key:\"setColumn\",value:function(t,e){di(this,t),e=gi(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:\"swapColumns\",value:function(t,e){di(this,t),di(this,e);for(var n=0;n<this.rows;n++){var r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}},{key:\"addRowVector\",value:function(t){t=pi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:\"subRowVector\",value:function(t){t=pi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:\"mulRowVector\",value:function(t){t=pi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:\"divRowVector\",value:function(t){t=pi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:\"addColumnVector\",value:function(t){t=gi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:\"subColumnVector\",value:function(t){t=gi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:\"mulColumnVector\",value:function(t){t=gi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:\"divColumnVector\",value:function(t){t=gi(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:\"mulRow\",value:function(t,e){fi(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:\"mulColumn\",value:function(t,e){di(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:\"max\",value:function(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:\"maxIndex\",value:function(){for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}},{key:\"min\",value:function(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:\"minIndex\",value:function(){for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}},{key:\"maxRow\",value:function(t){fi(this,t);for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:\"maxRowIndex\",value:function(t){fi(this,t);for(var e=this.get(t,0),n=[t,0],r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}},{key:\"minRow\",value:function(t){fi(this,t);for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:\"minRowIndex\",value:function(t){fi(this,t);for(var e=this.get(t,0),n=[t,0],r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}},{key:\"maxColumn\",value:function(t){di(this,t);for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:\"maxColumnIndex\",value:function(t){di(this,t);for(var e=this.get(0,t),n=[0,t],r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}},{key:\"minColumn\",value:function(t){di(this,t);for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:\"minColumnIndex\",value:function(t){di(this,t);for(var e=this.get(0,t),n=[0,t],r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}},{key:\"diag\",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:\"norm\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"frobenius\",e=0;if(\"max\"===t)return this.max();if(\"frobenius\"!==t)throw new RangeError(\"unknown norm type: \".concat(t));for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)e+=this.get(n,r)*this.get(n,r);return Math.sqrt(e)}},{key:\"cumulativeSum\",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:\"dot\",value:function(t){Ei.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError(\"vectors do not have the same size\");for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}},{key:\"mmul\",value:function(t){t=Ai.checkMatrix(t);for(var e=this.rows,n=this.columns,r=t.columns,i=new Ai(e,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=t.get(s,a);for(var u=0;u<e;u++){for(var c=0,h=0;h<n;h++)c+=this.get(u,h)*o[h];i.set(u,a,c)}}return i}},{key:\"strassen2x2\",value:function(t){t=Ai.checkMatrix(t);var e=new Ai(2,2),n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),u=this.get(1,1),c=t.get(1,1),h=(n+u)*(r+c),l=(a+u)*r,f=n*(o-c),d=u*(s-r),p=(n+i)*c,g=h+d-p+(i-u)*(s+c),v=f+p,y=l+d,m=h-l+f+(a-n)*(r+o);return e.set(0,0,g),e.set(0,1,v),e.set(1,0,y),e.set(1,1,m),e}},{key:\"strassen3x3\",value:function(t){t=Ai.checkMatrix(t);var e=new Ai(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),h=this.get(2,2),l=t.get(0,0),f=t.get(0,1),d=t.get(0,2),p=t.get(1,0),g=t.get(1,1),v=t.get(1,2),y=t.get(2,0),m=t.get(2,1),b=t.get(2,2),x=(n-o)*(-f+g),w=(-n+o+a)*(l-f+g),M=(o+a)*(-l+f),S=n*l,_=(-n+u+c)*(l-d+v),O=(-n+u)*(d-v),C=(u+c)*(-l+d),k=(-i+c+h)*(g+y-m),E=(i-h)*(g-m),j=i*y,P=(c+h)*(-y+m),I=(-i+a+s)*(v+y-b),A=(i-s)*(v-b),T=(a+s)*(-y+b),N=S+j+r*p,B=(n+r+i-o-a-c-h)*g+w+M+S+k+j+P,D=S+_+C+(n+r+i-a-s-u-c)*v+j+I+T,L=x+a*(-l+f+p-g-v-y+b)+w+S+j+I+A,R=x+w+M+S+s*m,z=j+I+A+T+o*d,Y=S+_+O+c*(-l+d+p-g-v-y+m)+k+E+j,F=k+E+j+P+u*f,X=S+_+O+C+h*b;return e.set(0,0,N),e.set(0,1,B),e.set(0,2,D),e.set(1,0,L),e.set(1,1,R),e.set(1,2,z),e.set(2,0,Y),e.set(2,1,F),e.set(2,2,X),e}},{key:\"mmulStrassen\",value:function(t){t=Ai.checkMatrix(t);var e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function C(t,e,n){var r=t.rows,i=t.columns;if(r===e&&i===n)return t;var o=Ei.zeros(e,n);return o.setSubMatrix(t,0,0)}r!==i&&console.warn(\"Multiplying \".concat(n,\" x \").concat(r,\" and \").concat(i,\" x \").concat(o,\" matrix: dimensions do not match.\"));var a=Math.max(n,i),s=Math.max(r,o);return function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2==1&&i%2==1?(e=C(e,r+1,i+1),n=C(n,r+1,i+1)):r%2==1?(e=C(e,r+1,i),n=C(n,r+1,i)):i%2==1&&(e=C(e,r,i+1),n=C(n,r,i+1));var o=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),s=e.subMatrix(0,o-1,0,a-1),u=n.subMatrix(0,o-1,0,a-1),c=e.subMatrix(0,o-1,a,e.columns-1),h=n.subMatrix(0,o-1,a,n.columns-1),l=e.subMatrix(o,e.rows-1,0,a-1),f=n.subMatrix(o,n.rows-1,0,a-1),d=e.subMatrix(o,e.rows-1,a,e.columns-1),p=n.subMatrix(o,n.rows-1,a,n.columns-1),g=t(Ei.add(s,d),Ei.add(u,p),o,a),v=t(Ei.add(l,d),u,o,a),y=t(s,Ei.sub(h,p),o,a),m=t(d,Ei.sub(f,u),o,a),b=t(Ei.add(s,c),p,o,a),x=t(Ei.sub(l,s),Ei.add(u,h),o,a),w=t(Ei.sub(c,d),Ei.add(f,p),o,a),M=Ei.add(g,m);M.sub(b),M.add(w);var S=Ei.add(y,b),_=Ei.add(v,m),O=Ei.sub(g,v);return O.add(y),O.add(x),Ei.zeros(2*M.rows,2*M.columns).setSubMatrix(M,0,0).setSubMatrix(S,M.rows,0).setSubMatrix(_,0,M.columns).setSubMatrix(O,M.rows,M.columns).subMatrix(0,r-1,0,i-1)}(C(e,a,s),t=C(t,a,s),a,s)}},{key:\"scaleRows\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(\"object\"!==Si(t))throw new TypeError(\"options must be an object\");var e=t.min,n=void 0===e?0:e,r=t.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError(\"min must be a number\");if(!Number.isFinite(i))throw new TypeError(\"max must be a number\");if(i<=n)throw new RangeError(\"min must be smaller than max\");for(var o=new Ai(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);si(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:\"scaleColumns\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(\"object\"!==Si(t))throw new TypeError(\"options must be an object\");var e=t.min,n=void 0===e?0:e,r=t.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError(\"min must be a number\");if(!Number.isFinite(i))throw new TypeError(\"max must be a number\");if(i<=n)throw new RangeError(\"min must be smaller than max\");for(var o=new Ai(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);si(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:\"flipRows\",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var r=this.get(e,n),i=this.get(e,this.columns-1-n);this.set(e,n,i),this.set(e,this.columns-1-n,r)}return this}},{key:\"flipColumns\",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var r=this.get(n,e),i=this.get(this.rows-1-n,e);this.set(n,e,i),this.set(this.rows-1-n,e,r)}return this}},{key:\"kroneckerProduct\",value:function(t){t=Ai.checkMatrix(t);for(var e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new Ai(e*r,n*i),a=0;a<e;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var c=0;c<i;c++)o.set(r*a+u,i*s+c,this.get(a,s)*t.get(u,c));return o}},{key:\"transpose\",value:function(){for(var t=new Ai(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:\"sortRows\",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ji,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:\"sortColumns\",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ji,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:\"subMatrix\",value:function(t,e,n,r){vi(this,t,e,n,r);for(var i=new Ai(e-t+1,r-n+1),o=t;o<=e;o++)for(var a=n;a<=r;a++)i.set(o-t,a-n,this.get(o,a));return i}},{key:\"subMatrixRow\",value:function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),n<e||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError(\"Argument out of range\");for(var r=new Ai(t.length,n-e+1),i=0;i<t.length;i++)for(var o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(\"Row index out of range: \".concat(t[i]));r.set(i,o-e,this.get(t[i],o))}return r}},{key:\"subMatrixColumn\",value:function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),n<e||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError(\"Argument out of range\");for(var r=new Ai(n-e+1,t.length),i=0;i<t.length;i++)for(var o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(\"Column index out of range: \".concat(t[i]));r.set(o-e,i,this.get(o,t[i]))}return r}},{key:\"setSubMatrix\",value:function(t,e,n){vi(this,e,e+(t=Ai.checkMatrix(t)).rows-1,n,n+t.columns-1);for(var r=0;r<t.rows;r++)for(var i=0;i<t.columns;i++)this.set(e+r,n+i,t.get(r,i));return this}},{key:\"selection\",value:function(t,e){for(var n,r,i=(r=e,{row:function(e,t){if(\"object\"!==li(t))throw new TypeError(\"unexpected type for row indices\");if(t.some(function(t){return t<0||t>=e.rows}))throw new RangeError(\"row indices are out of range\");return Array.isArray(t)||(t=Array.from(t)),t}(n=this,t),column:function(e,t){if(\"object\"!==li(t))throw new TypeError(\"unexpected type for column indices\");if(t.some(function(t){return t<0||t>=e.columns}))throw new RangeError(\"column indices are out of range\");return Array.isArray(t)||(t=Array.from(t)),t}(n,r)}),o=new Ai(t.length,e.length),a=0;a<i.row.length;a++)for(var s=i.row[a],u=0;u<i.column.length;u++){var c=i.column[u];o.set(a,u,this.get(s,c))}return o}},{key:\"trace\",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:\"clone\",value:function(){for(var t=new Ai(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:\"sum\",value:function(t){switch(t){case\"row\":return function(t){for(var e=yi(t.rows),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case\"column\":return function(t){for(var e=yi(t.columns),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){for(var e=0,n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"product\",value:function(t){switch(t){case\"row\":return function(t){for(var e=yi(t.rows,1),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case\"column\":return function(t){for(var e=yi(t.columns,1),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){for(var e=1,n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"mean\",value:function(t){var e=this.sum(t);switch(t){case\"row\":for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e;case\"column\":for(var r=0;r<this.columns;r++)e[r]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"variance\",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"===Si(t)&&(e=t,t=void 0),\"object\"!==Si(e))throw new TypeError(\"options must be an object\");var n=e.unbiased,r=void 0===n||n,i=e.mean,o=void 0===i?this.mean(t):i;if(\"boolean\"!=typeof r)throw new TypeError(\"unbiased must be a boolean\");switch(t){case\"row\":if(!Array.isArray(o))throw new TypeError(\"mean must be an array\");return function(t,e,n){for(var r=t.rows,i=t.columns,o=[],a=0;a<r;a++){for(var s,u=0,c=0,h=0;h<i;h++)u+=s=t.get(a,h)-n[a],c+=s*s;e?o.push((c-u*u/i)/(i-1)):o.push((c-u*u/i)/i)}return o}(this,r,o);case\"column\":if(!Array.isArray(o))throw new TypeError(\"mean must be an array\");return function(t,e,n){for(var r=t.rows,i=t.columns,o=[],a=0;a<i;a++){for(var s,u=0,c=0,h=0;h<r;h++)u+=s=t.get(h,a)-n[a],c+=s*s;e?o.push((c-u*u/r)/(r-1)):o.push((c-u*u/r)/r)}return o}(this,r,o);case void 0:if(\"number\"!=typeof o)throw new TypeError(\"mean must be a number\");return function(t,e,n){for(var r,i=t.rows,o=t.columns,a=i*o,s=0,u=0,c=0;c<i;c++)for(var h=0;h<o;h++)s+=r=t.get(c,h)-n,u+=r*r;return e?(u-s*s/a)/(a-1):(u-s*s/a)/a}(this,r,o);default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"standardDeviation\",value:function(t,e){\"object\"===Si(t)&&(e=t,t=void 0);var n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:\"center\",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"===Si(t)&&(e=t,t=void 0),\"object\"!==Si(e))throw new TypeError(\"options must be an object\");var n=e.center,r=void 0===n?this.mean(t):n;switch(t){case\"row\":if(!Array.isArray(r))throw new TypeError(\"center must be an array\");return function(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}(this,r),this;case\"column\":if(!Array.isArray(r))throw new TypeError(\"center must be an array\");return function(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}(this,r),this;case void 0:if(\"number\"!=typeof r)throw new TypeError(\"center must be a number\");return function(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}(this,r),this;default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"scale\",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"===Si(t)&&(e=t,t=void 0),\"object\"!==Si(e))throw new TypeError(\"options must be an object\");var n=e.scale;switch(t){case\"row\":if(void 0===n)n=function(t){for(var e=[],n=0;n<t.rows;n++){for(var r=0,i=0;i<t.columns;i++)r+=Math.pow(t.get(n,i),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}(this);else if(!Array.isArray(n))throw new TypeError(\"scale must be an array\");return function(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}(this,n),this;case\"column\":if(void 0===n)n=function(t){for(var e=[],n=0;n<t.columns;n++){for(var r=0,i=0;i<t.rows;i++)r+=Math.pow(t.get(i,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}(this);else if(!Array.isArray(n))throw new TypeError(\"scale must be an array\");return function(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}(this,n),this;case void 0:if(void 0===n)n=function(t){for(var e=t.size-1,n=0,r=0;r<t.columns;r++)for(var i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}(this);else if(\"number\"!=typeof n)throw new TypeError(\"scale must be a number\");return function(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}(this,n),this;default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"toString\",value:function(t){return hi(this,t)}},{key:\"size\",get:function(){return this.rows*this.columns}}],[{key:\"from1DArray\",value:function(t,e,n){if(t*e!==n.length)throw new RangeError(\"data length does not match given dimensions\");for(var r=new Ai(t,e),i=0;i<t;i++)for(var o=0;o<e;o++)r.set(i,o,n[i*e+o]);return r}},{key:\"rowVector\",value:function(t){for(var e=new Ai(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:\"columnVector\",value:function(t){for(var e=new Ai(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:\"zeros\",value:function(t,e){return new Ai(t,e)}},{key:\"ones\",value:function(t,e){return new Ai(t,e).fill(1)}},{key:\"rand\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(\"object\"!==Si(n))throw new TypeError(\"options must be an object\");for(var r=n.random,i=void 0===r?Math.random:r,o=new Ai(t,e),a=0;a<t;a++)for(var s=0;s<e;s++)o.set(a,s,i());return o}},{key:\"randInt\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(\"object\"!==Si(n))throw new TypeError(\"options must be an object\");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError(\"min must be an integer\");if(!Number.isInteger(a))throw new TypeError(\"max must be an integer\");if(a<=i)throw new RangeError(\"min must be smaller than max\");for(var c=a-i,h=new Ai(t,e),l=0;l<t;l++)for(var f=0;f<e;f++){var d=i+Math.round(u()*c);h.set(l,f,d)}return h}},{key:\"eye\",value:function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);for(var r=Math.min(t,e),i=this.zeros(t,e),o=0;o<r;o++)i.set(o,o,n);return i}},{key:\"diag\",value:function(t,e,n){var r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);for(var i=Math.min(r,e,n),o=this.zeros(e,n),a=0;a<i;a++)o.set(a,a,t[a]);return o}},{key:\"min\",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,r=t.columns,i=new Ai(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(t.get(o,a),e.get(o,a)));return i}},{key:\"max\",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,r=t.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(t.get(o,a),e.get(o,a)));return i}},{key:\"checkMatrix\",value:function(t){return Ei.isMatrix(t)?t:new Ai(t)}},{key:\"isMatrix\",value:function(t){return null!=t&&\"Matrix\"===t.klass}}]),Ei);function Ei(){_i(this,Ei)}function ji(t,e){return t-e}ki.prototype.klass=\"Matrix\",\"undefined\"!=typeof Symbol&&(ki.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=function(){return hi(this)}),ki.random=ki.rand,ki.randomInt=ki.randInt,ki.diagonal=ki.diag,ki.prototype.diagonal=ki.prototype.diag,ki.identity=ki.eye,ki.prototype.negate=ki.prototype.neg,ki.prototype.tensorProduct=ki.prototype.kroneckerProduct;var Pi,Ii,Ai=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(s,ki);var n,r,a=(n=s,r=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=Mi(n);return xi(this,r?(t=Mi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))});function s(t,e){var n;if(_i(this,s),n=a.call(this),s.isMatrix(t))return xi(n,t.clone());if(Number.isInteger(t)&&0<t){if(n.data=[],!(Number.isInteger(e)&&0<e))throw new TypeError(\"nColumns must be a positive integer\");for(var r=0;r<t;r++)n.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError(\"First argument must be a positive number or an array\");var i=t;if(t=i.length,\"number\"!=typeof(e=i[0].length)||0===e)throw new TypeError(\"Data must be a 2D array with at least one element\");n.data=[];for(var o=0;o<t;o++){if(i[o].length!==e)throw new RangeError(\"Inconsistent array dimensions\");n.data.push(Float64Array.from(i[o]))}}return n.rows=t,n.columns=e,xi(n,wi(n))}return Ci(s,[{key:\"set\",value:function(t,e,n){return this.data[t][e]=n,this}},{key:\"get\",value:function(t,e){return this.data[t][e]}},{key:\"removeRow\",value:function(t){if(fi(this,t),1===this.rows)throw new RangeError(\"A matrix cannot have less than one row\");return this.data.splice(t,1),--this.rows,this}},{key:\"addRow\",value:function(t,e){return void 0===e&&(e=t,t=this.rows),fi(this,t,!0),e=Float64Array.from(pi(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{key:\"removeColumn\",value:function(t){if(di(this,t),1===this.columns)throw new RangeError(\"A matrix cannot have less than one column\");for(var e=0;e<this.rows;e++){for(var n=new Float64Array(this.columns-1),r=0;r<t;r++)n[r]=this.data[e][r];for(var i=t+1;i<this.columns;i++)n[i-1]=this.data[e][i];this.data[e]=n}return--this.columns,this}},{key:\"addColumn\",value:function(t,e){void 0===e&&(e=t,t=this.columns),di(this,t,!0),e=gi(this,e);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),s}();function Ti(t){return(Ti=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bi(t,e){return(Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Di(o){var a=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Li(o);return e=a?(t=Li(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||\"object\"!==Ti(r)&&\"function\"!=typeof r?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(n):r}}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ii=Ai,(Pi=ki).prototype.add=function(t){return\"number\"==typeof t?this.addS(t):this.addM(t)},Pi.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},Pi.prototype.addM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},Pi.add=function(t,e){return new Ii(t).add(e)},Pi.prototype.sub=function(t){return\"number\"==typeof t?this.subS(t):this.subM(t)},Pi.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},Pi.prototype.subM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},Pi.sub=function(t,e){return new Ii(t).sub(e)},Pi.prototype.subtract=Pi.prototype.sub,Pi.prototype.subtractS=Pi.prototype.subS,Pi.prototype.subtractM=Pi.prototype.subM,Pi.subtract=Pi.sub,Pi.prototype.mul=function(t){return\"number\"==typeof t?this.mulS(t):this.mulM(t)},Pi.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},Pi.prototype.mulM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},Pi.mul=function(t,e){return new Ii(t).mul(e)},Pi.prototype.multiply=Pi.prototype.mul,Pi.prototype.multiplyS=Pi.prototype.mulS,Pi.prototype.multiplyM=Pi.prototype.mulM,Pi.multiply=Pi.mul,Pi.prototype.div=function(t){return\"number\"==typeof t?this.divS(t):this.divM(t)},Pi.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},Pi.prototype.divM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},Pi.div=function(t,e){return new Ii(t).div(e)},Pi.prototype.divide=Pi.prototype.div,Pi.prototype.divideS=Pi.prototype.divS,Pi.prototype.divideM=Pi.prototype.divM,Pi.divide=Pi.div,Pi.prototype.mod=function(t){return\"number\"==typeof t?this.modS(t):this.modM(t)},Pi.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},Pi.prototype.modM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},Pi.mod=function(t,e){return new Ii(t).mod(e)},Pi.prototype.modulus=Pi.prototype.mod,Pi.prototype.modulusS=Pi.prototype.modS,Pi.prototype.modulusM=Pi.prototype.modM,Pi.modulus=Pi.mod,Pi.prototype.and=function(t){return\"number\"==typeof t?this.andS(t):this.andM(t)},Pi.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},Pi.prototype.andM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},Pi.and=function(t,e){return new Ii(t).and(e)},Pi.prototype.or=function(t){return\"number\"==typeof t?this.orS(t):this.orM(t)},Pi.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},Pi.prototype.orM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},Pi.or=function(t,e){return new Ii(t).or(e)},Pi.prototype.xor=function(t){return\"number\"==typeof t?this.xorS(t):this.xorM(t)},Pi.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},Pi.prototype.xorM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},Pi.xor=function(t,e){return new Ii(t).xor(e)},Pi.prototype.leftShift=function(t){return\"number\"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},Pi.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},Pi.prototype.leftShiftM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},Pi.leftShift=function(t,e){return new Ii(t).leftShift(e)},Pi.prototype.signPropagatingRightShift=function(t){return\"number\"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},Pi.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},Pi.prototype.signPropagatingRightShiftM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},Pi.signPropagatingRightShift=function(t,e){return new Ii(t).signPropagatingRightShift(e)},Pi.prototype.rightShift=function(t){return\"number\"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},Pi.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},Pi.prototype.rightShiftM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},Pi.rightShift=function(t,e){return new Ii(t).rightShift(e)},Pi.prototype.zeroFillRightShift=Pi.prototype.rightShift,Pi.prototype.zeroFillRightShiftS=Pi.prototype.rightShiftS,Pi.prototype.zeroFillRightShiftM=Pi.prototype.rightShiftM,Pi.zeroFillRightShift=Pi.rightShift,Pi.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},Pi.not=function(t){return new Ii(t).not()},Pi.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},Pi.abs=function(t){return new Ii(t).abs()},Pi.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},Pi.acos=function(t){return new Ii(t).acos()},Pi.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},Pi.acosh=function(t){return new Ii(t).acosh()},Pi.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},Pi.asin=function(t){return new Ii(t).asin()},Pi.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},Pi.asinh=function(t){return new Ii(t).asinh()},Pi.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},Pi.atan=function(t){return new Ii(t).atan()},Pi.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},Pi.atanh=function(t){return new Ii(t).atanh()},Pi.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},Pi.cbrt=function(t){return new Ii(t).cbrt()},Pi.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},Pi.ceil=function(t){return new Ii(t).ceil()},Pi.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},Pi.clz32=function(t){return new Ii(t).clz32()},Pi.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},Pi.cos=function(t){return new Ii(t).cos()},Pi.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},Pi.cosh=function(t){return new Ii(t).cosh()},Pi.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},Pi.exp=function(t){return new Ii(t).exp()},Pi.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},Pi.expm1=function(t){return new Ii(t).expm1()},Pi.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},Pi.floor=function(t){return new Ii(t).floor()},Pi.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},Pi.fround=function(t){return new Ii(t).fround()},Pi.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},Pi.log=function(t){return new Ii(t).log()},Pi.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},Pi.log1p=function(t){return new Ii(t).log1p()},Pi.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},Pi.log10=function(t){return new Ii(t).log10()},Pi.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},Pi.log2=function(t){return new Ii(t).log2()},Pi.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},Pi.round=function(t){return new Ii(t).round()},Pi.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},Pi.sign=function(t){return new Ii(t).sign()},Pi.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},Pi.sin=function(t){return new Ii(t).sin()},Pi.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},Pi.sinh=function(t){return new Ii(t).sinh()},Pi.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},Pi.sqrt=function(t){return new Ii(t).sqrt()},Pi.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},Pi.tan=function(t){return new Ii(t).tan()},Pi.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},Pi.tanh=function(t){return new Ii(t).tanh()},Pi.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},Pi.trunc=function(t){return new Ii(t).trunc()},Pi.pow=function(t,e){return new Ii(t).pow(e)},Pi.prototype.pow=function(t){return\"number\"==typeof t?this.powS(t):this.powM(t)},Pi.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},Pi.prototype.powM=function(t){if(t=Ii.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this};var Ri=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}(r,ki);var n=Di(r);function r(t){var e;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),(e=n.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return Ni(r.prototype,[{key:\"set\",value:function(t,e,n){return this.data[t][e]=n,this}},{key:\"get\",value:function(t,e){return this.data[t][e]}}]),r}();function zi(t,e){var n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fi,Xi=(Yi(Zi.prototype,[{key:\"solve\",value:function(t){for(var e=t,n=this.threshold,r=this.s.length,i=Ai.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),c=s.rows,h=a.rows,l=Ai.zeros(c,h),f=0;f<c;f++)for(var d=0;d<h;d++){for(var p=0,g=0;g<r;g++)p+=u.get(f,g)*a.get(d,g);l.set(f,d,p)}return l.mmul(e)}},{key:\"solveForDiagonal\",value:function(t){return this.solve(Ai.diag(t))}},{key:\"inverse\",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new Ai(n,this.s.length),o=0;o<n;o++)for(var a=0;a<r;a++)Math.abs(this.s[a])>e&&i.set(o,a,t.get(o,a)/this.s[a]);for(var s=this.U,u=s.rows,c=s.columns,h=new Ai(n,u),l=0;l<n;l++)for(var f=0;f<u;f++){for(var d=0,p=0;p<c;p++)d+=i.get(l,p)*s.get(f,p);h.set(l,f,d)}return h}},{key:\"condition\",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:\"norm2\",get:function(){return this.s[0]}},{key:\"rank\",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}},{key:\"diagonal\",get:function(){return Array.from(this.s)}},{key:\"threshold\",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:\"leftSingularVectors\",get:function(){return this.U}},{key:\"rightSingularVectors\",get:function(){return this.V}},{key:\"diagonalMatrix\",get:function(){return Ai.diag(this.s)}}]),Zi),Gi=(Fi=Bn,Object(L.__extends)(Ui,Fi),Ui.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},Ui.prototype.execute=function(){var n=this.nodes,t=this.edges,e=void 0===t?[]:t,r=this.center;if(n&&0!==n.length){if(1===n.length)return n[0].x=r[0],void(n[0].y=r[1]);var i=this.linkDistance,o=Lt({nodes:n,edges:e},!1),a=Dt(o);this.handleInfinity(a);var s=Bt(a,i);this.scaledDistances=s;var u=this.runMDS();(this.positions=u).forEach(function(t,e){n[e].x=t[0]+r[0],n[e].y=t[1]+r[1]})}},Ui.prototype.runMDS=function(){var t=this.scaledDistances,e=Ai.mul(Ai.pow(t,2),-.5),n=e.mean(\"row\"),r=e.mean(\"column\"),i=e.mean();e.add(i).subRowVector(n).subColumnVector(r);var o=new Xi(e),a=Ai.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(function(t){return Ai.mul([t],[a]).toJSON()[0].splice(0,2)})},Ui.prototype.handleInfinity=function(r){var i=-999999;r.forEach(function(t){t.forEach(function(t){t!==1/0&&i<t&&(i=t)})}),r.forEach(function(t,n){t.forEach(function(t,e){t===1/0&&(r[n][e]=i)})})},Ui),Vi=(Wi.prototype.layout=function(){var e=this.dimension,t=this.distances,n=this.linkDistance;try{var r=Ai.mul(Ai.pow(t,2),-.5),i=r.mean(\"row\"),o=r.mean(\"column\"),a=r.mean();r.add(a).subRowVector(i).subColumnVector(o);var s=new Xi(r),u=Ai.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map(function(t){return Ai.mul([t],[u]).toJSON()[0].splice(0,e)})}catch(e){for(var c=[],h=0;h<t.length;h++){var l=Math.random()*n,f=Math.random()*n;c.push([l,f])}return c}},Wi),qi=(Hi.prototype.layout=function(){var t=this.positions,n=[],e=this.iterations,r=this.width/10;this.maxDisplace=r,this.disp=n;for(var i=0;i<e;i++)t.forEach(function(t,e){n[e]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return t},Hi.prototype.getRepulsion=function(){var u=this,t=u.positions,c=u.nodes,h=u.disp,l=u.k,f=u.radii||[];t.forEach(function(a,s){h[s]={x:0,y:0},t.forEach(function(t,e){var n,r,i,o;s!==e&&f[s]===f[e]&&(r=a[0]-t[0],i=a[1]-t[1],0===(n=Math.sqrt(r*r+i*i))&&(n=1,i=r=.01*(e<s?1:-1)),n<u.nodeSizeFunc(c[s])/2+u.nodeSizeFunc(c[e])/2&&(o=l*l/n,h[s].x+=r/n*o,h[s].y+=i/n*o))})})},Hi.prototype.updatePositions=function(){var h=this.positions,s=this.disp,u=this.speed,c=this.strictRadial,l=this.focusID,f=this.maxDisplace||this.width/10;c&&s.forEach(function(t,e){var n=h[e][0]-h[l][0],r=h[e][1]-h[l][1],i=Math.sqrt(n*n+r*r),o=r/i,a=-n/i,s=Math.sqrt(t.x*t.x+t.y*t.y),u=Math.acos((o*t.x+a*t.y)/s);u>Math.PI/2&&(u-=Math.PI/2,o*=-1,a*=-1);var c=Math.cos(u)*s;t.x=o*c,t.y=a*c});var d=this.radii;h.forEach(function(t,e){var n,r,i,o,a;e===l||0<(n=Math.sqrt(s[e].x*s[e].x+s[e].y*s[e].y))&&e!==l&&(r=Math.min(f*(u/800),n),t[0]+=s[e].x/n*r,t[1]+=s[e].y/n*r,c&&(o=t[0]-h[l][0],a=t[1]-h[l][1],o=o/(i=Math.sqrt(o*o+a*a))*d[e],a=a/i*d[e],t[0]=h[l][0]+o,t[1]=h[l][1]+a))})},Hi);function Hi(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}function Wi(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}function Ui(){var t=null!==Fi&&Fi.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}function Zi(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,Zi);var n,r,i=(t=Ri.checkMatrix(t)).rows,o=t.columns,a=e.computeLeftSingularVectors,s=void 0===a||a,u=e.computeRightSingularVectors,c=void 0===u||u,h=e.autoTranspose,l=void 0!==h&&h,f=Boolean(s),d=Boolean(c),p=!1;i<o?l?(i=(n=t.transpose()).rows,o=n.columns,p=!0,r=f,f=d,d=r):(n=t.clone(),console.warn(\"Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose\")):n=t.clone();for(var g=Math.min(i,o),v=Math.min(i+1,o),y=new Float64Array(v),m=new Ai(i,g),b=new Ai(o,o),x=new Float64Array(o),w=new Float64Array(i),M=new Float64Array(v),S=0;S<v;S++)M[S]=S;for(var _=Math.min(i-1,o),O=Math.max(0,Math.min(o-2,i)),C=Math.max(_,O),k=0;k<C;k++){if(k<_){y[k]=0;for(var E=k;E<i;E++)y[k]=zi(y[k],n.get(E,k));if(0!==y[k]){n.get(k,k)<0&&(y[k]=-y[k]);for(var j=k;j<i;j++)n.set(j,k,n.get(j,k)/y[k]);n.set(k,k,n.get(k,k)+1)}y[k]=-y[k]}for(var P=k+1;P<o;P++){if(k<_&&0!==y[k]){for(var I=0,A=k;A<i;A++)I+=n.get(A,k)*n.get(A,P);I=-I/n.get(k,k);for(var T=k;T<i;T++)n.set(T,P,n.get(T,P)+I*n.get(T,k))}x[P]=n.get(k,P)}if(f&&k<_)for(var N=k;N<i;N++)m.set(N,k,n.get(N,k));if(k<O){x[k]=0;for(var B=k+1;B<o;B++)x[k]=zi(x[k],x[B]);if(0!==x[k]){x[k+1]<0&&(x[k]=0-x[k]);for(var D=k+1;D<o;D++)x[D]/=x[k];x[k+1]+=1}if(x[k]=-x[k],k+1<i&&0!==x[k]){for(var L=k+1;L<i;L++)w[L]=0;for(var R=k+1;R<i;R++)for(var z=k+1;z<o;z++)w[R]+=x[z]*n.get(R,z);for(var Y=k+1;Y<o;Y++)for(var F=-x[Y]/x[k+1],X=k+1;X<i;X++)n.set(X,Y,n.get(X,Y)+F*w[X])}if(d)for(var G=k+1;G<o;G++)b.set(G,k,x[G])}}var V=Math.min(o,i+1);if(_<o&&(y[_]=n.get(_,_)),i<V&&(y[V-1]=0),O+1<V&&(x[O]=n.get(O,V-1)),x[V-1]=0,f){for(var q=_;q<g;q++){for(var H=0;H<i;H++)m.set(H,q,0);m.set(q,q,1)}for(var W=_-1;0<=W;W--)if(0!==y[W]){for(var U=W+1;U<g;U++){for(var Z=0,$=W;$<i;$++)Z+=m.get($,W)*m.get($,U);Z=-Z/m.get(W,W);for(var K=W;K<i;K++)m.set(K,U,m.get(K,U)+Z*m.get(K,W))}for(var Q=W;Q<i;Q++)m.set(Q,W,-m.get(Q,W));m.set(W,W,1+m.get(W,W));for(var J=0;J<W-1;J++)m.set(J,W,0)}else{for(var tt=0;tt<i;tt++)m.set(tt,W,0);m.set(W,W,1)}}if(d)for(var et=o-1;0<=et;et--){if(et<O&&0!==x[et])for(var nt=et+1;nt<o;nt++){for(var rt=0,it=et+1;it<o;it++)rt+=b.get(it,et)*b.get(it,nt);rt=-rt/b.get(et+1,et);for(var ot=et+1;ot<o;ot++)b.set(ot,nt,b.get(ot,nt)+rt*b.get(ot,et))}for(var at=0;at<o;at++)b.set(at,et,0);b.set(et,et,1)}for(var st,ut=V-1,ct=Number.EPSILON;0<V;){for(var ht=void 0,lt=void 0,ht=V-2;-1<=ht&&-1!==ht;ht--){var ft=Number.MIN_VALUE+ct*Math.abs(y[ht]+Math.abs(y[ht+1]));if(Math.abs(x[ht])<=ft||Number.isNaN(x[ht])){x[ht]=0;break}}if(ht===V-2)lt=4;else{for(var dt=void 0,dt=V-1;ht<=dt&&dt!==ht;dt--){var pt=(dt!==V?Math.abs(x[dt]):0)+(dt!==ht+1?Math.abs(x[dt-1]):0);if(Math.abs(y[dt])<=ct*pt){y[dt]=0;break}}dt===ht?lt=3:dt===V-1?lt=1:(lt=2,ht=dt)}switch(ht++,lt){case 1:var gt=x[V-2];x[V-2]=0;for(var vt=V-2;ht<=vt;vt--){var yt=zi(y[vt],gt),mt=y[vt]/yt,bt=gt/yt;if(y[vt]=yt,vt!==ht&&(gt=-bt*x[vt-1],x[vt-1]=mt*x[vt-1]),d)for(var xt=0;xt<o;xt++)yt=mt*b.get(xt,vt)+bt*b.get(xt,V-1),b.set(xt,V-1,-bt*b.get(xt,vt)+mt*b.get(xt,V-1)),b.set(xt,vt,yt)}break;case 2:var wt=x[ht-1];x[ht-1]=0;for(var Mt=ht;Mt<V;Mt++){var St=zi(y[Mt],wt),_t=y[Mt]/St,Ot=wt/St;if(y[Mt]=St,wt=-Ot*x[Mt],x[Mt]=_t*x[Mt],f)for(var Ct=0;Ct<i;Ct++)St=_t*m.get(Ct,Mt)+Ot*m.get(Ct,ht-1),m.set(Ct,ht-1,-Ot*m.get(Ct,Mt)+_t*m.get(Ct,ht-1)),m.set(Ct,Mt,St)}break;case 3:var kt=Math.max(Math.abs(y[V-1]),Math.abs(y[V-2]),Math.abs(x[V-2]),Math.abs(y[ht]),Math.abs(x[ht])),Et=y[V-1]/kt,jt=y[V-2]/kt,Pt=x[V-2]/kt,It=y[ht]/kt,At=x[ht]/kt,Tt=((jt+Et)*(jt-Et)+Pt*Pt)/2,Nt=Et*Pt*(Et*Pt),Bt=0;0==Tt&&0==Nt||(Bt=Nt/(Tt+(Tt<0?0-Math.sqrt(Tt*Tt+Nt):Math.sqrt(Tt*Tt+Nt))));for(var Dt=(It+Et)*(It-Et)+Bt,Lt=It*At,Rt=ht;Rt<V-1;Rt++){var zt=zi(Dt,Lt);0===zt&&(zt=Number.MIN_VALUE);var Yt=Dt/zt,Ft=Lt/zt;if(Rt!==ht&&(x[Rt-1]=zt),Dt=Yt*y[Rt]+Ft*x[Rt],x[Rt]=Yt*x[Rt]-Ft*y[Rt],Lt=Ft*y[Rt+1],y[Rt+1]=Yt*y[Rt+1],d)for(var Xt=0;Xt<o;Xt++)zt=Yt*b.get(Xt,Rt)+Ft*b.get(Xt,Rt+1),b.set(Xt,Rt+1,-Ft*b.get(Xt,Rt)+Yt*b.get(Xt,Rt+1)),b.set(Xt,Rt,zt);if(0===(zt=zi(Dt,Lt))&&(zt=Number.MIN_VALUE),Yt=Dt/zt,Ft=Lt/zt,y[Rt]=zt,Dt=Yt*x[Rt]+Ft*y[Rt+1],y[Rt+1]=-Ft*x[Rt]+Yt*y[Rt+1],Lt=Ft*x[Rt+1],x[Rt+1]=Yt*x[Rt+1],f&&Rt<i-1)for(var Gt=0;Gt<i;Gt++)zt=Yt*m.get(Gt,Rt)+Ft*m.get(Gt,Rt+1),m.set(Gt,Rt+1,-Ft*m.get(Gt,Rt)+Yt*m.get(Gt,Rt+1)),m.set(Gt,Rt,zt)}x[V-2]=Dt;break;case 4:if(y[ht]<=0&&(y[ht]=y[ht]<0?-y[ht]:0,d))for(var Vt=0;Vt<=ut;Vt++)b.set(Vt,ht,-b.get(Vt,ht));for(;ht<ut&&!(y[ht]>=y[ht+1]);){var qt=y[ht];if(y[ht]=y[ht+1],y[ht+1]=qt,d&&ht<o-1)for(var Ht=0;Ht<o;Ht++)qt=b.get(Ht,ht+1),b.set(Ht,ht+1,b.get(Ht,ht)),b.set(Ht,ht,qt);if(f&&ht<i-1)for(var Wt=0;Wt<i;Wt++)qt=m.get(Wt,ht+1),m.set(Wt,ht+1,m.get(Wt,ht)),m.set(Wt,ht,qt);ht++}V--}}p&&(st=b,b=m,m=st),this.m=i,this.n=o,this.s=y,this.U=m,this.V=b}function $i(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Ki,Qi,Ji,to=(Ji=Bn,Object(L.__extends)(oo,Ji),oo.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},oo.prototype.execute=function(){var n=this,r=n.nodes,t=n.edges||[],i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var e=n.linkDistance,o=null;if(T()(n.focusNode)){for(var a=!1,s=0;s<r.length;s++)r[s].id===n.focusNode&&(o=r[s],n.focusNode=o,a=!0,s=r.length);a||(o=null)}else o=n.focusNode;o||(o=r[0],n.focusNode=o);var u,c,h=(u=o.id,c=-1,r.forEach(function(t,e){t.id===u&&(c=e)}),c);n.focusIndex=h;var l=Lt({nodes:r,edges:t},!1),f=Dt(l),d=n.maxToFocus(f,h);n.handleInfinity(f,h,d+1);var p=(n.distances=f)[h];n.width||\"undefined\"==typeof window||(n.width=window.innerWidth),n.height||\"undefined\"==typeof window||(n.height=window.innerHeight);var g=n.width||500,v=n.height||500,y=g-i[0]>i[0]?i[0]:g-i[0],m=v-i[1]>i[1]?i[1]:v-i[1];0===y&&(y=g/2),0===m&&(m=v/2);var b=y<m?y:m,x=Math.max.apply(Math,p),w=[];p.forEach(function(t,e){n.unitRadius||(n.unitRadius=b/x),w[e]=t*n.unitRadius}),n.radii=w;var M=n.eIdealDisMatrix(),S=function(t){for(var e=t.length,n=t[0].length,r=[],i=0;i<e;i++){for(var o=[],a=0;a<n;a++)0!==t[i][a]?o.push(1/(t[i][a]*t[i][a])):o.push(0);r.push(o)}return r}(n.eIdealDistances=M);n.weights=S;var _=new Vi({distances:M,linkDistance:e}).layout();_.forEach(function(t){N(t[0])&&(t[0]=Math.random()*e),N(t[1])&&(t[1]=Math.random()*e)}),(n.positions=_).forEach(function(t,e){r[e].x=t[0]+i[0],r[e].y=t[1]+i[1]}),_.forEach(function(t){t[0]-=_[h][0],t[1]-=_[h][1]}),n.run();var O,C,k,E=n.preventOverlap,j=n.nodeSize,P=n.strictRadial;E&&(O=n.nodeSpacing,C=A()(O)?function(){return O}:Hr()(O)?O:function(){return 0},k={nodeSizeFunc:j?I()(j)?function(t){return(j[0]>j[1]?j[0]:j[1])+C(t)}:function(t){return j+C(t)}:function(t){return t.size?I()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+C(t):t.size+C(t):10+C(t)},adjMatrix:l,positions:_,radii:w,height:v,width:g,strictRadial:P,focusID:h,iterations:n.maxPreventOverlapIteration||200,k:_.length/4.5,nodes:r},_=new qi(k).layout()),_.forEach(function(t,e){r[e].x=t[0]+i[0],r[e].y=t[1]+i[1]})}},oo.prototype.run=function(){for(var t=this.maxIteration,e=this.positions||[],n=this.weights||[],r=this.eIdealDistances||[],i=this.radii||[],o=0;o<=t;o++){var a=o/t;this.oneIteration(a,e,i,r,n)}},oo.prototype.oneIteration=function(r,i,h,l,f){var d=1-r,p=this.focusIndex;i.forEach(function(o,a){var s,u,c,t,e=$i(o,[0,0]),n=0===e?0:1/e;a!==p&&(c=u=s=0,i.forEach(function(t,e){var n,r,i;a!==e&&(r=0===(n=$i(o,t))?0:1/n,i=l[e][a],c+=f[a][e],s+=f[a][e]*(t[0]+i*(o[0]-t[0])*r),u+=f[a][e]*(t[1]+i*(o[1]-t[1])*r))}),t=0===h[a]?0:1/h[a],c*=d,c+=r*t*t,s*=d,s+=r*t*o[0]*n,o[0]=s/c,u*=d,u+=r*t*o[1]*n,o[1]=u/c)})},oo.prototype.eIdealDisMatrix=function(){var s=this,u=s.nodes;if(!u)return[];var t=s.distances,c=s.linkDistance,h=s.radii||[],l=s.unitRadius||50,e=[];return t&&t.forEach(function(t,o){var a=[];t.forEach(function(t,e){var n,r,i;o===e?a.push(0):h[o]===h[e]?\"data\"===s.sortBy?a.push(t*(Math.abs(o-e)*s.sortStrength)/(h[o]/l)):s.sortBy?(n=u[o][s.sortBy]||0,r=u[e][s.sortBy]||0,T()(n)&&(n=n.charCodeAt(0)),T()(r)&&(r=r.charCodeAt(0)),a.push(t*(Math.abs(n-r)*s.sortStrength)/(h[o]/l))):a.push(t*c/(h[o]/l)):(i=(c+l)/2,a.push(t*i))}),e.push(a)}),e},oo.prototype.handleInfinity=function(t,e,n){for(var r,i=t.length,o=0;o<i;o++)if(t[e][o]===1/0){t[e][o]=n,t[o][e]=n;for(var a=0;a<i;a++)t[o][a]!==1/0&&t[e][a]===1/0&&(t[e][a]=n+t[o][a],t[a][e]=n+t[o][a])}for(o=0;o<i;o++)if(o!==e)for(a=0;a<i;a++){t[o][a]===1/0&&(r=0===(r=Math.abs(t[e][o]-t[e][a]))?1:r,t[o][a]=r)}},oo.prototype.maxToFocus=function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n},oo),eo=(Qi=Bn,Object(L.__extends)(io,Qi),io.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},io.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;e.width||\"undefined\"==typeof window||(e.width=window.innerWidth),e.height||\"undefined\"==typeof window||(e.height=window.innerHeight),t&&t.forEach(function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]})},io),no={circular:Un,concentric:Zn,dagre:Qn,force:Ur,g6force:Jr,comboForce:(Ki=Bn,Object(L.__extends)(ro,Ki),ro.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},ro.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={id:\"comboTreeRoot\",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);this.initVals(),this.run(),this.onLayoutEnd()}},ro.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var r=t.center,i=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(var a=0;a<n;a++)!function(){var n=[];e.forEach(function(t,e){n[e]={x:0,y:0}}),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach(function(t,e){Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(t.x+=n[e].x*i,t.y+=n[e].y*i)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()}();var s=[0,0];e.forEach(function(t){Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(s[0]+=t.x,s[1]+=t.y)}),s[0]/=e.length,s[1]/=e.length;var u=[r[0]-s[0],r[1]-s[1]];e.forEach(function(t,e){Object(ot.isNumber)(t.x)&&Object(ot.isNumber)(t.y)&&(t.x+=u[0],t.y+=u[1])}),t.combos.forEach(function(t){var e=o[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)}),t.previousLayouted=!0},ro.prototype.initVals=function(){var t=this.edges,e=this.nodes,n=this.combos,r={},i={},o={};e.forEach(function(t,e){i[t.id]=t,o[t.id]=e}),this.nodeMap=i,this.nodeIdxMap=o;var a={};n.forEach(function(t){a[t.id]=t}),this.oriComboMap=a,this.comboMap=this.getComboMap();var s=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||s,this.preventNodeOverlap=this.preventNodeOverlap||s;var u=this.collideStrength;u&&(this.comboCollideStrength=u,this.nodeCollideStrength=u);for(var c=0;c<t.length;++c)r[t[c].source]?r[t[c].source]++:r[t[c].source]=1,r[t[c].target]?r[t[c].target]++:r[t[c].target]=1;for(var h=[],c=0;c<t.length;++c)h[c]=r[t[c].source]/(r[t[c].source]+r[t[c].target]);this.bias=h;var l,f,d,p=this.nodeSize,g=this.nodeSpacing,v=Object(ot.isNumber)(g)?function(){return g}:Object(ot.isFunction)(g)?g:function(){return 0};this.nodeSpacing=v,f=p?Object(ot.isFunction)(p)?function(t){return p(t)}:Object(ot.isArray)(p)?(l=(p[0]>p[1]?p[0]:p[1])/2,function(t){return l}):(d=p/2,function(t){return d}):function(t){return t.size?Object(ot.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10},this.nodeSize=f;var y=this.comboSpacing,m=Object(ot.isNumber)(y)?function(){return y}:Object(ot.isFunction)(y)?y:function(){return 0};this.comboSpacing=m;var b=this.comboPadding,x=Object(ot.isNumber)(b)?function(){return b}:Object(ot.isArray)(b)?function(){return Math.max.apply(null,b)}:Object(ot.isFunction)(b)?b:function(){return 0};this.comboPadding=x;var w=(w=this.linkDistance)||10,M=Object(ot.isNumber)(w)?function(t){return w}:w;this.linkDistance=M;var S=(S=this.edgeStrength)||1,_=Object(ot.isNumber)(S)?function(t){return S}:S;this.edgeStrength=_;var O=(O=this.nodeStrength)||30,C=Object(ot.isNumber)(O)?function(t){return O}:O;this.nodeStrength=C},ro.prototype.initPos=function(r){this.nodes.forEach(function(t,e){var n;t.comboId?(n=r[t.comboId],t.x=n.cx+100/(e+1),t.y=n.cy+100/(e+1)):(t.x=100/(e+1),t.y=100/(e+1))})},ro.prototype.getComboMap=function(){var c=this,h=c.nodeMap,l=c.nodeIdxMap,t=c.comboTrees,f=c.oriComboMap,d={};return(t||[]).forEach(function(t){var u=[];mn(t,function(t){if(\"node\"===t.itemType)return!0;if(!f[t.id])return!0;var e;void 0===d[t.id]&&(e={name:t.id,cx:0,cy:0,count:0,depth:c.oriComboMap[t.id].depth,children:[]},d[t.id]=e);var n=t.children;n&&n.forEach(function(t){return!d[t.id]&&!h[t.id]||void u.push(t)});var r,i,o,a,s=d[t.id];return s.cx=0,(s.cy=0)===u.length&&(s.empty=!0,r=f[t.id],i=Object.keys(h).length,a={id:o=t.id+\"-visual-child-\"+i,x:r.x,y:r.y,depth:s.depth+1,itemType:\"node\"},c.nodes.push(a),h[o]=a,l[o]=i,s.cx=r.x,s.cy=r.y,u.push(a)),u.forEach(function(t){if(s.count++,\"node\"!==t.itemType){var e=d[t.id];return Object(ot.isNumber)(e.cx)&&(s.cx+=e.cx),void(Object(ot.isNumber)(e.cy)&&(s.cy+=e.cy))}var n=h[t.id];n&&(Object(ot.isNumber)(n.x)&&(s.cx+=n.x),Object(ot.isNumber)(n.y)&&(s.cy+=n.y))}),s.cx/=s.count,s.cy/=s.count,s.children=u,!0})}),d},ro.prototype.applyComboCenterForce=function(f){var t=this.gravity,d=this.comboGravity||t,p=this.alpha,e=this.comboTrees,g=this.nodeIdxMap,v=this.nodeMap,y=this.comboMap;(e||[]).forEach(function(t){mn(t,function(t){if(\"node\"===t.itemType)return!0;if(!y[t.id])return!0;var u=y[t.id],c=.5*(u.depth+1),h=u.cx,l=u.cy;return u.cx=0,u.cy=0,u.children.forEach(function(t){if(\"node\"!==t.itemType){var e=y[t.id];return e&&Object(ot.isNumber)(e.cx)&&(u.cx+=e.cx),void(e&&Object(ot.isNumber)(e.cy)&&(u.cy+=e.cy))}var n=v[t.id],r=n.x-h||.005,i=n.y-l||.005,o=Math.sqrt(r*r+i*i),a=g[n.id],s=d*p/o*c;f[a].x-=r*s,f[a].y-=i*s,Object(ot.isNumber)(n.x)&&(u.cx+=n.x),Object(ot.isNumber)(n.y)&&(u.cy+=n.y)}),u.cx/=u.count,u.cy/=u.count,!0})})},ro.prototype.applyCalculate=function(t){var e=this.comboMap,n=this.nodes,u={};n.forEach(function(a,s){n.forEach(function(t,e){var n,r,i,o;s<e||(i=(n=a.x-t.x||.005)*n+(r=a.y-t.y||.005)*r,o=Math.sqrt(i),i<1&&(i=o),u[a.id+\"-\"+t.id]={vx:n,vy:r,vl2:i,vl:o},u[t.id+\"-\"+a.id]={vx:-n,vy:-r,vl2:i,vl:o})})}),this.updateComboSizes(e),this.calRepulsive(t,u),this.calAttractive(t,u),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},ro.prototype.updateComboSizes=function(o){var a=this,t=a.comboTrees,u=a.nodeMap,c=a.nodeSize,h=a.comboSpacing,l=a.comboPadding;(t||[]).forEach(function(t){var i=[];mn(t,function(t){if(\"node\"===t.itemType)return!0;var s=o[t.id];if(s){var e=t.children;e&&e.forEach(function(t){(o[t.id]||u[t.id])&&i.push(t)}),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0,i.forEach(function(t){if(\"node\"!==t.itemType)return!0;var e=u[t.id];if(!e)return!0;var n=c(e),r=e.x-n,i=e.y-n,o=e.x+n,a=e.y+n;s.minX>r&&(s.minX=r),s.minY>i&&(s.minY=i),s.maxX<o&&(s.maxX=o),s.maxY<a&&(s.maxY=a)});var n=a.oriComboMap[t.id].size||F.defaultCombo.size;Object(ot.isArray)(n)&&(n=n[0]);var r=Math.max(s.maxX-s.minX,s.maxY-s.minY,n);return s.r=r/2+h(s)/2+l(s),!0}})})},ro.prototype.comboNonOverlapping=function(M,S){var t=this.comboTree,_=this.comboCollideStrength,O=this.nodeIdxMap,C=this.nodeMap;mn(t,function(t){if(S[t.id]||C[t.id]||\"comboTreeRoot\"===t.id){var e=t.children;return e&&1<e.length&&e.forEach(function(b,x){var w;\"node\"===b.itemType||(w=S[b.id])&&e.forEach(function(t,e){if(!(x<=e)&&\"node\"!==t.itemType){var n=S[t.id];if(n){var r=w.cx-n.cx||.005,i=w.cy-n.cy||.005,o=r*r+i*i,a=w.r,s=n.r,u=a+s,c=s*s,h=a*a;if(o<u*u){var l=b.children;if(!l||0===l.length)return;var f=t.children;if(!f||0===f.length)return;var d=Math.sqrt(o),p=(u-d)/d*_,g=r*p,v=i*p,y=c/(h+c),m=1-y;l.forEach(function(t){var n;\"node\"===t.itemType&&C[t.id]&&(n=O[t.id],f.forEach(function(t){var e;\"node\"===t.itemType&&C[t.id]&&(e=O[t.id],M[n].x+=g*y,M[n].y+=v*y,M[e].x-=g*m,M[e].y-=v*m)}))})}}}})}),!0}})},ro.prototype.calRepulsive=function(w,M){var i=this,o=i.nodes,S=i.width*i.optimizeRangeFactor,_=i.nodeStrength,O=i.alpha,C=i.nodeCollideStrength,k=i.preventNodeOverlap,E=i.nodeSize,j=i.nodeSpacing,P=i.depthRepulsiveForceScale,a=i.center;o.forEach(function(b,x){var t,e,n,r;b.x&&b.y&&(a&&(t=i.gravity,e=b.x-a[0]||.005,n=b.y-a[1]||.005,r=Math.sqrt(e*e+n*n),w[x].x-=e*t*O/r,w[x].y-=n*t*O/r),o.forEach(function(t,e){var n,r,i,o,a,s,u,c,h,l,f,d,p,g,v,y,m;x!==e&&t.x&&t.y&&(r=(n=M[b.id+\"-\"+t.id]).vl2,i=n.vl,S<i||(a=(o=M[b.id+\"-\"+t.id]).vx,s=o.vy,u=Math.abs(t.depth-b.depth)+1||1,t.comboId!==b.comboId&&u++,c=u?Math.pow(P,u):1,h=_(t)*O/r*c,w[x].x+=a*h,w[x].y+=s*h,x<e&&k&&r<(d=(l=E(b)+j(b))+(f=E(t)+j(t)))*d&&(v=(g=f*f)/(l*l+g),y=a*(p=(d-i)/i*C),m=s*p,w[x].x+=y*v,w[x].y+=m*v,v=1-v,w[e].x-=y*v,w[e].y-=m*v)))}))})},ro.prototype.calAttractive=function(v,y){var m=this,t=m.edges,b=m.linkDistance,x=m.alpha,w=m.edgeStrength,M=m.bias,S=m.depthAttractiveForceScale;t.forEach(function(t,e){var n,r,i,o,a,s,u,c,h,l,f,d,p,g;t.source&&t.target&&t.source!==t.target&&(n=m.nodeIdxMap[t.source],r=m.nodeIdxMap[t.target],i=m.nodeMap[t.source],o=m.nodeMap[t.target],a=Math.abs(i.depth-o.depth),i.comboId===o.comboId&&(a/=2),s=a?Math.pow(S,a):1,i.comboId!==o.comboId&&1===s?s=S/2:i.comboId===o.comboId&&(s=2),Object(ot.isNumber)(o.x)&&Object(ot.isNumber)(i.x)&&Object(ot.isNumber)(o.y)&&Object(ot.isNumber)(i.y)&&(c=(u=y[t.target+\"-\"+t.source]).vl,h=u.vx,l=u.vy,d=h*(f=(c-b(t))/c*x*w(t)*s),p=l*f,g=M[e],v[r].x-=d*g,v[r].y-=p*g,v[n].x+=d*(1-g),v[n].y+=p*(1-g)))})},ro),fruchterman:ti,grid:ei,mds:Gi,radial:to,random:eo};function ro(){var t=null!==Ki&&Ki.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}function io(){var t=null!==Qi&&Qi.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}function oo(){var t=null!==Ji&&Ji.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}m()(no,function(t,e){Ln.registerLayout(e,{},t)});function ao(){return lo()('!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,\"a\",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p=\"\",r(r.s=307)}([function(t,n,r){var e;try{e={cloneDeep:r(247),constant:r(66),defaults:r(248),each:r(92),filter:r(95),find:r(249),flatten:r(122),forEach:r(93),forIn:r(254),has:r(106),isUndefined:r(107),last:r(255),map:r(108),mapValues:r(256),max:r(257),merge:r(259),min:r(265),minBy:r(266),now:r(267),pick:r(268),range:r(273),reduce:r(110),sortBy:r(276),uniqueId:r(281),values:r(115),zipObject:r(282)}}catch(t){}e||(e=window._),t.exports=e},function(t,n){var r=Array.isArray;t.exports=r},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=r(33);n.default=function(t){return Array.isArray?Array.isArray(t):e.default(t,\"Array\")}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new e.ARRAY_TYPE(9);e.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new e.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,r,o,i,a,u,s,c){var f=new e.ARRAY_TYPE(9);return f[0]=t,f[1]=n,f[2]=r,f[3]=o,f[4]=i,f[5]=a,f[6]=u,f[7]=s,f[8]=c,f},n.set=function(t,n,r,e,o,i,a,u,s,c){return t[0]=n,t[1]=r,t[2]=e,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var r=n[1],e=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=f*a-u*c,l=-f*i+u*s,d=c*i-a*s,p=r*h+e*l+o*d;if(!p)return null;return p=1/p,t[0]=h*p,t[1]=(-f*e+o*c)*p,t[2]=(u*e-o*a)*p,t[3]=l*p,t[4]=(f*r-o*s)*p,t[5]=(-u*r+o*i)*p,t[6]=d*p,t[7]=(-c*r+e*s)*p,t[8]=(a*r-e*i)*p,t},n.adjoint=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8];return t[0]=a*f-u*c,t[1]=o*c-e*f,t[2]=e*u-o*a,t[3]=u*s-i*f,t[4]=r*f-o*s,t[5]=o*i-r*u,t[6]=i*c-a*s,t[7]=e*s-r*c,t[8]=r*a-e*i,t},n.determinant=function(t){var n=t[0],r=t[1],e=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return n*(c*i-a*s)+r*(-c*o+a*u)+e*(s*o-i*u)},n.multiply=o,n.translate=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=r[0],d=r[1];return t[0]=e,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=l*e+d*a+c,t[7]=l*o+d*u+f,t[8]=l*i+d*s+h,t},n.rotate=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=Math.sin(r),d=Math.cos(r);return t[0]=d*e+l*a,t[1]=d*o+l*u,t[2]=d*i+l*s,t[3]=d*a-l*e,t[4]=d*u-l*o,t[5]=d*s-l*i,t[6]=c,t[7]=f,t[8]=h,t},n.scale=function(t,n,r){var e=r[0],o=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=r+r,u=e+e,s=o+o,c=r*a,f=e*a,h=e*u,l=o*a,d=o*u,p=o*s,v=i*a,y=i*u,g=i*s;return t[0]=1-h-p,t[3]=f-g,t[6]=l+y,t[1]=f+g,t[4]=1-c-p,t[7]=d-v,t[2]=l-y,t[5]=d+v,t[8]=1-c-h,t},n.normalFromMat4=function(t,n){var r=n[0],e=n[1],o=n[2],i=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],v=n[13],y=n[14],g=n[15],m=r*u-e*a,w=r*s-o*a,b=r*c-i*a,x=e*s-o*u,M=e*c-i*u,E=o*c-i*s,_=f*v-h*p,S=f*y-l*p,k=f*g-d*p,j=h*y-l*v,O=h*g-d*v,N=l*g-d*y,A=m*N-w*O+b*j+x*k-M*S+E*_;if(!A)return null;return A=1/A,t[0]=(u*N-s*O+c*j)*A,t[1]=(s*k-a*N-c*S)*A,t[2]=(a*O-u*k+c*_)*A,t[3]=(o*O-e*N-i*j)*A,t[4]=(r*N-o*k+i*S)*A,t[5]=(e*k-r*O-i*_)*A,t[6]=(v*E-y*M+g*x)*A,t[7]=(y*b-p*E-g*w)*A,t[8]=(p*M-v*b+g*m)*A,t},n.projection=function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},n.subtract=i,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},n.multiplyScalarAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],l=n[0],d=n[1],p=n[2],v=n[3],y=n[4],g=n[5],m=n[6],w=n[7],b=n[8];return Math.abs(r-l)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-p)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-y)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(s-g)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-m)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-w)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(h-b)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var e=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(54));function o(t,n,r){var e=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=r[0],d=r[1],p=r[2],v=r[3],y=r[4],g=r[5],m=r[6],w=r[7],b=r[8];return t[0]=l*e+d*a+p*c,t[1]=l*o+d*u+p*f,t[2]=l*i+d*s+p*h,t[3]=v*e+y*a+g*c,t[4]=v*o+y*u+g*f,t[5]=v*i+y*s+g*h,t[6]=m*e+w*a+b*c,t[7]=m*o+w*u+b*f,t[8]=m*i+w*s+b*h,t}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}n.mul=o,n.sub=i},function(t,n,r){\"use strict\";var e=r(0),o=r(7).Graph;function i(t,n,r,o){var i;do{i=e.uniqueId(o)}while(t.hasNode(i));return r.dummy=n,t.setNode(i,r),i}function a(t){return e.max(e.map(t.nodes(),(function(n){var r=t.node(n).rank;if(!e.isUndefined(r))return r})))}t.exports={addDummyNode:i,simplify:function(t){var n=(new o).setGraph(t.graph());return e.forEach(t.nodes(),(function(r){n.setNode(r,t.node(r))})),e.forEach(t.edges(),(function(r){var e=n.edge(r.v,r.w)||{weight:0,minlen:1},o=t.edge(r);n.setEdge(r.v,r.w,{weight:e.weight+o.weight,minlen:Math.max(e.minlen,o.minlen)})})),n},asNonCompoundGraph:function(t){var n=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return e.forEach(t.nodes(),(function(r){t.children(r).length||n.setNode(r,t.node(r))})),e.forEach(t.edges(),(function(r){n.setEdge(r,t.edge(r))})),n},successorWeights:function(t){var n=e.map(t.nodes(),(function(n){var r={};return e.forEach(t.outEdges(n),(function(n){r[n.w]=(r[n.w]||0)+t.edge(n).weight})),r}));return e.zipObject(t.nodes(),n)},predecessorWeights:function(t){var n=e.map(t.nodes(),(function(n){var r={};return e.forEach(t.inEdges(n),(function(n){r[n.v]=(r[n.v]||0)+t.edge(n).weight})),r}));return e.zipObject(t.nodes(),n)},intersectRect:function(t,n){var r,e,o=t.x,i=t.y,a=n.x-o,u=n.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error(\"Not possible to find intersection inside of the rectangle\");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),r=c*a/u,e=c):(a<0&&(s=-s),r=s,e=s*u/a);return{x:o+r,y:i+e}},buildLayerMatrix:function(t){var n=e.map(e.range(a(t)+1),(function(){return[]}));return e.forEach(t.nodes(),(function(r){var o=t.node(r),i=o.rank;e.isUndefined(i)||(n[i][o.order]=r)})),n},normalizeRanks:function(t){var n=e.min(e.map(t.nodes(),(function(n){return t.node(n).rank})));e.forEach(t.nodes(),(function(r){var o=t.node(r);e.has(o,\"rank\")&&(o.rank-=n)}))},removeEmptyRanks:function(t){var n=e.min(e.map(t.nodes(),(function(n){return t.node(n).rank}))),r=[];e.forEach(t.nodes(),(function(e){var o=t.node(e).rank-n;r[o]||(r[o]=[]),r[o].push(e)}));var o=0,i=t.graph().nodeRankFactor;e.forEach(r,(function(n,r){e.isUndefined(n)&&r%i!=0?--o:o&&e.forEach(n,(function(n){t.node(n).rank+=o}))}))},addBorderNode:function(t,n,r,e){var o={width:0,height:0};arguments.length>=4&&(o.rank=r,o.order=e);return i(t,\"border\",o,n)},maxRank:a,partition:function(t,n){var r={lhs:[],rhs:[]};return e.forEach(t,(function(t){n(t)?r.lhs.push(t):r.rhs.push(t)})),r},time:function(t,n){var r=e.now();try{return n()}finally{console.log(t+\" time: \"+(e.now()-r)+\"ms\")}},notime:function(t,n){return n()}}},function(t,n,r){var e;try{e={clone:r(134),constant:r(66),each:r(92),filter:r(95),has:r(106),isArray:r(1),isEmpty:r(211),isFunction:r(26),isUndefined:r(107),keys:r(14),map:r(108),reduce:r(110),size:r(214),transform:r(220),union:r(221),values:r(115)}}catch(t){}e||(e=window._),t.exports=e},function(t,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){var n=r(t);return null!=t&&(\"object\"==n||\"function\"==n)}},function(t,n,r){var e;try{e=r(132)}catch(t){}e||(e=window.graphlib),t.exports=e},function(t,n,r){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(75),i=\"object\"==(\"undefined\"==typeof self?\"undefined\":e(self))&&self&&self.Object===Object&&self,a=o||i||Function(\"return this\")();t.exports=a},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=o,n.clone=function(t){var n=new e.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var r=new e.ARRAY_TYPE(2);return r[0]=t,r[1]=n,r},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,r){return t[0]=n,t[1]=r,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},n.subtract=i,n.multiply=a,n.divide=u,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},n.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t},n.distance=s,n.squaredDistance=c,n.length=f,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var r=n[0],e=n[1],o=r*r+e*e;o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,r){var e=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=e,t},n.lerp=function(t,n,r,e){var o=n[0],i=n[1];return t[0]=o+e*(r[0]-o),t[1]=i+e*(r[1]-i),t},n.random=function(t,n){n=n||1;var r=2*e.RANDOM()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t},n.transformMat2=function(t,n,r){var e=n[0],o=n[1];return t[0]=r[0]*e+r[2]*o,t[1]=r[1]*e+r[3]*o,t},n.transformMat2d=function(t,n,r){var e=n[0],o=n[1];return t[0]=r[0]*e+r[2]*o+r[4],t[1]=r[1]*e+r[3]*o+r[5],t},n.transformMat3=function(t,n,r){var e=n[0],o=n[1];return t[0]=r[0]*e+r[3]*o+r[6],t[1]=r[1]*e+r[4]*o+r[7],t},n.transformMat4=function(t,n,r){var e=n[0],o=n[1];return t[0]=r[0]*e+r[4]*o+r[12],t[1]=r[1]*e+r[5]*o+r[13],t},n.rotate=function(t,n,r,e){var o=n[0]-r[0],i=n[1]-r[1],a=Math.sin(e),u=Math.cos(e);return t[0]=o*u-i*a+r[0],t[1]=o*a+i*u+r[1],t},n.angle=function(t,n){var r=t[0],e=t[1],o=n[0],i=n[1],a=r*r+e*e;a>0&&(a=1/Math.sqrt(a));var u=o*o+i*i;u>0&&(u=1/Math.sqrt(u));var s=(r*o+e*i)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},n.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var r=t[0],o=t[1],i=n[0],a=n[1];return Math.abs(r-i)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))};var e=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(54));function o(){var t=new e.ARRAY_TYPE(2);return e.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function a(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t}function u(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t}function s(t,n){var r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)}function c(t,n){var r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e}function f(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)}function h(t){var n=t[0],r=t[1];return n*n+r*r}var l;n.len=f,n.sub=i,n.mul=a,n.div=u,n.dist=s,n.sqrDist=c,n.sqrLen=h,n.forEach=(l=o(),function(t,n,r,e,o,i){var a=void 0,u=void 0;for(n||(n=2),r||(r=0),u=e?Math.min(e*n+r,t.length):t.length,a=r;a<u;a+=n)l[0]=t[a],l[1]=t[a+1],o(l,l,i),t[a]=l[0],t[a+1]=l[1];return t})},function(t,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){return null!=t&&\"object\"==r(t)}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=r(33);n.default=function(t){return e.default(t,\"String\")}},function(t,n,r){var e=r(26),o=r(60);t.exports=function(t){return null!=t&&o(t.length)&&!e(t)}},function(t,n,r){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(191),i=r(201),a=r(18),u=r(1),s=r(208);t.exports=function(t){return\"function\"==typeof t?t:null==t?a:\"object\"==e(t)?u(t)?i(t[0],t[1]):o(t):s(t)}},function(t,n,r){var e=r(78),o=r(62),i=r(12);t.exports=function(t){return i(t)?e(t):o(t)}},function(t,n,r){var e=r(145),o=r(151);t.exports=function(t,n){var r=o(t,n);return e(r)?r:void 0}},function(t,n,r){var e=r(22),o=r(147),i=r(148),a=e?e.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":a&&a in Object(t)?o(t):i(t)}},function(t,n,r){var e=r(78),o=r(171),i=r(12);t.exports=function(t){return i(t)?e(t,!0):o(t)}},function(t,n){t.exports=function(t){return t}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=r(33);n.default=function(t){return e.default(t,\"Number\")}},function(t,n,r){\"use strict\";var e=Object.prototype.toString;t.exports=function(t){return e.call(t).endsWith(\"Array]\")}},function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},function(t,n,r){var e=r(8).Symbol;t.exports=e},function(t,n,r){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(8),i=r(167),a=\"object\"==e(n)&&n&&!n.nodeType&&n,u=a&&\"object\"==e(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,r(59)(t))},function(t,n,r){var e=r(176),o=r(56),i=r(177),a=r(87),u=r(178),s=r(16),c=r(76),f=c(e),h=c(o),l=c(i),d=c(a),p=c(u),v=s;(e&&\"[object DataView]\"!=v(new e(new ArrayBuffer(1)))||o&&\"[object Map]\"!=v(new o)||i&&\"[object Promise]\"!=v(i.resolve())||a&&\"[object Set]\"!=v(new a)||u&&\"[object WeakMap]\"!=v(new u))&&(v=function(t){var n=s(t),r=\"[object Object]\"==n?t.constructor:void 0,e=r?c(r):\"\";if(e)switch(e){case f:return\"[object DataView]\";case h:return\"[object Map]\";case l:return\"[object Promise]\";case d:return\"[object Set]\";case p:return\"[object WeakMap]\"}return n}),t.exports=v},function(t,n,r){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(16),i=r(10);t.exports=function(t){return\"symbol\"==e(t)||i(t)&&\"[object Symbol]\"==o(t)}},function(t,n,r){var e=r(16),o=r(6);t.exports=function(t){if(!o(t))return!1;var n=e(t);return\"[object Function]\"==n||\"[object GeneratorFunction]\"==n||\"[object AsyncFunction]\"==n||\"[object Proxy]\"==n}},function(t,n,r){var e=r(39),o=r(40);t.exports=function(t,n,r,i){var a=!r;r||(r={});for(var u=-1,s=n.length;++u<s;){var c=n[u],f=i?i(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),a?o(r,c,f):e(r,c,f)}return r}},function(t,n,r){var e=r(166),o=r(10),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(t){return o(t)&&a.call(t,\"callee\")&&!u.call(t,\"callee\")};t.exports=s},function(t,n,r){var e=r(168),o=r(42),i=r(61),a=i&&i.isTypedArray,u=a?o(a):e;t.exports=u},function(t,n,r){var e=r(25);t.exports=function(t){if(\"string\"==typeof t||e(t))return t;var n=t+\"\";return\"0\"==n&&1/t==-1/0?\"-0\":n}},function(t,n,r){\"use strict\";function e(t,n){for(var r in n)n.hasOwnProperty(r)&&\"constructor\"!==r&&void 0!==n[r]&&(t[r]=n[r])}Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t,n,r,o){return n&&e(t,n),r&&e(t,r),o&&e(t,o),t}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=r(33);n.default=function(t){return e.default(t,\"Function\")}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e={}.toString;n.default=function(t,n){return e.call(t)===\"[object \"+n+\"]\"}},function(t,n,r){var e=r(35),o=r(140),i=r(141),a=r(142),u=r(143),s=r(144);function c(t){var n=this.__data__=new e(t);this.size=n.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,n,r){var e=r(135),o=r(136),i=r(137),a=r(138),u=r(139);function s(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}s.prototype.clear=e,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,n,r){var e=r(21);t.exports=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}},function(t,n,r){var e=r(15)(Object,\"create\");t.exports=e},function(t,n,r){var e=r(160);t.exports=function(t,n){var r=t.__data__;return e(n)?r[\"string\"==typeof n?\"string\":\"hash\"]:r.map}},function(t,n,r){var e=r(40),o=r(21),i=Object.prototype.hasOwnProperty;t.exports=function(t,n,r){var a=t[n];i.call(t,n)&&o(a,r)&&(void 0!==r||n in t)||e(t,n,r)}},function(t,n,r){var e=r(77);t.exports=function(t,n,r){\"__proto__\"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}},function(t,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var e=/^(?:0|[1-9]\\\\d*)$/;t.exports=function(t,n){var o=r(t);return!!(n=null==n?9007199254740991:n)&&(\"number\"==o||\"symbol\"!=o&&e.test(t))&&t>-1&&t%1==0&&t<n}},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n){var r=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===(\"function\"==typeof n&&n.prototype||r)}},function(t,n,r){var e=r(79)(Object.getPrototypeOf,Object);t.exports=e},function(t,n,r){var e=r(67),o=r(189)(e);t.exports=o},function(t,n,r){var e=r(47),o=r(30);t.exports=function(t,n){for(var r=0,i=(n=e(n,t)).length;null!=t&&r<i;)t=t[o(n[r++])];return r&&r==i?t:void 0}},function(t,n,r){var e=r(1),o=r(70),i=r(203),a=r(102);t.exports=function(t,n){return e(t)?t:o(t,n)?[t]:i(a(t))}},function(t,n){t.exports=function(t,n){for(var r=-1,e=null==t?0:t.length,o=Array(e);++r<e;)o[r]=n(t[r],r,t);return o}},function(t,n,r){var e=r(18),o=r(111),i=r(112);t.exports=function(t,n){return i(o(t,n,e),t+\"\")}},function(t,n,r){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(21),i=r(12),a=r(41),u=r(6);t.exports=function(t,n,r){if(!u(r))return!1;var s=e(n);return!!(\"number\"==s?i(r)&&a(n,r.length):\"string\"==s&&n in r)&&o(r[n],t)}},function(t,n,r){\"use strict\";var e=r(0);t.exports={longestPath:function(t){var n={};e.forEach(t.sources(),(function r(o){var i=t.node(o);if(e.has(n,o))return i.rank;n[o]=!0;var a=e.min(e.map(t.outEdges(o),(function(n){return r(n.w)-t.edge(n).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,n){return t.node(n.w).rank-t.node(n.v).rank-t.edge(n).minlen}}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=r(2),o=r(131);n.default=function(t,n){if(t)if(e.default(t))for(var r=0,i=t.length;r<i&&!1!==n(t[r],r);r++);else if(o.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===n(t[a],a))break}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});n.default=function(t){return null==t}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t},n.toRadian=function(t){return t*o},n.equals=function(t,n){return Math.abs(t-n)<=e*Math.max(1,Math.abs(t),Math.abs(n))};var e=n.EPSILON=1e-6;n.ARRAY_TYPE=\"undefined\"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random;var o=Math.PI/180},function(t,n,r){\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(5);t.exports=i;function i(t){this._isDirected=!o.has(t,\"directed\")||t.directed,this._isMultigraph=!!o.has(t,\"multigraph\")&&t.multigraph,this._isCompound=!!o.has(t,\"compound\")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[\"\\\\0\"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,n){t[n]?t[n]++:t[n]=1}function u(t,n){--t[n]||delete t[n]}function s(t,n,r,e){var i=\"\"+n,a=\"\"+r;if(!t&&i>a){var u=i;i=a,a=u}return i+\"\u0001\"+a+\"\u0001\"+(o.isUndefined(e)?\"\\\\0\":e)}function c(t,n,r,e){var o=\"\"+n,i=\"\"+r;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return e&&(u.name=e),u}function f(t,n){return s(t,n.v,n.w,n.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var t=this;return o.filter(this.nodes(),(function(n){return o.isEmpty(t._in[n])}))},i.prototype.sinks=function(){var t=this;return o.filter(this.nodes(),(function(n){return o.isEmpty(t._out[n])}))},i.prototype.setNodes=function(t,n){var r=arguments,e=this;return o.each(t,(function(t){r.length>1?e.setNode(t,n):e.setNode(t)})),this},i.prototype.setNode=function(t,n){return o.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=\"\\\\0\",this._children[t]={},this._children[\"\\\\0\"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return o.has(this._nodes,t)},i.prototype.removeNode=function(t){var n=this;if(o.has(this._nodes,t)){var r=function(t){n.removeEdge(n._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],o.each(this.children(t),(function(t){n.setParent(t)})),delete this._children[t]),o.each(o.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],o.each(o.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,n){if(!this._isCompound)throw new Error(\"Cannot set parent in a non-compound graph\");if(o.isUndefined(n))n=\"\\\\0\";else{for(var r=n+=\"\";!o.isUndefined(r);r=this.parent(r))if(r===t)throw new Error(\"Setting \"+n+\" as parent of \"+t+\" would create a cycle\");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var n=this._parent[t];if(\"\\\\0\"!==n)return n}},i.prototype.children=function(t){if(o.isUndefined(t)&&(t=\"\\\\0\"),this._isCompound){var n=this._children[t];if(n)return o.keys(n)}else{if(\"\\\\0\"===t)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var n=this._preds[t];if(n)return o.keys(n)},i.prototype.successors=function(t){var n=this._sucs[t];if(n)return o.keys(n)},i.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return o.union(n,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;o.each(this._nodes,(function(r,e){t(e)&&n.setNode(e,r)})),o.each(this._edgeObjs,(function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,r.edge(t))}));var e={};return this._isCompound&&o.each(n.nodes(),(function(t){n.setParent(t,function t(o){var i=r.parent(o);return void 0===i||n.hasNode(i)?(e[o]=i,i):i in e?e[i]:t(i)}(t))})),n},i.prototype.setDefaultEdgeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(t,n){var r=this,e=arguments;return o.reduce(t,(function(t,o){return e.length>1?r.setEdge(t,o,n):r.setEdge(t,o),o})),this},i.prototype.setEdge=function(){var t,n,r,i,u=!1,f=arguments[0];\"object\"===e(f)&&null!==f&&\"v\"in f?(t=f.v,n=f.w,r=f.name,2===arguments.length&&(i=arguments[1],u=!0)):(t=f,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],u=!0)),t=\"\"+t,n=\"\"+n,o.isUndefined(r)||(r=\"\"+r);var h=s(this._isDirected,t,n,r);if(o.has(this._edgeLabels,h))return u&&(this._edgeLabels[h]=i),this;if(!o.isUndefined(r)&&!this._isMultigraph)throw new Error(\"Cannot set a named edge when isMultigraph = false\");this.setNode(t),this.setNode(n),this._edgeLabels[h]=u?i:this._defaultEdgeLabelFn(t,n,r);var l=c(this._isDirected,t,n,r);return t=l.v,n=l.w,Object.freeze(l),this._edgeObjs[h]=l,a(this._preds[n],t),a(this._sucs[t],n),this._in[n][h]=l,this._out[t][h]=l,this._edgeCount++,this},i.prototype.edge=function(t,n,r){var e=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,n,r);return this._edgeLabels[e]},i.prototype.hasEdge=function(t,n,r){var e=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,n,r);return o.has(this._edgeLabels,e)},i.prototype.removeEdge=function(t,n,r){var e=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,n,r),o=this._edgeObjs[e];return o&&(t=o.v,n=o.w,delete this._edgeLabels[e],delete this._edgeObjs[e],u(this._preds[n],t),u(this._sucs[t],n),delete this._in[n][e],delete this._out[t][e],this._edgeCount--),this},i.prototype.inEdges=function(t,n){var r=this._in[t];if(r){var e=o.values(r);return n?o.filter(e,(function(t){return t.v===n})):e}},i.prototype.outEdges=function(t,n){var r=this._out[t];if(r){var e=o.values(r);return n?o.filter(e,(function(t){return t.w===n})):e}},i.prototype.nodeEdges=function(t,n){var r=this.inEdges(t,n);if(r)return r.concat(this.outEdges(t,n))}},function(t,n,r){var e=r(15)(r(8),\"Map\");t.exports=e},function(t,n,r){var e=r(152),o=r(159),i=r(161),a=r(162),u=r(163);function s(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}s.prototype.clear=e,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,n){t.exports=function(t,n){for(var r=-1,e=null==t?0:t.length;++r<e&&!1!==n(t[r],r,t););return t}},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){t.exports=function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,n,r){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(75),i=\"object\"==e(n)&&n&&!n.nodeType&&n,a=i&&\"object\"==e(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{var t=a&&a.require&&a.require(\"util\").types;return t||u&&u.binding&&u.binding(\"util\")}catch(t){}}();t.exports=s}).call(this,r(59)(t))},function(t,n,r){var e=r(43),o=r(169),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!e(t))return o(t);var n=[];for(var r in Object(t))i.call(t,r)&&\"constructor\"!=r&&n.push(r);return n}},function(t,n,r){var e=r(82),o=r(83),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),e(a(t),(function(n){return i.call(t,n)})))}:o;t.exports=u},function(t,n){t.exports=function(t,n){for(var r=-1,e=n.length,o=t.length;++r<e;)t[o+r]=n[r];return t}},function(t,n,r){var e=r(88);t.exports=function(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n}},function(t,n){t.exports=function(t){return function(){return t}}},function(t,n,r){var e=r(68),o=r(14);t.exports=function(t,n){return t&&e(t,n,o)}},function(t,n,r){var e=r(188)();t.exports=e},function(t,n){t.exports=function(t){var n=-1,r=Array(t.size);return t.forEach((function(t){r[++n]=t})),r}},function(t,n,r){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(1),i=r(25),a=/\\\\.|\\\\[(?:[^[\\\\]]*|([\"\\'])(?:(?!\\\\1)[^\\\\\\\\]|\\\\\\\\.)*?\\\\1)\\\\]/,u=/^\\\\w*$/;t.exports=function(t,n){if(o(t))return!1;var r=e(t);return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!i(t))||(u.test(t)||!a.test(t)||null!=n&&t in Object(n))}},function(t,n,r){var e=r(64),o=r(222);t.exports=function t(n,r,i,a,u){var s=-1,c=n.length;for(i||(i=o),u||(u=[]);++s<c;){var f=n[s];r>0&&i(f)?r>1?t(f,r-1,i,a,u):e(u,f):a||(u[u.length]=f)}return u}},function(t,n,r){var e=r(25);t.exports=function(t,n,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=n(a);if(null!=u&&(void 0===s?u==u&&!e(u):r(u,s)))var s=u,c=a}return c}},function(t,n,r){t.exports={graphlib:r(7),layout:r(246),debug:r(305),util:{time:r(4).time,notime:r(4).notime},version:r(306)}},function(t,n,r){var e=r(34),o=r(58),i=r(39),a=r(164),u=r(170),s=r(80),c=r(81),f=r(173),h=r(174),l=r(85),d=r(175),p=r(24),v=r(179),y=r(180),g=r(90),m=r(1),w=r(23),b=r(184),x=r(6),M=r(186),E=r(14),_=r(17),S={};S[\"[object Arguments]\"]=S[\"[object Array]\"]=S[\"[object ArrayBuffer]\"]=S[\"[object DataView]\"]=S[\"[object Boolean]\"]=S[\"[object Date]\"]=S[\"[object Float32Array]\"]=S[\"[object Float64Array]\"]=S[\"[object Int8Array]\"]=S[\"[object Int16Array]\"]=S[\"[object Int32Array]\"]=S[\"[object Map]\"]=S[\"[object Number]\"]=S[\"[object Object]\"]=S[\"[object RegExp]\"]=S[\"[object Set]\"]=S[\"[object String]\"]=S[\"[object Symbol]\"]=S[\"[object Uint8Array]\"]=S[\"[object Uint8ClampedArray]\"]=S[\"[object Uint16Array]\"]=S[\"[object Uint32Array]\"]=!0,S[\"[object Error]\"]=S[\"[object Function]\"]=S[\"[object WeakMap]\"]=!1,t.exports=function t(n,r,k,j,O,N){var A,I=1&r,R=2&r,P=4&r;if(k&&(A=O?k(n,j,O,N):k(n)),void 0!==A)return A;if(!x(n))return n;var C=m(n);if(C){if(A=v(n),!I)return c(n,A)}else{var T=p(n),z=\"[object Function]\"==T||\"[object GeneratorFunction]\"==T;if(w(n))return s(n,I);if(\"[object Object]\"==T||\"[object Arguments]\"==T||z&&!O){if(A=R||z?{}:g(n),!I)return R?h(n,u(A,n)):f(n,a(A,n))}else{if(!S[T])return O?n:{};A=y(n,T,I)}}N||(N=new e);var D=N.get(n);if(D)return D;N.set(n,A),M(n)?n.forEach((function(e){A.add(t(e,r,k,e,n,N))})):b(n)&&n.forEach((function(e,o){A.set(o,t(e,r,k,o,n,N))}));var F=C?void 0:(P?R?d:l:R?_:E)(n);return o(F||n,(function(e,o){F&&(e=n[o=e]),i(A,o,t(e,r,k,o,n,N))})),A}},function(t,n,r){(function(n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var e=\"object\"==(void 0===n?\"undefined\":r(n))&&n&&n.Object===Object&&n;t.exports=e}).call(this,r(146))},function(t,n){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}},function(t,n,r){var e=r(15),o=function(){try{var t=e(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();t.exports=o},function(t,n,r){var e=r(165),o=r(28),i=r(1),a=r(23),u=r(41),s=r(29),c=Object.prototype.hasOwnProperty;t.exports=function(t,n){var r=i(t),f=!r&&o(t),h=!r&&!f&&a(t),l=!r&&!f&&!h&&s(t),d=r||f||h||l,p=d?e(t.length,String):[],v=p.length;for(var y in t)!n&&!c.call(t,y)||d&&(\"length\"==y||h&&(\"offset\"==y||\"parent\"==y)||l&&(\"buffer\"==y||\"byteLength\"==y||\"byteOffset\"==y)||u(y,v))||p.push(y);return p}},function(t,n){t.exports=function(t,n){return function(r){return t(n(r))}}},function(t,n,r){(function(t){function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(8),i=\"object\"==e(n)&&n&&!n.nodeType&&n,a=i&&\"object\"==e(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var r=t.length,e=s?s(r):new t.constructor(r);return t.copy(e),e}}).call(this,r(59)(t))},function(t,n){t.exports=function(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}},function(t,n){t.exports=function(t,n){for(var r=-1,e=null==t?0:t.length,o=0,i=[];++r<e;){var a=t[r];n(a,r,t)&&(i[o++]=a)}return i}},function(t,n){t.exports=function(){return[]}},function(t,n,r){var e=r(64),o=r(44),i=r(63),a=r(83),u=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)e(n,i(t)),t=o(t);return n}:a;t.exports=u},function(t,n,r){var e=r(86),o=r(63),i=r(14);t.exports=function(t){return e(t,i,o)}},function(t,n,r){var e=r(64),o=r(1);t.exports=function(t,n,r){var i=n(t);return o(t)?i:e(i,r(t))}},function(t,n,r){var e=r(15)(r(8),\"Set\");t.exports=e},function(t,n,r){var e=r(8).Uint8Array;t.exports=e},function(t,n,r){var e=r(65);t.exports=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,n,r){var e=r(91),o=r(44),i=r(43);t.exports=function(t){return\"function\"!=typeof t.constructor||i(t)?{}:e(o(t))}},function(t,n,r){var e=r(6),o=Object.create,i=function(){function t(){}return function(n){if(!e(n))return{};if(o)return o(n);t.prototype=n;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,n,r){t.exports=r(93)},function(t,n,r){var e=r(58),o=r(45),i=r(94),a=r(1);t.exports=function(t,n){return(a(t)?e:o)(t,i(n))}},function(t,n,r){var e=r(18);t.exports=function(t){return\"function\"==typeof t?t:e}},function(t,n,r){var e=r(82),o=r(190),i=r(13),a=r(1);t.exports=function(t,n){return(a(t)?e:o)(t,i(n,3))}},function(t,n,r){var e=r(193),o=r(10);t.exports=function t(n,r,i,a,u){return n===r||(null==n||null==r||!o(n)&&!o(r)?n!=n&&r!=r:e(n,r,i,a,t,u))}},function(t,n,r){var e=r(98),o=r(196),i=r(99);t.exports=function(t,n,r,a,u,s){var c=1&r,f=t.length,h=n.length;if(f!=h&&!(c&&h>f))return!1;var l=s.get(t),d=s.get(n);if(l&&d)return l==n&&d==t;var p=-1,v=!0,y=2&r?new e:void 0;for(s.set(t,n),s.set(n,t);++p<f;){var g=t[p],m=n[p];if(a)var w=c?a(m,g,p,n,t,s):a(g,m,p,t,n,s);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!o(n,(function(t,n){if(!i(y,n)&&(g===t||u(g,t,r,a,s)))return y.push(n)}))){v=!1;break}}else if(g!==m&&!u(g,m,r,a,s)){v=!1;break}}return s.delete(t),s.delete(n),v}},function(t,n,r){var e=r(57),o=r(194),i=r(195);function a(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,n){t.exports=function(t,n){return t.has(n)}},function(t,n,r){var e=r(6);t.exports=function(t){return t==t&&!e(t)}},function(t,n){t.exports=function(t,n){return function(r){return null!=r&&(r[t]===n&&(void 0!==n||t in Object(r)))}}},function(t,n,r){var e=r(206);t.exports=function(t){return null==t?\"\":e(t)}},function(t,n,r){var e=r(207),o=r(104);t.exports=function(t,n){return null!=t&&o(t,n,e)}},function(t,n,r){var e=r(47),o=r(28),i=r(1),a=r(41),u=r(60),s=r(30);t.exports=function(t,n,r){for(var c=-1,f=(n=e(n,t)).length,h=!1;++c<f;){var l=s(n[c]);if(!(h=null!=t&&r(t,l)))break;t=t[l]}return h||++c!=f?h:!!(f=null==t?0:t.length)&&u(f)&&a(l,f)&&(i(t)||o(t))}},function(t,n){t.exports=function(t){return function(n){return null==n?void 0:n[t]}}},function(t,n,r){var e=r(210),o=r(104);t.exports=function(t,n){return null!=t&&o(t,n,e)}},function(t,n){t.exports=function(t){return void 0===t}},function(t,n,r){var e=r(48),o=r(13),i=r(109),a=r(1);t.exports=function(t,n){return(a(t)?e:i)(t,o(n,3))}},function(t,n,r){var e=r(45),o=r(12);t.exports=function(t,n){var r=-1,i=o(t)?Array(t.length):[];return e(t,(function(t,e,o){i[++r]=n(t,e,o)})),i}},function(t,n,r){var e=r(212),o=r(45),i=r(13),a=r(213),u=r(1);t.exports=function(t,n,r){var s=u(t)?e:a,c=arguments.length<3;return s(t,i(n,4),r,c,o)}},function(t,n,r){var e=r(223),o=Math.max;t.exports=function(t,n,r){return n=o(void 0===n?t.length-1:n,0),function(){for(var i=arguments,a=-1,u=o(i.length-n,0),s=Array(u);++a<u;)s[a]=i[n+a];a=-1;for(var c=Array(n+1);++a<n;)c[a]=i[a];return c[n]=r(s),e(t,this,c)}}},function(t,n,r){var e=r(224),o=r(225)(e);t.exports=o},function(t,n){t.exports=function(t,n,r,e){for(var o=t.length,i=r+(e?1:-1);e?i--:++i<o;)if(n(t[i],i,t))return i;return-1}},function(t,n,r){var e=r(12),o=r(10);t.exports=function(t){return o(t)&&e(t)}},function(t,n,r){var e=r(234),o=r(14);t.exports=function(t){return null==t?[]:e(t,o(t))}},function(t,n,r){var e=r(5),o=r(117);t.exports=function(t,n,r,e){return function(t,n,r,e){var i,a,u={},s=new o,c=function(t){var n=t.v!==i?t.v:t.w,e=u[n],o=r(t),c=a.distance+o;if(o<0)throw new Error(\"dijkstra does not allow negative edge weights. Bad edge: \"+t+\" Weight: \"+o);c<e.distance&&(e.distance=c,e.predecessor=i,s.decrease(n,c))};t.nodes().forEach((function(t){var r=t===n?0:Number.POSITIVE_INFINITY;u[t]={distance:r},s.add(t,r)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)e(i).forEach(c);return u}(t,String(n),r||i,e||function(n){return t.outEdges(n)})};var i=e.constant(1)},function(t,n,r){var e=r(5);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return e.has(this._keyIndices,t)},o.prototype.priority=function(t){var n=this._keyIndices[t];if(void 0!==n)return this._arr[n].priority},o.prototype.min=function(){if(0===this.size())throw new Error(\"Queue underflow\");return this._arr[0].key},o.prototype.add=function(t,n){var r=this._keyIndices;if(t=String(t),!e.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:n}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,n){var r=this._keyIndices[t];if(n>this._arr[r].priority)throw new Error(\"New priority is greater than current priority. Key: \"+t+\" Old: \"+this._arr[r].priority+\" New: \"+n);this._arr[r].priority=n,this._decrease(r)},o.prototype._heapify=function(t){var n=this._arr,r=2*t,e=r+1,o=t;r<n.length&&(o=n[r].priority<n[o].priority?r:o,e<n.length&&(o=n[e].priority<n[o].priority?e:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var n,r=this._arr,e=r[t].priority;0!==t&&!(r[n=t>>1].priority<e);)this._swap(t,n),t=n},o.prototype._swap=function(t,n){var r=this._arr,e=this._keyIndices,o=r[t],i=r[n];r[t]=i,r[n]=o,e[i.key]=t,e[o.key]=n}},function(t,n,r){var e=r(5);t.exports=function(t){var n=0,r=[],o={},i=[];return t.nodes().forEach((function(a){e.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:n,index:n++};if(r.push(u),t.successors(u).forEach((function(t){e.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=r.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,n,r){var e=r(5);function o(t){var n={},r={},o=[];if(e.each(t.sinks(),(function a(u){if(e.has(r,u))throw new i;e.has(n,u)||(r[u]=!0,n[u]=!0,e.each(t.predecessors(u),a),delete r[u],o.push(u))})),e.size(n)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,n,r){var e=r(5);t.exports=function(t,n,r){e.isArray(n)||(n=[n]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return e.each(n,(function(n){if(!t.hasNode(n))throw new Error(\"Graph does not have node: \"+n);!function t(n,r,o,i,a,u){e.has(i,r)||(i[r]=!0,o||u.push(r),e.each(a(r),(function(r){t(n,r,o,i,a,u)})),o&&u.push(r))}(t,n,\"post\"===r,a,o,i)})),i}},function(t,n,r){var e=r(253);t.exports=function(t){return t?(t=e(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,n,r){var e=r(71);t.exports=function(t){return(null==t?0:t.length)?e(t,1):[]}},function(t,n,r){var e=r(40),o=r(21);t.exports=function(t,n,r){(void 0!==r&&!o(t[n],r)||void 0===r&&!(n in t))&&e(t,n,r)}},function(t,n){t.exports=function(t,n){if((\"constructor\"!==n||\"function\"!=typeof t[n])&&\"__proto__\"!=n)return t[n]}},function(t,n){t.exports=function(t,n){return t<n}},function(t,n,r){\"use strict\";var e=r(0),o=r(7).Graph,i=r(51).slack;function a(t,n){return e.forEach(t.nodes(),(function r(o){e.forEach(n.nodeEdges(o),(function(e){var a=e.v,u=o===a?e.w:a;t.hasNode(u)||i(n,e)||(t.setNode(u,{}),t.setEdge(o,u,{}),r(u))}))})),t.nodeCount()}function u(t,n){return e.minBy(n.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return i(n,r)}))}function s(t,n,r){e.forEach(t.nodes(),(function(t){n.node(t).rank+=r}))}t.exports=function(t){var n,r,e=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();e.setNode(c,{});for(;a(e,t)<f;)n=u(e,t),r=e.hasNode(n.v)?i(t,n):-i(t,n),s(e,t,r);return e}},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=o,n.clone=function(t){var n=new e.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=i,n.fromValues=a,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},n.subtract=u,n.multiply=s,n.divide=c,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},n.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t},n.distance=f,n.squaredDistance=h,n.squaredLength=l,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=d,n.dot=p,n.cross=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=r[0],u=r[1],s=r[2];return t[0]=o*s-i*u,t[1]=i*a-e*s,t[2]=e*u-o*a,t},n.lerp=function(t,n,r,e){var o=n[0],i=n[1],a=n[2];return t[0]=o+e*(r[0]-o),t[1]=i+e*(r[1]-i),t[2]=a+e*(r[2]-a),t},n.hermite=function(t,n,r,e,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=n[0]*u+r[0]*s+e[0]*c+o[0]*f,t[1]=n[1]*u+r[1]*s+e[1]*c+o[1]*f,t[2]=n[2]*u+r[2]*s+e[2]*c+o[2]*f,t},n.bezier=function(t,n,r,e,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,f=3*i*u,h=3*s*a,l=s*i;return t[0]=n[0]*c+r[0]*f+e[0]*h+o[0]*l,t[1]=n[1]*c+r[1]*f+e[1]*h+o[1]*l,t[2]=n[2]*c+r[2]*f+e[2]*h+o[2]*l,t},n.random=function(t,n){n=n||1;var r=2*e.RANDOM()*Math.PI,o=2*e.RANDOM()-1,i=Math.sqrt(1-o*o)*n;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=o*n,t},n.transformMat4=function(t,n,r){var e=n[0],o=n[1],i=n[2],a=r[3]*e+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*e+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*e+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*e+r[6]*o+r[10]*i+r[14])/a,t},n.transformMat3=function(t,n,r){var e=n[0],o=n[1],i=n[2];return t[0]=e*r[0]+o*r[3]+i*r[6],t[1]=e*r[1]+o*r[4]+i*r[7],t[2]=e*r[2]+o*r[5]+i*r[8],t},n.transformQuat=function(t,n,r){var e=r[0],o=r[1],i=r[2],a=r[3],u=n[0],s=n[1],c=n[2],f=o*c-i*s,h=i*u-e*c,l=e*s-o*u,d=o*l-i*h,p=i*f-e*l,v=e*h-o*f,y=2*a;return f*=y,h*=y,l*=y,d*=2,p*=2,v*=2,t[0]=u+f+d,t[1]=s+h+p,t[2]=c+l+v,t},n.rotateX=function(t,n,r,e){var o=[],i=[];return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(e)-o[2]*Math.sin(e),i[2]=o[1]*Math.sin(e)+o[2]*Math.cos(e),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},n.rotateY=function(t,n,r,e){var o=[],i=[];return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],i[0]=o[2]*Math.sin(e)+o[0]*Math.cos(e),i[1]=o[1],i[2]=o[2]*Math.cos(e)-o[0]*Math.sin(e),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},n.rotateZ=function(t,n,r,e){var o=[],i=[];return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],i[0]=o[0]*Math.cos(e)-o[1]*Math.sin(e),i[1]=o[0]*Math.sin(e)+o[1]*Math.cos(e),i[2]=o[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},n.angle=function(t,n){var r=a(t[0],t[1],t[2]),e=a(n[0],n[1],n[2]);d(r,r),d(e,e);var o=p(r,e);return o>1?0:o<-1?Math.PI:Math.acos(o)},n.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var r=t[0],o=t[1],i=t[2],a=n[0],u=n[1],s=n[2];return Math.abs(r-a)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-s)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var e=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(54));function o(){var t=new e.ARRAY_TYPE(3);return e.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)}function a(t,n,r){var o=new e.ARRAY_TYPE(3);return o[0]=t,o[1]=n,o[2]=r,o}function u(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function s(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function c(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function f(t,n){var r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(r*r+e*e+o*o)}function h(t,n){var r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return r*r+e*e+o*o}function l(t){var n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e}function d(t,n){var r=n[0],e=n[1],o=n[2],i=r*r+e*e+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i),t}function p(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}var v;n.sub=u,n.mul=s,n.div=c,n.dist=f,n.sqrDist=h,n.len=i,n.sqrLen=l,n.forEach=(v=o(),function(t,n,r,e,o,i){var a=void 0,u=void 0;for(n||(n=3),r||(r=0),u=e?Math.min(e*n+r,t.length):t.length,a=r;a<u;a+=n)v[0]=t[a],v[1]=t[a+1],v[2]=t[a+2],o(v,v,i),t[a]=v[0],t[a+1]=v[1],t[a+2]=v[2];return t})},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=function(){function t(t,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=n,this.timeStamp=n.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();n.default=e},,,function(t,n,r){\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=function(t){var n=e(t);return null!==t&&\"object\"===n||\"function\"===n}},function(t,n,r){var e=r(133);t.exports={Graph:e.Graph,json:r(236),alg:r(237),version:e.version}},function(t,n,r){t.exports={Graph:r(55),version:r(235)}},function(t,n,r){var e=r(74);t.exports=function(t){return e(t,4)}},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,r){var e=r(36),o=Array.prototype.splice;t.exports=function(t){var n=this.__data__,r=e(n,t);return!(r<0)&&(r==n.length-1?n.pop():o.call(n,r,1),--this.size,!0)}},function(t,n,r){var e=r(36);t.exports=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}},function(t,n,r){var e=r(36);t.exports=function(t){return e(this.__data__,t)>-1}},function(t,n,r){var e=r(36);t.exports=function(t,n){var r=this.__data__,o=e(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this}},function(t,n,r){var e=r(35);t.exports=function(){this.__data__=new e,this.size=0}},function(t,n){t.exports=function(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}},function(t,n){t.exports=function(t){return this.__data__.get(t)}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n,r){var e=r(35),o=r(56),i=r(57);t.exports=function(t,n){var r=this.__data__;if(r instanceof e){var a=r.__data__;if(!o||a.length<199)return a.push([t,n]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,n),this.size=r.size,this}},function(t,n,r){var e=r(26),o=r(149),i=r(6),a=r(76),u=/^\\\\[object .+?Constructor\\\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,h=c.hasOwnProperty,l=RegExp(\"^\"+f.call(h).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,\"\\\\\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=function(t){return!(!i(t)||o(t))&&(e(t)?l:u).test(a(t))}},function(t,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var e;e=function(){return this}();try{e=e||new Function(\"return this\")()}catch(t){\"object\"===(\"undefined\"==typeof window?\"undefined\":r(window))&&(e=window)}t.exports=e},function(t,n,r){var e=r(22),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=e?e.toStringTag:void 0;t.exports=function(t){var n=i.call(t,u),r=t[u];try{t[u]=void 0;var e=!0}catch(t){}var o=a.call(t);return e&&(n?t[u]=r:delete t[u]),o}},function(t,n){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,n,r){var e,o=r(150),i=(e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+e:\"\";t.exports=function(t){return!!i&&i in t}},function(t,n,r){var e=r(8)[\"__core-js_shared__\"];t.exports=e},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n,r){var e=r(153),o=r(35),i=r(56);t.exports=function(){this.size=0,this.__data__={hash:new e,map:new(i||o),string:new e}}},function(t,n,r){var e=r(154),o=r(155),i=r(156),a=r(157),u=r(158);function s(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}s.prototype.clear=e,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,n,r){var e=r(37);t.exports=function(){this.__data__=e?e(null):{},this.size=0}},function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(t,n,r){var e=r(37),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(e){var r=n[t];return\"__lodash_hash_undefined__\"===r?void 0:r}return o.call(n,t)?n[t]:void 0}},function(t,n,r){var e=r(37),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return e?void 0!==n[t]:o.call(n,t)}},function(t,n,r){var e=r(37);t.exports=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?\"__lodash_hash_undefined__\":n,this}},function(t,n,r){var e=r(38);t.exports=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}},function(t,n){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){var n=r(t);return\"string\"==n||\"number\"==n||\"symbol\"==n||\"boolean\"==n?\"__proto__\"!==t:null===t}},function(t,n,r){var e=r(38);t.exports=function(t){return e(this,t).get(t)}},function(t,n,r){var e=r(38);t.exports=function(t){return e(this,t).has(t)}},function(t,n,r){var e=r(38);t.exports=function(t,n){var r=e(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this}},function(t,n,r){var e=r(27),o=r(14);t.exports=function(t,n){return t&&e(n,o(n),t)}},function(t,n){t.exports=function(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}},function(t,n,r){var e=r(16),o=r(10);t.exports=function(t){return o(t)&&\"[object Arguments]\"==e(t)}},function(t,n){t.exports=function(){return!1}},function(t,n,r){var e=r(16),o=r(60),i=r(10),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[e(t)]}},function(t,n,r){var e=r(79)(Object.keys,Object);t.exports=e},function(t,n,r){var e=r(27),o=r(17);t.exports=function(t,n){return t&&e(n,o(n),t)}},function(t,n,r){var e=r(6),o=r(43),i=r(172),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!e(t))return i(t);var n=o(t),r=[];for(var u in t)(\"constructor\"!=u||!n&&a.call(t,u))&&r.push(u);return r}},function(t,n){t.exports=function(t){var n=[];if(null!=t)for(var r in Object(t))n.push(r);return n}},function(t,n,r){var e=r(27),o=r(63);t.exports=function(t,n){return e(t,o(t),n)}},function(t,n,r){var e=r(27),o=r(84);t.exports=function(t,n){return e(t,o(t),n)}},function(t,n,r){var e=r(86),o=r(84),i=r(17);t.exports=function(t){return e(t,i,o)}},function(t,n,r){var e=r(15)(r(8),\"DataView\");t.exports=e},function(t,n,r){var e=r(15)(r(8),\"Promise\");t.exports=e},function(t,n,r){var e=r(15)(r(8),\"WeakMap\");t.exports=e},function(t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,e=new t.constructor(n);return n&&\"string\"==typeof t[0]&&r.call(t,\"index\")&&(e.index=t.index,e.input=t.input),e}},function(t,n,r){var e=r(65),o=r(181),i=r(182),a=r(183),u=r(89);t.exports=function(t,n,r){var s=t.constructor;switch(n){case\"[object ArrayBuffer]\":return e(t);case\"[object Boolean]\":case\"[object Date]\":return new s(+t);case\"[object DataView]\":return o(t,r);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return u(t,r);case\"[object Map]\":return new s;case\"[object Number]\":case\"[object String]\":return new s(t);case\"[object RegExp]\":return i(t);case\"[object Set]\":return new s;case\"[object Symbol]\":return a(t)}}},function(t,n,r){var e=r(65);t.exports=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},function(t,n){var r=/\\\\w*$/;t.exports=function(t){var n=new t.constructor(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}},function(t,n,r){var e=r(22),o=e?e.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,n,r){var e=r(185),o=r(42),i=r(61),a=i&&i.isMap,u=a?o(a):e;t.exports=u},function(t,n,r){var e=r(24),o=r(10);t.exports=function(t){return o(t)&&\"[object Map]\"==e(t)}},function(t,n,r){var e=r(187),o=r(42),i=r(61),a=i&&i.isSet,u=a?o(a):e;t.exports=u},function(t,n,r){var e=r(24),o=r(10);t.exports=function(t){return o(t)&&\"[object Set]\"==e(t)}},function(t,n){t.exports=function(t){return function(n,r,e){for(var o=-1,i=Object(n),a=e(n),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return n}}},function(t,n,r){var e=r(12);t.exports=function(t,n){return function(r,o){if(null==r)return r;if(!e(r))return t(r,o);for(var i=r.length,a=n?i:-1,u=Object(r);(n?a--:++a<i)&&!1!==o(u[a],a,u););return r}}},function(t,n,r){var e=r(45);t.exports=function(t,n){var r=[];return e(t,(function(t,e,o){n(t,e,o)&&r.push(t)})),r}},function(t,n,r){var e=r(192),o=r(200),i=r(101);t.exports=function(t){var n=o(t);return 1==n.length&&n[0][2]?i(n[0][0],n[0][1]):function(r){return r===t||e(r,t,n)}}},function(t,n,r){var e=r(34),o=r(96);t.exports=function(t,n,r,i){var a=r.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=r[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=r[a])[0],h=t[f],l=c[1];if(s&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new e;if(i)var p=i(h,l,f,t,n,d);if(!(void 0===p?o(l,h,3,i,d):p))return!1}}return!0}},function(t,n,r){var e=r(34),o=r(97),i=r(197),a=r(199),u=r(24),s=r(1),c=r(23),f=r(29),h=\"[object Object]\",l=Object.prototype.hasOwnProperty;t.exports=function(t,n,r,d,p,v){var y=s(t),g=s(n),m=y?\"[object Array]\":u(t),w=g?\"[object Array]\":u(n),b=(m=\"[object Arguments]\"==m?h:m)==h,x=(w=\"[object Arguments]\"==w?h:w)==h,M=m==w;if(M&&c(t)){if(!c(n))return!1;y=!0,b=!1}if(M&&!b)return v||(v=new e),y||f(t)?o(t,n,r,d,p,v):i(t,n,m,r,d,p,v);if(!(1&r)){var E=b&&l.call(t,\"__wrapped__\"),_=x&&l.call(n,\"__wrapped__\");if(E||_){var S=E?t.value():t,k=_?n.value():n;return v||(v=new e),p(S,k,r,d,v)}}return!!M&&(v||(v=new e),a(t,n,r,d,p,v))}},function(t,n){t.exports=function(t){return this.__data__.set(t,\"__lodash_hash_undefined__\"),this}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n){t.exports=function(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}},function(t,n,r){var e=r(22),o=r(88),i=r(21),a=r(97),u=r(198),s=r(69),c=e?e.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,n,r,e,c,h,l){switch(r){case\"[object DataView]\":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case\"[object ArrayBuffer]\":return!(t.byteLength!=n.byteLength||!h(new o(t),new o(n)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+t,+n);case\"[object Error]\":return t.name==n.name&&t.message==n.message;case\"[object RegExp]\":case\"[object String]\":return t==n+\"\";case\"[object Map]\":var d=u;case\"[object Set]\":var p=1&e;if(d||(d=s),t.size!=n.size&&!p)return!1;var v=l.get(t);if(v)return v==n;e|=2,l.set(t,n);var y=a(d(t),d(n),e,c,h,l);return l.delete(t),y;case\"[object Symbol]\":if(f)return f.call(t)==f.call(n)}return!1}},function(t,n){t.exports=function(t){var n=-1,r=Array(t.size);return t.forEach((function(t,e){r[++n]=[e,t]})),r}},function(t,n,r){var e=r(85),o=Object.prototype.hasOwnProperty;t.exports=function(t,n,r,i,a,u){var s=1&r,c=e(t),f=c.length;if(f!=e(n).length&&!s)return!1;for(var h=f;h--;){var l=c[h];if(!(s?l in n:o.call(n,l)))return!1}var d=u.get(t),p=u.get(n);if(d&&p)return d==n&&p==t;var v=!0;u.set(t,n),u.set(n,t);for(var y=s;++h<f;){var g=t[l=c[h]],m=n[l];if(i)var w=s?i(m,g,l,n,t,u):i(g,m,l,t,n,u);if(!(void 0===w?g===m||a(g,m,r,i,u):w)){v=!1;break}y||(y=\"constructor\"==l)}if(v&&!y){var b=t.constructor,x=n.constructor;b==x||!(\"constructor\"in t)||!(\"constructor\"in n)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof x&&x instanceof x||(v=!1)}return u.delete(t),u.delete(n),v}},function(t,n,r){var e=r(100),o=r(14);t.exports=function(t){for(var n=o(t),r=n.length;r--;){var i=n[r],a=t[i];n[r]=[i,a,e(a)]}return n}},function(t,n,r){var e=r(96),o=r(202),i=r(103),a=r(70),u=r(100),s=r(101),c=r(30);t.exports=function(t,n){return a(t)&&u(n)?s(c(t),n):function(r){var a=o(r,t);return void 0===a&&a===n?i(r,t):e(n,a,3)}}},function(t,n,r){var e=r(46);t.exports=function(t,n,r){var o=null==t?void 0:e(t,n);return void 0===o?r:o}},function(t,n,r){var e=r(204),o=/[^.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\"\\'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))/g,i=/\\\\\\\\(\\\\\\\\)?/g,a=e((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(\"\"),t.replace(o,(function(t,r,e,o){n.push(e?o.replace(i,\"$1\"):r||t)})),n}));t.exports=a},function(t,n,r){var e=r(205);t.exports=function(t){var n=e(t,(function(t){return 500===r.size&&r.clear(),t})),r=n.cache;return n}},function(t,n,r){var e=r(57);function o(t,n){if(\"function\"!=typeof t||null!=n&&\"function\"!=typeof n)throw new TypeError(\"Expected a function\");var r=function r(){var e=arguments,o=n?n.apply(this,e):e[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,e);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||e),r}o.Cache=e,t.exports=o},function(t,n,r){var e=r(22),o=r(48),i=r(1),a=r(25),u=e?e.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(n){if(\"string\"==typeof n)return n;if(i(n))return o(n,t)+\"\";if(a(n))return s?s.call(n):\"\";var r=n+\"\";return\"0\"==r&&1/n==-1/0?\"-0\":r}},function(t,n){t.exports=function(t,n){return null!=t&&n in Object(t)}},function(t,n,r){var e=r(105),o=r(209),i=r(70),a=r(30);t.exports=function(t){return i(t)?e(a(t)):o(t)}},function(t,n,r){var e=r(46);t.exports=function(t){return function(n){return e(n,t)}}},function(t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&r.call(t,n)}},function(t,n,r){var e=r(62),o=r(24),i=r(28),a=r(1),u=r(12),s=r(23),c=r(43),f=r(29),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||\"string\"==typeof t||\"function\"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var n=o(t);if(\"[object Map]\"==n||\"[object Set]\"==n)return!t.size;if(c(t))return!e(t).length;for(var r in t)if(h.call(t,r))return!1;return!0}},function(t,n){t.exports=function(t,n,r,e){var o=-1,i=null==t?0:t.length;for(e&&i&&(r=t[++o]);++o<i;)r=n(r,t[o],o,t);return r}},function(t,n){t.exports=function(t,n,r,e,o){return o(t,(function(t,o,i){r=e?(e=!1,t):n(r,t,o,i)})),r}},function(t,n,r){var e=r(62),o=r(24),i=r(12),a=r(215),u=r(216);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var n=o(t);return\"[object Map]\"==n||\"[object Set]\"==n?t.size:e(t).length}},function(t,n,r){var e=r(16),o=r(1),i=r(10);t.exports=function(t){return\"string\"==typeof t||!o(t)&&i(t)&&\"[object String]\"==e(t)}},function(t,n,r){var e=r(217),o=r(218),i=r(219);t.exports=function(t){return o(t)?i(t):e(t)}},function(t,n,r){var e=r(105)(\"length\");t.exports=e},function(t,n){var r=RegExp(\"[\\\\\\\\u200d\\\\\\\\ud800-\\\\\\\\udfff\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff\\\\\\\\ufe0e\\\\\\\\ufe0f]\");t.exports=function(t){return r.test(t)}},function(t,n){var r=\"[\\\\\\\\ud800-\\\\\\\\udfff]\",e=\"[\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff]\",o=\"\\\\\\\\ud83c[\\\\\\\\udffb-\\\\\\\\udfff]\",i=\"[^\\\\\\\\ud800-\\\\\\\\udfff]\",a=\"(?:\\\\\\\\ud83c[\\\\\\\\udde6-\\\\\\\\uddff]){2}\",u=\"[\\\\\\\\ud800-\\\\\\\\udbff][\\\\\\\\udc00-\\\\\\\\udfff]\",s=\"(?:\"+e+\"|\"+o+\")\"+\"?\",c=\"[\\\\\\\\ufe0e\\\\\\\\ufe0f]?\"+s+(\"(?:\\\\\\\\u200d(?:\"+[i,a,u].join(\"|\")+\")[\\\\\\\\ufe0e\\\\\\\\ufe0f]?\"+s+\")*\"),f=\"(?:\"+[i+e+\"?\",e,a,u,r].join(\"|\")+\")\",h=RegExp(o+\"(?=\"+o+\")|\"+f+c,\"g\");t.exports=function(t){for(var n=h.lastIndex=0;h.test(t);)++n;return n}},function(t,n,r){var e=r(58),o=r(91),i=r(67),a=r(13),u=r(44),s=r(1),c=r(23),f=r(26),h=r(6),l=r(29);t.exports=function(t,n,r){var d=s(t),p=d||c(t)||l(t);if(n=a(n,4),null==r){var v=t&&t.constructor;r=p?d?new v:[]:h(t)&&f(v)?o(u(t)):{}}return(p?e:i)(t,(function(t,e,o){return n(r,t,e,o)})),r}},function(t,n,r){var e=r(71),o=r(49),i=r(226),a=r(114),u=o((function(t){return i(e(t,1,a,!0))}));t.exports=u},function(t,n,r){var e=r(22),o=r(28),i=r(1),a=e?e.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,n){t.exports=function(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}},function(t,n,r){var e=r(66),o=r(77),i=r(18),a=o?function(t,n){return o(t,\"toString\",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:i;t.exports=a},function(t,n){var r=Date.now;t.exports=function(t){var n=0,e=0;return function(){var o=r(),i=16-(o-e);if(e=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},function(t,n,r){var e=r(98),o=r(227),i=r(231),a=r(99),u=r(232),s=r(69);t.exports=function(t,n,r){var c=-1,f=o,h=t.length,l=!0,d=[],p=d;if(r)l=!1,f=i;else if(h>=200){var v=n?null:u(t);if(v)return s(v);l=!1,f=a,p=new e}else p=n?[]:d;t:for(;++c<h;){var y=t[c],g=n?n(y):y;if(y=r||0!==y?y:0,l&&g==g){for(var m=p.length;m--;)if(p[m]===g)continue t;n&&p.push(g),d.push(y)}else f(p,g,r)||(p!==d&&p.push(g),d.push(y))}return d}},function(t,n,r){var e=r(228);t.exports=function(t,n){return!!(null==t?0:t.length)&&e(t,n,0)>-1}},function(t,n,r){var e=r(113),o=r(229),i=r(230);t.exports=function(t,n,r){return n==n?i(t,n,r):e(t,o,r)}},function(t,n){t.exports=function(t){return t!=t}},function(t,n){t.exports=function(t,n,r){for(var e=r-1,o=t.length;++e<o;)if(t[e]===n)return e;return-1}},function(t,n){t.exports=function(t,n,r){for(var e=-1,o=null==t?0:t.length;++e<o;)if(r(n,t[e]))return!0;return!1}},function(t,n,r){var e=r(87),o=r(233),i=r(69),a=e&&1/i(new e([,-0]))[1]==1/0?function(t){return new e(t)}:o;t.exports=a},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(48);t.exports=function(t,n){return e(n,(function(n){return t[n]}))}},function(t,n){t.exports=\"2.1.8\"},function(t,n,r){var e=r(5),o=r(55);function i(t){return e.map(t.nodes(),(function(n){var r=t.node(n),o=t.parent(n),i={v:n};return e.isUndefined(r)||(i.value=r),e.isUndefined(o)||(i.parent=o),i}))}function a(t){return e.map(t.edges(),(function(n){var r=t.edge(n),o={v:n.v,w:n.w};return e.isUndefined(n.name)||(o.name=n.name),e.isUndefined(r)||(o.value=r),o}))}t.exports={write:function(t){var n={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};e.isUndefined(t.graph())||(n.value=e.clone(t.graph()));return n},read:function(t){var n=new o(t.options).setGraph(t.value);return e.each(t.nodes,(function(t){n.setNode(t.v,t.value),t.parent&&n.setParent(t.v,t.parent)})),e.each(t.edges,(function(t){n.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),n}}},function(t,n,r){t.exports={components:r(238),dijkstra:r(116),dijkstraAll:r(239),findCycles:r(240),floydWarshall:r(241),isAcyclic:r(242),postorder:r(243),preorder:r(244),prim:r(245),tarjan:r(118),topsort:r(119)}},function(t,n,r){var e=r(5);t.exports=function(t){var n,r={},o=[];function i(o){e.has(r,o)||(r[o]=!0,n.push(o),e.each(t.successors(o),i),e.each(t.predecessors(o),i))}return e.each(t.nodes(),(function(t){n=[],i(t),n.length&&o.push(n)})),o}},function(t,n,r){var e=r(116),o=r(5);t.exports=function(t,n,r){return o.transform(t.nodes(),(function(o,i){o[i]=e(t,i,n,r)}),{})}},function(t,n,r){var e=r(5),o=r(118);t.exports=function(t){return e.filter(o(t),(function(n){return n.length>1||1===n.length&&t.hasEdge(n[0],n[0])}))}},function(t,n,r){var e=r(5);t.exports=function(t,n,r){return function(t,n,r){var e={},o=t.nodes();return o.forEach((function(t){e[t]={},e[t][t]={distance:0},o.forEach((function(n){t!==n&&(e[t][n]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){var o=r.v===t?r.w:r.v,i=n(r);e[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var n=e[t];o.forEach((function(r){var i=e[r];o.forEach((function(r){var e=i[t],o=n[r],a=i[r],u=e.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),e}(t,n||o,r||function(n){return t.outEdges(n)})};var o=e.constant(1)},function(t,n,r){var e=r(119);t.exports=function(t){try{e(t)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}},function(t,n,r){var e=r(120);t.exports=function(t,n){return e(t,n,\"post\")}},function(t,n,r){var e=r(120);t.exports=function(t,n){return e(t,n,\"pre\")}},function(t,n,r){var e=r(5),o=r(55),i=r(117);t.exports=function(t,n){var r,a=new o,u={},s=new i;function c(t){var e=t.v===r?t.w:t.v,o=s.priority(e);if(void 0!==o){var i=n(t);i<o&&(u[e]=r,s.decrease(e,i))}}if(0===t.nodeCount())return a;e.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(r=s.removeMin(),e.has(u,r))a.setEdge(r,u[r]);else{if(f)throw new Error(\"Input graph is not connected: \"+t);f=!0}t.nodeEdges(r).forEach(c)}return a}},function(t,n,r){\"use strict\";var e=r(0),o=r(284),i=r(287),a=r(288),u=r(4).normalizeRanks,s=r(290),c=r(4).removeEmptyRanks,f=r(291),h=r(292),l=r(293),d=r(294),p=r(303),v=r(4),y=r(7).Graph;t.exports=function(t,n){var r=n&&n.debugTiming?v.time:v.notime;r(\"layout\",(function(){var n=r(\"  buildLayoutGraph\",(function(){return function(t){var n=new y({multigraph:!0,compound:!0}),r=k(t.graph());return n.setGraph(e.merge({},m,S(r,g),e.pick(r,w))),e.forEach(t.nodes(),(function(r){var o=k(t.node(r));n.setNode(r,e.defaults(S(o,b),x)),n.setParent(r,t.parent(r))})),e.forEach(t.edges(),(function(r){var o=k(t.edge(r));n.setEdge(r,e.merge({},E,S(o,M),e.pick(o,_)))})),n}(t)}));r(\"  runLayout\",(function(){!function(t,n){n(\"    makeSpaceForEdgeLabels\",(function(){!function(t){var n=t.graph();n.ranksep/=2,e.forEach(t.edges(),(function(r){var e=t.edge(r);e.minlen*=2,\"c\"!==e.labelpos.toLowerCase()&&(\"TB\"===n.rankdir||\"BT\"===n.rankdir?e.width+=e.labeloffset:e.height+=e.labeloffset)}))}(t)})),n(\"    removeSelfEdges\",(function(){!function(t){e.forEach(t.edges(),(function(n){if(n.v===n.w){var r=t.node(n.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:n,label:t.edge(n)}),t.removeEdge(n)}}))}(t)})),n(\"    acyclic\",(function(){o.run(t)})),n(\"    nestingGraph.run\",(function(){f.run(t)})),n(\"    rank\",(function(){a(v.asNonCompoundGraph(t))})),n(\"    injectEdgeLabelProxies\",(function(){!function(t){e.forEach(t.edges(),(function(n){var r=t.edge(n);if(r.width&&r.height){var e=t.node(n.v),o={rank:(t.node(n.w).rank-e.rank)/2+e.rank,e:n};v.addDummyNode(t,\"edge-proxy\",o,\"_ep\")}}))}(t)})),n(\"    removeEmptyRanks\",(function(){c(t)})),n(\"    nestingGraph.cleanup\",(function(){f.cleanup(t)})),n(\"    normalizeRanks\",(function(){u(t)})),n(\"    assignRankMinMax\",(function(){!function(t){var n=0;e.forEach(t.nodes(),(function(r){var o=t.node(r);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,n=e.max(n,o.maxRank))})),t.graph().maxRank=n}(t)})),n(\"    removeEdgeLabelProxies\",(function(){!function(t){e.forEach(t.nodes(),(function(n){var r=t.node(n);\"edge-proxy\"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(n))}))}(t)})),n(\"    normalize.run\",(function(){i.run(t)})),n(\"    parentDummyChains\",(function(){s(t)})),n(\"    addBorderSegments\",(function(){h(t)})),n(\"    order\",(function(){d(t)})),n(\"    insertSelfEdges\",(function(){!function(t){var n=v.buildLayerMatrix(t);e.forEach(n,(function(n){var r=0;e.forEach(n,(function(n,o){var i=t.node(n);i.order=o+r,e.forEach(i.selfEdges,(function(n){v.addDummyNode(t,\"selfedge\",{width:n.label.width,height:n.label.height,rank:i.rank,order:o+ ++r,e:n.e,label:n.label},\"_se\")})),delete i.selfEdges}))}))}(t)})),n(\"    adjustCoordinateSystem\",(function(){l.adjust(t)})),n(\"    position\",(function(){p(t)})),n(\"    positionSelfEdges\",(function(){!function(t){e.forEach(t.nodes(),(function(n){var r=t.node(n);if(\"selfedge\"===r.dummy){var e=t.node(r.e.v),o=e.x+e.width/2,i=e.y,a=r.x-o,u=e.height/2;t.setEdge(r.e,r.label),t.removeNode(n),r.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],r.label.x=r.x,r.label.y=r.y}}))}(t)})),n(\"    removeBorderNodes\",(function(){!function(t){e.forEach(t.nodes(),(function(n){if(t.children(n).length){var r=t.node(n),o=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(e.last(r.borderLeft)),u=t.node(e.last(r.borderRight));r.width=Math.abs(u.x-a.x),r.height=Math.abs(i.y-o.y),r.x=a.x+r.width/2,r.y=o.y+r.height/2}})),e.forEach(t.nodes(),(function(n){\"border\"===t.node(n).dummy&&t.removeNode(n)}))}(t)})),n(\"    normalize.undo\",(function(){i.undo(t)})),n(\"    fixupEdgeLabelCoords\",(function(){!function(t){e.forEach(t.edges(),(function(n){var r=t.edge(n);if(e.has(r,\"x\"))switch(\"l\"!==r.labelpos&&\"r\"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case\"l\":r.x-=r.width/2+r.labeloffset;break;case\"r\":r.x+=r.width/2+r.labeloffset}}))}(t)})),n(\"    undoCoordinateSystem\",(function(){l.undo(t)})),n(\"    translateGraph\",(function(){!function(t){var n=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var e=t.x,a=t.y,u=t.width,s=t.height;n=Math.min(n,e-u/2),r=Math.max(r,e+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}e.forEach(t.nodes(),(function(n){c(t.node(n))})),e.forEach(t.edges(),(function(n){var r=t.edge(n);e.has(r,\"x\")&&c(r)})),n-=u,o-=s,e.forEach(t.nodes(),(function(r){var e=t.node(r);e.x-=n,e.y-=o})),e.forEach(t.edges(),(function(r){var i=t.edge(r);e.forEach(i.points,(function(t){t.x-=n,t.y-=o})),e.has(i,\"x\")&&(i.x-=n),e.has(i,\"y\")&&(i.y-=o)})),a.width=r-n+u,a.height=i-o+s}(t)})),n(\"    assignNodeIntersects\",(function(){!function(t){e.forEach(t.edges(),(function(n){var r,e,o=t.edge(n),i=t.node(n.v),a=t.node(n.w);o.points?(r=o.points[0],e=o.points[o.points.length-1]):(o.points=[],r=a,e=i),o.points.unshift(v.intersectRect(i,r)),o.points.push(v.intersectRect(a,e))}))}(t)})),n(\"    reversePoints\",(function(){!function(t){e.forEach(t.edges(),(function(n){var r=t.edge(n);r.reversed&&r.points.reverse()}))}(t)})),n(\"    acyclic.undo\",(function(){o.undo(t)}))}(n,r)})),r(\"  updateInputGraph\",(function(){!function(t,n){e.forEach(t.nodes(),(function(r){var e=t.node(r),o=n.node(r);e&&(e.x=o.x,e.y=o.y,n.children(r).length&&(e.width=o.width,e.height=o.height))})),e.forEach(t.edges(),(function(r){var o=t.edge(r),i=n.edge(r);o.points=i.points,e.has(i,\"x\")&&(o.x=i.x,o.y=i.y)})),t.graph().width=n.graph().width,t.graph().height=n.graph().height}(t,n)}))}))};var g=[\"nodesep\",\"edgesep\",\"ranksep\",\"marginx\",\"marginy\"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:\"tb\"},w=[\"acyclicer\",\"ranker\",\"rankdir\",\"align\"],b=[\"width\",\"height\"],x={width:0,height:0},M=[\"minlen\",\"weight\",\"width\",\"height\",\"labeloffset\"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:\"r\"},_=[\"labelpos\"];function S(t,n){return e.mapValues(e.pick(t,n),Number)}function k(t){var n={};return e.forEach(t,(function(t,r){n[r.toLowerCase()]=t})),n}},function(t,n,r){var e=r(74);t.exports=function(t){return e(t,5)}},function(t,n,r){var e=r(49),o=r(21),i=r(50),a=r(17),u=Object.prototype,s=u.hasOwnProperty,c=e((function(t,n){t=Object(t);var r=-1,e=n.length,c=e>2?n[2]:void 0;for(c&&i(n[0],n[1],c)&&(e=1);++r<e;)for(var f=n[r],h=a(f),l=-1,d=h.length;++l<d;){var p=h[l],v=t[p];(void 0===v||o(v,u[p])&&!s.call(t,p))&&(t[p]=f[p])}return t}));t.exports=c},function(t,n,r){var e=r(250)(r(251));t.exports=e},function(t,n,r){var e=r(13),o=r(12),i=r(14);t.exports=function(t){return function(n,r,a){var u=Object(n);if(!o(n)){var s=e(r,3);n=i(n),r=function(t){return s(u[t],t,u)}}var c=t(n,r,a);return c>-1?u[s?n[c]:c]:void 0}}},function(t,n,r){var e=r(113),o=r(13),i=r(252),a=Math.max;t.exports=function(t,n,r){var u=null==t?0:t.length;if(!u)return-1;var s=null==r?0:i(r);return s<0&&(s=a(u+s,0)),e(t,o(n,3),s)}},function(t,n,r){var e=r(121);t.exports=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}},function(t,n,r){var e=r(6),o=r(25),i=/^\\\\s+|\\\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if(\"number\"==typeof t)return t;if(o(t))return NaN;if(e(t)){var n=\"function\"==typeof t.valueOf?t.valueOf():t;t=e(n)?n+\"\":n}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(i,\"\");var r=u.test(t);return r||s.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},function(t,n,r){var e=r(68),o=r(94),i=r(17);t.exports=function(t,n){return null==t?t:e(t,o(n),i)}},function(t,n){t.exports=function(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}},function(t,n,r){var e=r(40),o=r(67),i=r(13);t.exports=function(t,n){var r={};return n=i(n,3),o(t,(function(t,o,i){e(r,o,n(t,o,i))})),r}},function(t,n,r){var e=r(72),o=r(258),i=r(18);t.exports=function(t){return t&&t.length?e(t,i,o):void 0}},function(t,n){t.exports=function(t,n){return t>n}},function(t,n,r){var e=r(260),o=r(264)((function(t,n,r){e(t,n,r)}));t.exports=o},function(t,n,r){var e=r(34),o=r(123),i=r(68),a=r(261),u=r(6),s=r(17),c=r(124);t.exports=function t(n,r,f,h,l){n!==r&&i(r,(function(i,s){if(l||(l=new e),u(i))a(n,r,s,f,t,h,l);else{var d=h?h(c(n,s),i,s+\"\",n,r,l):void 0;void 0===d&&(d=i),o(n,s,d)}}),s)}},function(t,n,r){var e=r(123),o=r(80),i=r(89),a=r(81),u=r(90),s=r(28),c=r(1),f=r(114),h=r(23),l=r(26),d=r(6),p=r(262),v=r(29),y=r(124),g=r(263);t.exports=function(t,n,r,m,w,b,x){var M=y(t,r),E=y(n,r),_=x.get(E);if(_)e(t,r,_);else{var S=b?b(M,E,r+\"\",t,n,x):void 0,k=void 0===S;if(k){var j=c(E),O=!j&&h(E),N=!j&&!O&&v(E);S=E,j||O||N?c(M)?S=M:f(M)?S=a(M):O?(k=!1,S=o(E,!0)):N?(k=!1,S=i(E,!0)):S=[]:p(E)||s(E)?(S=M,s(M)?S=g(M):d(M)&&!l(M)||(S=u(E))):k=!1}k&&(x.set(E,S),w(S,E,m,b,x),x.delete(E)),e(t,r,S)}}},function(t,n,r){var e=r(16),o=r(44),i=r(10),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||\"[object Object]\"!=e(t))return!1;var n=o(t);if(null===n)return!0;var r=c.call(n,\"constructor\")&&n.constructor;return\"function\"==typeof r&&r instanceof r&&s.call(r)==f}},function(t,n,r){var e=r(27),o=r(17);t.exports=function(t){return e(t,o(t))}},function(t,n,r){var e=r(49),o=r(50);t.exports=function(t){return e((function(n,r){var e=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&\"function\"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),n=Object(n);++e<i;){var s=r[e];s&&t(n,s,e,a)}return n}))}},function(t,n,r){var e=r(72),o=r(125),i=r(18);t.exports=function(t){return t&&t.length?e(t,i,o):void 0}},function(t,n,r){var e=r(72),o=r(13),i=r(125);t.exports=function(t,n){return t&&t.length?e(t,o(n,2),i):void 0}},function(t,n,r){var e=r(8);t.exports=function(){return e.Date.now()}},function(t,n,r){var e=r(269),o=r(272)((function(t,n){return null==t?{}:e(t,n)}));t.exports=o},function(t,n,r){var e=r(270),o=r(103);t.exports=function(t,n){return e(t,n,(function(n,r){return o(t,r)}))}},function(t,n,r){var e=r(46),o=r(271),i=r(47);t.exports=function(t,n,r){for(var a=-1,u=n.length,s={};++a<u;){var c=n[a],f=e(t,c);r(f,c)&&o(s,i(c,t),f)}return s}},function(t,n,r){var e=r(39),o=r(47),i=r(41),a=r(6),u=r(30);t.exports=function(t,n,r,s){if(!a(t))return t;for(var c=-1,f=(n=o(n,t)).length,h=f-1,l=t;null!=l&&++c<f;){var d=u(n[c]),p=r;if(\"__proto__\"===d||\"constructor\"===d||\"prototype\"===d)return t;if(c!=h){var v=l[d];void 0===(p=s?s(v,d,l):void 0)&&(p=a(v)?v:i(n[c+1])?[]:{})}e(l,d,p),l=l[d]}return t}},function(t,n,r){var e=r(122),o=r(111),i=r(112);t.exports=function(t){return i(o(t,void 0,e),t+\"\")}},function(t,n,r){var e=r(274)();t.exports=e},function(t,n,r){var e=r(275),o=r(50),i=r(121);t.exports=function(t){return function(n,r,a){return a&&\"number\"!=typeof a&&o(n,r,a)&&(r=a=void 0),n=i(n),void 0===r?(r=n,n=0):r=i(r),a=void 0===a?n<r?1:-1:i(a),e(n,r,a,t)}}},function(t,n){var r=Math.ceil,e=Math.max;t.exports=function(t,n,o,i){for(var a=-1,u=e(r((n-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,n,r){var e=r(71),o=r(277),i=r(49),a=r(50),u=i((function(t,n){if(null==t)return[];var r=n.length;return r>1&&a(t,n[0],n[1])?n=[]:r>2&&a(n[0],n[1],n[2])&&(n=[n[0]]),o(t,e(n,1),[])}));t.exports=u},function(t,n,r){var e=r(48),o=r(46),i=r(13),a=r(109),u=r(278),s=r(42),c=r(279),f=r(18),h=r(1);t.exports=function(t,n,r){n=n.length?e(n,(function(t){return h(t)?function(n){return o(n,1===t.length?t[0]:t)}:t})):[f];var l=-1;n=e(n,s(i));var d=a(t,(function(t,r,o){return{criteria:e(n,(function(n){return n(t)})),index:++l,value:t}}));return u(d,(function(t,n){return c(t,n,r)}))}},function(t,n){t.exports=function(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}},function(t,n,r){var e=r(280);t.exports=function(t,n,r){for(var o=-1,i=t.criteria,a=n.criteria,u=i.length,s=r.length;++o<u;){var c=e(i[o],a[o]);if(c)return o>=s?c:c*(\"desc\"==r[o]?-1:1)}return t.index-n.index}},function(t,n,r){var e=r(25);t.exports=function(t,n){if(t!==n){var r=void 0!==t,o=null===t,i=t==t,a=e(t),u=void 0!==n,s=null===n,c=n==n,f=e(n);if(!s&&!f&&!a&&t>n||a&&u&&c&&!s&&!f||o&&u&&c||!r&&c||!i)return 1;if(!o&&!a&&!f&&t<n||f&&r&&i&&!o&&!a||s&&r&&i||!u&&i||!c)return-1}return 0}},function(t,n,r){var e=r(102),o=0;t.exports=function(t){var n=++o;return e(t)+n}},function(t,n,r){var e=r(39),o=r(283);t.exports=function(t,n){return o(t||[],n||[],e)}},function(t,n){t.exports=function(t,n,r){for(var e=-1,o=t.length,i=n.length,a={};++e<o;){var u=e<i?n[e]:void 0;r(a,t[e],u)}return a}},function(t,n,r){\"use strict\";var e=r(0),o=r(285);t.exports={run:function(t){var n=\"greedy\"===t.graph().acyclicer?o(t,function(t){return function(n){return t.edge(n).weight}}(t)):function(t){var n=[],r={},o={};function i(a){e.has(o,a)||(o[a]=!0,r[a]=!0,e.forEach(t.outEdges(a),(function(t){e.has(r,t.w)?n.push(t):i(t.w)})),delete r[a])}return e.forEach(t.nodes(),i),n}(t);e.forEach(n,(function(n){var r=t.edge(n);t.removeEdge(n),r.forwardName=n.name,r.reversed=!0,t.setEdge(n.w,n.v,r,e.uniqueId(\"rev\"))}))},undo:function(t){e.forEach(t.edges(),(function(n){var r=t.edge(n);if(r.reversed){t.removeEdge(n);var e=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(n.w,n.v,r,e)}}))}}},function(t,n,r){var e=r(0),o=r(7).Graph,i=r(286);t.exports=function(t,n){if(t.nodeCount()<=1)return[];var r=function(t,n){var r=new o,a=0,u=0;e.forEach(t.nodes(),(function(t){r.setNode(t,{v:t,in:0,out:0})})),e.forEach(t.edges(),(function(t){var e=r.edge(t.v,t.w)||0,o=n(t),i=e+o;r.setEdge(t.v,t.w,i),u=Math.max(u,r.node(t.v).out+=o),a=Math.max(a,r.node(t.w).in+=o)}));var c=e.range(u+a+3).map((function(){return new i})),f=a+1;return e.forEach(r.nodes(),(function(t){s(c,f,r.node(t))})),{graph:r,buckets:c,zeroIdx:f}}(t,n||a),c=function(t,n,r){var e,o=[],i=n[n.length-1],a=n[0];for(;t.nodeCount();){for(;e=a.dequeue();)u(t,n,r,e);for(;e=i.dequeue();)u(t,n,r,e);if(t.nodeCount())for(var s=n.length-2;s>0;--s)if(e=n[s].dequeue()){o=o.concat(u(t,n,r,e,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx);return e.flatten(e.map(c,(function(n){return t.outEdges(n.v,n.w)})),!0)};var a=e.constant(1);function u(t,n,r,o,i){var a=i?[]:void 0;return e.forEach(t.inEdges(o.v),(function(e){var o=t.edge(e),u=t.node(e.v);i&&a.push({v:e.v,w:e.w}),u.out-=o,s(n,r,u)})),e.forEach(t.outEdges(o.v),(function(e){var o=t.edge(e),i=e.w,a=t.node(i);a.in-=o,s(n,r,a)})),t.removeNode(o.v),a}function s(t,n,r){r.out?r.in?t[r.out-r.in+n].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}},function(t,n){function r(){var t={};t._next=t._prev=t,this._sentinel=t}function e(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,n){if(\"_next\"!==t&&\"_prev\"!==t)return n}t.exports=r,r.prototype.dequeue=function(){var t=this._sentinel,n=t._prev;if(n!==t)return e(n),n},r.prototype.enqueue=function(t){var n=this._sentinel;t._prev&&t._next&&e(t),t._next=n._next,n._next._prev=t,n._next=t,t._prev=n},r.prototype.toString=function(){for(var t=[],n=this._sentinel,r=n._prev;r!==n;)t.push(JSON.stringify(r,o)),r=r._prev;return\"[\"+t.join(\", \")+\"]\"}},function(t,n,r){\"use strict\";var e=r(0),o=r(4);t.exports={run:function(t){t.graph().dummyChains=[],e.forEach(t.edges(),(function(n){!function(t,n){var r,e,i,a=n.v,u=t.node(a).rank,s=n.w,c=t.node(s).rank,f=n.name,h=t.edge(n),l=h.labelRank;if(c===u+1)return;for(t.removeEdge(n),i=0,++u;u<c;++i,++u)h.points=[],e={width:0,height:0,edgeLabel:h,edgeObj:n,rank:u},r=o.addDummyNode(t,\"edge\",e,\"_d\"),u===l&&(e.width=h.width,e.height=h.height,e.dummy=\"edge-label\",e.labelpos=h.labelpos),t.setEdge(a,r,{weight:h.weight},f),0===i&&t.graph().dummyChains.push(r),a=r;t.setEdge(a,s,{weight:h.weight},f)}(t,n)}))},undo:function(t){e.forEach(t.graph().dummyChains,(function(n){var r,e=t.node(n),o=e.edgeLabel;for(t.setEdge(e.edgeObj,o);e.dummy;)r=t.successors(n)[0],t.removeNode(n),o.points.push({x:e.x,y:e.y}),\"edge-label\"===e.dummy&&(o.x=e.x,o.y=e.y,o.width=e.width,o.height=e.height),n=r,e=t.node(n)}))}}},function(t,n,r){\"use strict\";var e=r(51).longestPath,o=r(126),i=r(289);t.exports=function(t){switch(t.graph().ranker){case\"network-simplex\":u(t);break;case\"tight-tree\":!function(t){e(t),o(t)}(t);break;case\"longest-path\":a(t);break;default:u(t)}};var a=e;function u(t){i(t)}},function(t,n,r){\"use strict\";var e=r(0),o=r(126),i=r(51).slack,a=r(51).longestPath,u=r(7).alg.preorder,s=r(7).alg.postorder,c=r(4).simplify;function f(t){t=c(t),a(t);var n,r=o(t);for(d(r),h(r,t);n=v(r);)g(r,t,n,y(r,t,n))}function h(t,n){var r=s(t,t.nodes());r=r.slice(0,r.length-1),e.forEach(r,(function(r){!function(t,n,r){var e=t.node(r).parent;t.edge(r,e).cutvalue=l(t,n,r)}(t,n,r)}))}function l(t,n,r){var o=t.node(r).parent,i=!0,a=n.edge(r,o),u=0;return a||(i=!1,a=n.edge(o,r)),u=a.weight,e.forEach(n.nodeEdges(r),(function(e){var a,s,c=e.v===r,f=c?e.w:e.v;if(f!==o){var h=c===i,l=n.edge(e).weight;if(u+=h?l:-l,a=r,s=f,t.hasEdge(a,s)){var d=t.edge(r,f).cutvalue;u+=h?-d:d}}})),u}function d(t,n){arguments.length<2&&(n=t.nodes()[0]),p(t,{},1,n)}function p(t,n,r,o,i){var a=r,u=t.node(o);return n[o]=!0,e.forEach(t.neighbors(o),(function(i){e.has(n,i)||(r=p(t,n,r,i,o))})),u.low=a,u.lim=r++,i?u.parent=i:delete u.parent,r}function v(t){return e.find(t.edges(),(function(n){return t.edge(n).cutvalue<0}))}function y(t,n,r){var o=r.v,a=r.w;n.hasEdge(o,a)||(o=r.w,a=r.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var h=e.filter(n.edges(),(function(n){return f===m(t,t.node(n.v),c)&&f!==m(t,t.node(n.w),c)}));return e.minBy(h,(function(t){return i(n,t)}))}function g(t,n,r,o){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),h(t,n),function(t,n){var r=e.find(t.nodes(),(function(t){return!n.node(t).parent})),o=u(t,r);o=o.slice(1),e.forEach(o,(function(r){var e=t.node(r).parent,o=n.edge(r,e),i=!1;o||(o=n.edge(e,r),i=!0),n.node(r).rank=n.node(e).rank+(i?o.minlen:-o.minlen)}))}(t,n)}function m(t,n,r){return r.low<=n.lim&&n.lim<=r.lim}t.exports=f,f.initLowLimValues=d,f.initCutValues=h,f.calcCutValue=l,f.leaveEdge=v,f.enterEdge=y,f.exchangeEdges=g},function(t,n,r){var e=r(0);t.exports=function(t){var n=function(t){var n={},r=0;function o(i){var a=r;e.forEach(t.children(i),o),n[i]={low:a,lim:r++}}return e.forEach(t.children(),o),n}(t);e.forEach(t.graph().dummyChains,(function(r){for(var e=t.node(r),o=e.edgeObj,i=function(t,n,r,e){var o,i,a=[],u=[],s=Math.min(n[r].low,n[e].low),c=Math.max(n[r].lim,n[e].lim);o=r;do{o=t.parent(o),a.push(o)}while(o&&(n[o].low>s||c>n[o].lim));i=o,o=e;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,n,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;r!==o.w;){if(e=t.node(r),f){for(;(c=a[s])!==u&&t.node(c).maxRank<e.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=e.rank;)s++;c=a[s]}t.setParent(r,c),r=t.successors(r)[0]}}))}},function(t,n,r){var e=r(0),o=r(4);t.exports={run:function(t){var n=o.addDummyNode(t,\"root\",{},\"_root\"),r=function(t){var n={};return e.forEach(t.children(),(function(r){!function r(o,i){var a=t.children(o);a&&a.length&&e.forEach(a,(function(t){r(t,i+1)}));n[o]=i}(r,1)})),n}(t),i=e.max(e.values(r))-1,a=2*i+1;t.graph().nestingRoot=n,e.forEach(t.edges(),(function(n){t.edge(n).minlen*=a}));var u=function(t){return e.reduce(t.edges(),(function(n,r){return n+t.edge(r).weight}),0)}(t)+1;e.forEach(t.children(),(function(s){!function t(n,r,i,a,u,s,c){var f=n.children(c);if(!f.length)return void(c!==r&&n.setEdge(r,c,{weight:0,minlen:i}));var h=o.addBorderNode(n,\"_bt\"),l=o.addBorderNode(n,\"_bb\"),d=n.node(c);n.setParent(h,c),d.borderTop=h,n.setParent(l,c),d.borderBottom=l,e.forEach(f,(function(e){t(n,r,i,a,u,s,e);var o=n.node(e),f=o.borderTop?o.borderTop:e,d=o.borderBottom?o.borderBottom:e,p=o.borderTop?a:2*a,v=f!==d?1:u-s[c]+1;n.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0}),n.setEdge(d,l,{weight:p,minlen:v,nestingEdge:!0})})),n.parent(c)||n.setEdge(r,h,{weight:0,minlen:u+s[c]})}(t,n,a,u,i,r,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var n=t.graph();t.removeNode(n.nestingRoot),delete n.nestingRoot,e.forEach(t.edges(),(function(n){t.edge(n).nestingEdge&&t.removeEdge(n)}))}}},function(t,n,r){var e=r(0),o=r(4);function i(t,n,r,e,i,a){var u={width:0,height:0,rank:a,borderType:n},s=i[n][a-1],c=o.addDummyNode(t,\"border\",u,r);i[n][a]=c,t.setParent(c,e),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){e.forEach(t.children(),(function n(r){var o=t.children(r),a=t.node(r);if(o.length&&e.forEach(o,n),e.has(a,\"minRank\")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,\"borderLeft\",\"_bl\",r,a,u),i(t,\"borderRight\",\"_br\",r,a,u)}}))}},function(t,n,r){\"use strict\";var e=r(0);function o(t){e.forEach(t.nodes(),(function(n){i(t.node(n))})),e.forEach(t.edges(),(function(n){i(t.edge(n))}))}function i(t){var n=t.width;t.width=t.height,t.height=n}function a(t){t.y=-t.y}function u(t){var n=t.x;t.x=t.y,t.y=n}t.exports={adjust:function(t){var n=t.graph().rankdir.toLowerCase();\"lr\"!==n&&\"rl\"!==n||o(t)},undo:function(t){var n=t.graph().rankdir.toLowerCase();\"bt\"!==n&&\"rl\"!==n||function(t){e.forEach(t.nodes(),(function(n){a(t.node(n))})),e.forEach(t.edges(),(function(n){var r=t.edge(n);e.forEach(r.points,a),e.has(r,\"y\")&&a(r)}))}(t);\"lr\"!==n&&\"rl\"!==n||(!function(t){e.forEach(t.nodes(),(function(n){u(t.node(n))})),e.forEach(t.edges(),(function(n){var r=t.edge(n);e.forEach(r.points,u),e.has(r,\"x\")&&u(r)}))}(t),o(t))}}},function(t,n,r){\"use strict\";var e=r(0),o=r(295),i=r(296),a=r(297),u=r(301),s=r(302),c=r(7).Graph,f=r(4);function h(t,n,r){return e.map(n,(function(n){return u(t,n,r)}))}function l(t,n){var r=new c;e.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,r,n);e.forEach(i.vs,(function(n,r){t.node(n).order=r})),s(t,r,i.vs)}))}function d(t,n){e.forEach(n,(function(n){e.forEach(n,(function(n,r){t.node(n).order=r}))}))}t.exports=function(t){var n=f.maxRank(t),r=h(t,e.range(1,n+1),\"inEdges\"),a=h(t,e.range(n-1,-1,-1),\"outEdges\"),u=o(t);d(t,u);for(var s,c=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){l(p%2?r:a,p%4>=2),u=f.buildLayerMatrix(t);var y=i(t,u);y<c&&(v=0,s=e.cloneDeep(u),c=y)}d(t,s)}},function(t,n,r){\"use strict\";var e=r(0);t.exports=function(t){var n={},r=e.filter(t.nodes(),(function(n){return!t.children(n).length})),o=e.max(e.map(r,(function(n){return t.node(n).rank}))),i=e.map(e.range(o+1),(function(){return[]}));var a=e.sortBy(r,(function(n){return t.node(n).rank}));return e.forEach(a,(function r(o){if(e.has(n,o))return;n[o]=!0;var a=t.node(o);i[a.rank].push(o),e.forEach(t.successors(o),r)})),i}},function(t,n,r){\"use strict\";var e=r(0);function o(t,n,r){for(var o=e.zipObject(r,e.map(r,(function(t,n){return n}))),i=e.flatten(e.map(n,(function(n){return e.sortBy(e.map(t.outEdges(n),(function(n){return{pos:o[n.w],weight:t.edge(n).weight}})),\"pos\")})),!0),a=1;a<r.length;)a<<=1;var u=2*a-1;a-=1;var s=e.map(new Array(u),(function(){return 0})),c=0;return e.forEach(i.forEach((function(t){var n=t.pos+a;s[n]+=t.weight;for(var r=0;n>0;)n%2&&(r+=s[n+1]),s[n=n-1>>1]+=t.weight;c+=t.weight*r}))),c}t.exports=function(t,n){for(var r=0,e=1;e<n.length;++e)r+=o(t,n[e-1],n[e]);return r}},function(t,n,r){var e=r(0),o=r(298),i=r(299),a=r(300);t.exports=function t(n,r,u,s){var c=n.children(r),f=n.node(r),h=f?f.borderLeft:void 0,l=f?f.borderRight:void 0,d={};h&&(c=e.filter(c,(function(t){return t!==h&&t!==l})));var p=o(n,c);e.forEach(p,(function(r){if(n.children(r.v).length){var o=t(n,r.v,u,s);d[r.v]=o,e.has(o,\"barycenter\")&&(i=r,a=o,e.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,n){e.forEach(t,(function(t){t.vs=e.flatten(t.vs.map((function(t){return n[t]?n[t].vs:t})),!0)}))}(v,d);var y=a(v,s);if(h&&(y.vs=e.flatten([h,y.vs,l],!0),n.predecessors(h).length)){var g=n.node(n.predecessors(h)[0]),m=n.node(n.predecessors(l)[0]);e.has(y,\"barycenter\")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+g.order+m.order)/(y.weight+2),y.weight+=2}return y}},function(t,n,r){var e=r(0);t.exports=function(t,n){return e.map(n,(function(n){var r=t.inEdges(n);if(r.length){var o=e.reduce(r,(function(n,r){var e=t.edge(r),o=t.node(r.v);return{sum:n.sum+e.weight*o.order,weight:n.weight+e.weight}}),{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}return{v:n}}))}},function(t,n,r){\"use strict\";var e=r(0);t.exports=function(t,n){var r={};return e.forEach(t,(function(t,n){var o=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:n};e.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),e.forEach(n.edges(),(function(t){var n=r[t.v],o=r[t.w];e.isUndefined(n)||e.isUndefined(o)||(o.indegree++,n.out.push(r[t.w]))})),function(t){var n=[];function r(t){return function(n){n.merged||(e.isUndefined(n.barycenter)||e.isUndefined(t.barycenter)||n.barycenter>=t.barycenter)&&function(t,n){var r=0,e=0;t.weight&&(r+=t.barycenter*t.weight,e+=t.weight);n.weight&&(r+=n.barycenter*n.weight,e+=n.weight);t.vs=n.vs.concat(t.vs),t.barycenter=r/e,t.weight=e,t.i=Math.min(n.i,t.i),n.merged=!0}(t,n)}}function o(n){return function(r){r.in.push(n),0==--r.indegree&&t.push(r)}}for(;t.length;){var i=t.pop();n.push(i),e.forEach(i.in.reverse(),r(i)),e.forEach(i.out,o(i))}return e.map(e.filter(n,(function(t){return!t.merged})),(function(t){return e.pick(t,[\"vs\",\"i\",\"barycenter\",\"weight\"])}))}(e.filter(r,(function(t){return!t.indegree})))}},function(t,n,r){var e=r(0),o=r(4);function i(t,n,r){for(var o;n.length&&(o=e.last(n)).i<=r;)n.pop(),t.push(o.vs),r++;return r}t.exports=function(t,n){var r=o.partition(t,(function(t){return e.has(t,\"barycenter\")})),a=r.lhs,u=e.sortBy(r.rhs,(function(t){return-t.i})),s=[],c=0,f=0,h=0;a.sort((l=!!n,function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:l?n.i-t.i:t.i-n.i})),h=i(s,u,h),e.forEach(a,(function(t){h+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,h=i(s,u,h)}));var l;var d={vs:e.flatten(s,!0)};f&&(d.barycenter=c/f,d.weight=f);return d}},function(t,n,r){var e=r(0),o=r(7).Graph;t.exports=function(t,n,r){var i=function(t){var n;for(;t.hasNode(n=e.uniqueId(\"_root\")););return n}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(n){return t.node(n)}));return e.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===n||u.minRank<=n&&n<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),e.forEach(t[r](o),(function(n){var r=n.v===o?n.w:n.v,i=a.edge(r,o),u=e.isUndefined(i)?0:i.weight;a.setEdge(r,o,{weight:t.edge(n).weight+u})})),e.has(u,\"minRank\")&&a.setNode(o,{borderLeft:u.borderLeft[n],borderRight:u.borderRight[n]}))})),a}},function(t,n,r){var e=r(0);t.exports=function(t,n,r){var o,i={};e.forEach(r,(function(r){for(var e,a,u=t.parent(r);u;){if((e=t.parent(u))?(a=i[e],i[e]=u):(a=o,o=u),a&&a!==u)return void n.setEdge(a,u);u=e}}))}},function(t,n,r){\"use strict\";var e=r(0),o=r(4),i=r(304).positionX;t.exports=function(t){(function(t){var n=o.buildLayerMatrix(t),r=t.graph().ranksep,i=0;e.forEach(n,(function(n){var o=e.max(e.map(n,(function(n){return t.node(n).height})));e.forEach(n,(function(n){t.node(n).y=i+o/2})),i+=o+r}))})(t=o.asNonCompoundGraph(t)),e.forEach(i(t),(function(n,r){t.node(r).x=n}))}},function(t,n,r){\"use strict\";var e=r(0),o=r(7).Graph,i=r(4);function a(t,n){var r={};return e.reduce(n,(function(n,o){var i=0,a=0,u=n.length,c=e.last(o);return e.forEach(o,(function(n,f){var h=function(t,n){if(t.node(n).dummy)return e.find(t.predecessors(n),(function(n){return t.node(n).dummy}))}(t,n),l=h?t.node(h).order:u;(h||n===c)&&(e.forEach(o.slice(a,f+1),(function(n){e.forEach(t.predecessors(n),(function(e){var o=t.node(e),a=o.order;!(a<i||l<a)||o.dummy&&t.node(n).dummy||s(r,e,n)}))})),a=f+1,i=l)})),o})),r}function u(t,n){var r={};function o(n,o,i,a,u){var c;e.forEach(e.range(o,i),(function(o){c=n[o],t.node(c).dummy&&e.forEach(t.predecessors(c),(function(n){var e=t.node(n);e.dummy&&(e.order<a||e.order>u)&&s(r,n,c)}))}))}return e.reduce(n,(function(n,r){var i,a=-1,u=0;return e.forEach(r,(function(e,s){if(\"border\"===t.node(e).dummy){var c=t.predecessors(e);c.length&&(i=t.node(c[0]).order,o(r,u,s,a,i),u=s,a=i)}o(r,u,r.length,i,n.length)})),r})),r}function s(t,n,r){if(n>r){var e=n;n=r,r=e}var o=t[n];o||(t[n]=o={}),o[r]=!0}function c(t,n,r){if(n>r){var o=n;n=r,r=o}return e.has(t[n],r)}function f(t,n,r,o){var i={},a={},u={};return e.forEach(n,(function(t){e.forEach(t,(function(t,n){i[t]=t,a[t]=t,u[t]=n}))})),e.forEach(n,(function(t){var n=-1;e.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=e.sortBy(s,(function(t){return u[t]}))).length-1)/2,h=Math.floor(f),l=Math.ceil(f);h<=l;++h){var d=s[h];a[t]===t&&n<u[d]&&!c(r,t,d)&&(a[d]=t,a[t]=i[t]=i[d],n=u[d])}}))})),{root:i,align:a}}function h(t,n,r,i,a){var u={},s=function(t,n,r,i){var a=new o,u=t.graph(),s=function(t,n,r){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,e.has(s,\"labelpos\"))switch(s.labelpos.toLowerCase()){case\"l\":u=-s.width/2;break;case\"r\":u=s.width/2}if(u&&(f+=r?u:-u),u=0,f+=(s.dummy?n:t)/2,f+=(c.dummy?n:t)/2,f+=c.width/2,e.has(c,\"labelpos\"))switch(c.labelpos.toLowerCase()){case\"l\":u=c.width/2;break;case\"r\":u=-c.width/2}return u&&(f+=r?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return e.forEach(n,(function(n){var o;e.forEach(n,(function(n){var e=r[n];if(a.setNode(e),o){var i=r[o],u=a.edge(i,e);a.setEdge(i,e,Math.max(s(t,n,o),u||0))}o=n}))})),a}(t,n,r,a),c=a?\"borderLeft\":\"borderRight\";function f(t,n){for(var r=s.nodes(),e=r.pop(),o={};e;)o[e]?t(e):(o[e]=!0,r.push(e),r=r.concat(n(e))),e=r.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,n){return Math.max(t,u[n.v]+s.edge(n))}),0)}),s.predecessors.bind(s)),f((function(n){var r=s.outEdges(n).reduce((function(t,n){return Math.min(t,u[n.w]-s.edge(n))}),Number.POSITIVE_INFINITY),e=t.node(n);r!==Number.POSITIVE_INFINITY&&e.borderType!==c&&(u[n]=Math.max(u[n],r))}),s.successors.bind(s)),e.forEach(i,(function(t){u[t]=u[r[t]]})),u}function l(t,n){return e.minBy(e.values(n),(function(n){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return e.forIn(n,(function(n,e){var i=function(t,n){return t.node(n).width}(t,e)/2;r=Math.max(n+i,r),o=Math.min(n-i,o)})),r-o}))}function d(t,n){var r=e.values(n),o=e.min(r),i=e.max(r);e.forEach([\"u\",\"d\"],(function(r){e.forEach([\"l\",\"r\"],(function(a){var u,s=r+a,c=t[s];if(c!==n){var f=e.values(c);(u=\"l\"===a?o-e.min(f):i-e.max(f))&&(t[s]=e.mapValues(c,(function(t){return t+u})))}}))}))}function p(t,n){return e.mapValues(t.ul,(function(r,o){if(n)return t[n.toLowerCase()][o];var i=e.sortBy(e.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var n,r=i.buildLayerMatrix(t),o=e.merge(a(t,r),u(t,r)),s={};e.forEach([\"u\",\"d\"],(function(i){n=\"u\"===i?r:e.values(r).reverse(),e.forEach([\"l\",\"r\"],(function(r){\"r\"===r&&(n=e.map(n,(function(t){return e.values(t).reverse()})));var a=(\"u\"===i?t.predecessors:t.successors).bind(t),u=f(t,n,o,a),c=h(t,n,u.root,u.align,\"r\"===r);\"r\"===r&&(c=e.mapValues(c,(function(t){return-t}))),s[i+r]=c}))}));var c=l(t,s);return d(s,c),p(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:l,balance:p}},function(t,n,r){var e=r(0),o=r(4),i=r(7).Graph;t.exports={debugOrdering:function(t){var n=o.buildLayerMatrix(t),r=new i({compound:!0,multigraph:!0}).setGraph({});return e.forEach(t.nodes(),(function(n){r.setNode(n,{label:n}),r.setParent(n,\"layer\"+t.node(n).rank)})),e.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),e.forEach(n,(function(t,n){var o=\"layer\"+n;r.setNode(o,{rank:\"same\"}),e.reduce(t,(function(t,n){return r.setEdge(t,n,{style:\"invis\"}),n}))})),r}}},function(t,n){t.exports=\"0.8.5\"},function(t,n,r){\"use strict\";r.r(n);var e=r(52),o=r.n(e);\\n/*! *****************************************************************************\\nCopyright (c) Microsoft Corporation.\\n\\nPermission to use, copy, modify, and/or distribute this software for any\\npurpose with or without fee is hereby granted.\\n\\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\\nPERFORMANCE OF THIS SOFTWARE.\\n***************************************************************************** */\\nvar i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(t,n)};function a(t,n){function r(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}Object.create;Object.create;var u=r(31),s=r.n(u),c=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(){},t.prototype.layout=function(t){this.init(t),this.execute()},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){s()(this,t)},t.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},t}(),f={registerLayout:function(t,n,r){if(void 0===r&&(r=c),!n)throw new Error(\"please specify handler for this layout: \"+t);var e=function(t){function r(r){var e=t.call(this)||this,i=e,a={},u=i.getDefaultCfg();return s()(a,u,n,r),o()(a,(function(t,n){i[n]=t})),e}return a(r,t),r}(r);f[t]=e}},h=f,l=r(3);l.translate=function(t,n,r){var e=new Array(9);return l.fromTranslation(e,r),l.multiply(t,e,n)},l.rotate=function(t,n,r){var e=new Array(9);return l.fromRotation(e,r),l.multiply(t,e,n)},l.scale=function(t,n,r){var e=new Array(9);return l.fromScaling(e,r),l.multiply(t,e,n)},l.transform=function(t,n){for(var r=[].concat(t),e=0,o=n.length;e<o;e++){var i=n[e];switch(i[0]){case\"t\":l.translate(r,r,[i[1],i[2]]);break;case\"s\":l.scale(r,r,[i[1],i[2]]);break;case\"r\":l.rotate(r,r,i[1])}}return r};var d=r(9),p={}.toString,v=function(t,n){return p.call(t)===\"[object \"+n+\"]\"},y=function(t){return v(t,\"Function\")},g=function(t){return Array.isArray?Array.isArray(t):v(t,\"Array\")};function m(t){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var w=function(t){var n=m(t);return null!==t&&\"object\"===n||\"function\"===n};var b=function(t,n){if(t)if(g(t))for(var r=0,e=t.length;r<e&&!1!==n(t[r],r);r++);else if(w(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===n(t[o],o))break};Object.keys;var x=Array.prototype;x.splice,x.indexOf,Array.prototype.splice;Object.prototype.hasOwnProperty;var M=function(t,n,r){return t<n?n:t>r?r:t},E=function(t){return v(t,\"Number\")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;function _(t){return(_=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var S=function t(n){if(\"object\"!==_(n)||null===n)return n;var r;if(g(n)){r=[];for(var e=0,o=n.length;e<o;e++)\"object\"===_(n[e])&&null!=n[e]?r[e]=t(n[e]):r[e]=n[e]}else for(var i in r={},n)\"object\"===_(n[i])&&null!=n[i]?r[i]=t(n[i]):r[i]=n[i];return r};Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,n){var r=this.map[t];return void 0===r?n:r},t.prototype.set=function(t,n){this.map[t]=n},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();d.angle=function(t,n){var r=d.dot(t,n)/(d.length(t)*d.length(n));return Math.acos(M(r,-1,1))},d.direction=function(t,n){return t[0]*n[1]-n[0]*t[1]},d.angleTo=function(t,n,r){var e=d.angle(t,n),o=d.direction(t,n)>=0;return r?o?2*Math.PI-e:e:o?e:2*Math.PI-e},d.vertical=function(t,n,r){return r?(t[0]=n[1],t[1]=-1*n[0]):(t[0]=-1*n[1],t[1]=n[0]),t};r(127);var k=r(2),j=r.n(k),O=function(t){for(var n=[],r=t.length,e=0;e<r;e+=1){n[e]=[];for(var o=0;o<r;o+=1)e===o?n[e][o]=0:0!==t[e][o]&&t[e][o]?n[e][o]=t[e][o]:n[e][o]=1/0}for(var i=0;i<r;i+=1)for(e=0;e<r;e+=1)for(o=0;o<r;o+=1)n[e][o]>n[e][i]+n[i][o]&&(n[e][o]=n[e][i]+n[i][o]);return n},N=function(t,n){var r=t.nodes,e=t.edges,o=[],i={};if(!r)throw new Error(\"invalid nodes data!\");return r&&r.forEach((function(t,n){i[t.id]=n;o.push([])})),e&&e.forEach((function(t){var r=t.source,e=t.target,a=i[r],u=i[e];o[a][u]=1,n||(o[u][a]=1)})),o},A=function(t,n,r){for(var e=[],o=0;o<t;o++)e[o]=0;return r.forEach((function(t){t.source&&(e[n[t.source]]+=1),t.target&&(e[n[t.target]]+=1)})),e};!function(){function t(t,n,r,e){this.x1=t,this.y1=n,this.x2=r,this.y2=e}t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),n=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),e=Math.max(this.y1,this.y2);return{x:t,y:n,minX:t,minY:n,maxX:r,maxY:e,width:r-t,height:e-n}}}();function I(t,n){return t.degree<n.degree?-1:t.degree>n.degree?1:0}var R=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.radius=null,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},n.prototype.execute=function(){var t=this.nodes,n=this.edges,r=t.length,e=this.center;if(0!==r){if(1===r)return t[0].x=e[0],void(t[0].y=e[1]);var o=this.radius,i=this.startRadius,a=this.endRadius,u=this.divisions,s=this.startAngle,c=this.endAngle,f=(c-s)/r,h={};t.forEach((function(t,n){h[t.id]=n})),this.nodeMap=h;var l=A(t.length,h,n);this.degrees=l,this.width||\"undefined\"==typeof window||(this.width=window.innerWidth),this.height||\"undefined\"==typeof window||(this.height=window.innerHeight),o||i||a?!i&&a?i=a:i&&!a&&(a=i):o=this.height>this.width?this.width/2:this.height/2;var d=f*this.angleRatio;this.astep=d;var p=this.ordering,v=[];v=\"topology\"===p?this.topologyOrdering():\"topology-directed\"===p?this.topologyOrdering(!0):\"degree\"===p?this.degreeOrdering():t;for(var y=this.clockwise,g=Math.ceil(r/u),m=0;m<r;++m){var w=o;w||null===i||null===a||(w=i+m*(a-i)/(r-1)),w||(w=10+100*m/(r-1));var b=s+m%g*d+2*Math.PI/u*Math.floor(m/g);y||(b=c-m%g*d-2*Math.PI/u*Math.floor(m/g)),v[m].x=e[0]+Math.cos(b)*w,v[m].y=e[1]+Math.sin(b)*w,v[m].weight=l[m]}}},n.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var n=this.degrees,r=this.edges,e=this.nodes,o=S(e),i=this.nodeMap,a=[o[0]],u=[e[0]],s=[],c=e.length;s[0]=!0,function(t,n,r,e){t.forEach((function(n,r){t[r].children=[],t[r].parent=[]})),e?n.forEach((function(n){var e=0;n.source&&(e=r[n.source]);var o=0;n.target&&(o=r[n.target]),t[e].children.push(t[o].id),t[o].parent.push(t[e].id)})):n.forEach((function(n){var e=0;n.source&&(e=r[n.source]);var o=0;n.target&&(o=r[n.target]),t[e].children.push(t[o].id),t[o].children.push(t[e].id)}))}(o,r,i,t);var f=0;return o.forEach((function(t,h){if(0!==h)if(h!==c-1&&n[h]===n[h+1]&&!function(t,n,r){for(var e=r.length,o=0;o<e;o++)if(t.id===r[o].source&&n.id===r[o].target||n.id===r[o].source&&t.id===r[o].target)return!0;return!1}(a[f],t,r)||!0===s[h]){for(var l=a[f].children,d=!1,p=0;p<l.length;p++){var v=i[l[p]];if(n[v]===n[h]&&!0!==s[v]){a.push(o[v]),u.push(e[i[o[v].id]]),s[v]=!0,d=!0;break}}for(var y=0;!d&&(s[y]||(a.push(o[y]),u.push(e[i[o[y].id]]),s[y]=!0,d=!0),++y!==c););}else a.push(t),u.push(e[i[t.id]]),s[h]=!0,f++})),u},n.prototype.degreeOrdering=function(){var t=this.nodes,n=[],r=this.degrees;return t.forEach((function(t,e){t.degree=r[e],n.push(t)})),n.sort(I),n},n}(c),P=r(11),C=r.n(P),T=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.nodeSize=30,n.minNodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy=\"degree\",n.nodes=[],n.edges=[],n.width=300,n.height=300,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:\"degree\"}},n.prototype.execute=function(){var t=this,n=t.nodes,r=t.edges,e=n.length,o=t.center;if(0!==e){if(1===e)return n[0].x=o[0],void(n[0].y=o[1]);var i,a=[];i=j()(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,n.forEach((function(t){a.push(t);var n=i;j()(t.size)?n=Math.max(t.size[0],t.size[1]):E(t.size)&&(n=t.size),i=Math.max(i,n)})),t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var u={},s={};if(a.forEach((function(t,n){u[t.id]=t,s[t.id]=n})),!(\"degree\"!==t.sortBy&&C()(t.sortBy)&&void 0!==a[0][t.sortBy]||(t.sortBy=\"degree\",E(n[0].degree)))){var c=A(n.length,s,r);a.forEach((function(t,n){t.degree=c[n]}))}a.sort((function(n,r){return r[t.sortBy]-n[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var f=[[]],h=f[0];a.forEach((function(n){if(h.length>0){var r=Math.abs(h[0][t.sortBy]-n[t.sortBy]);t.maxLevelDiff&&r>=t.maxLevelDiff&&(h=[],f.push(h))}h.push(n)}));var l=i+t.minNodeSpacing;if(!t.preventOverlap){var d=f.length>0&&f[0].length>1,p=(Math.min(t.width,t.height)/2-l)/(f.length+(d?1:0));l=Math.min(l,p)}var v=0;if(f.forEach((function(n){var r=t.sweep;void 0===r&&(r=2*Math.PI-2*Math.PI/n.length);var e=n.dTheta=r/Math.max(1,n.length-1);if(n.length>1&&t.preventOverlap){var o=Math.cos(e)-Math.cos(0),i=Math.sin(e)-Math.sin(0),a=Math.sqrt(l*l/(o*o+i*i));v=Math.max(a,v)}n.r=v,v+=l})),t.equidistant){for(var y=0,g=0,m=0;m<f.length;m++){var w=f[m].r-g;y=Math.max(y,w)}g=0,f.forEach((function(t,n){0===n&&(g=t.r),t.r=g,g+=y}))}f.forEach((function(n){var r=n.dTheta,e=n.r;n.forEach((function(n,i){var a=t.startAngle+(t.clockwise?1:-1)*r*i;n.x=o[0]+e*Math.cos(a),n.y=o[1]+e*Math.sin(a)}))}))}},n}(c),z=r(73),D=r.n(z),F=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.rankdir=\"TB\",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{rankdir:\"TB\",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},n.prototype.execute=function(){var t=this,n=t.nodes,r=t.nodeSize,e=t.rankdir;if(n){var o,i=t.edges||[],a=new D.a.graphlib.Graph;o=r?j()(r)?function(){return r}:function(){return[r,r]}:function(t){return t.size?j()(t.size)?t.size:[t.size,t.size]:[40,40]};var u,s=L(t.nodesepFunc,t.nodesep,50),c=L(t.ranksepFunc,t.ranksep,50);\"LR\"!==e&&\"RL\"!==e||(s=L(t.ranksepFunc,t.ranksep,50),c=L(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),n.forEach((function(t){var n=o(t),r=c(t),e=s(t),i=n[0]+2*e,u=n[1]+2*r;a.setNode(t.id,{width:i,height:u})})),i.forEach((function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})})),D.a.layout(a),a.nodes().forEach((function(t){u=a.node(t);var r=n.findIndex((function(n){return n.id===t}));n[r].x=u.x,n[r].y=u.y})),a.edges().forEach((function(n){u=a.edge(n);var r=i.findIndex((function(t){return t.source===n.v&&t.target===n.w}));t.controlPoints&&\"loop\"!==i[r].type&&\"loop\"!==i[r].shape&&(i[r].controlPoints=u.points.slice(1,u.points.length-1))})),t.sortByCombo&&t.sortLevel(\"comboId\")}},n.prototype.sortLevel=function(t){var n=this.nodes,r={};n.forEach((function(t){r[t.y]||(r[t.y]={y:t.y,nodes:[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(n){var e=r[n].nodes,o=e.length,i={};if(e.forEach((function(t){var n=t.comboId;i[n]||(i[n]={x:0,y:0,count:0}),i[n].x+=t.x,i[n].y+=t.y,i[n].count++})),Object.keys(i).forEach((function(t){i[t].x/=i[t].count,i[t].y/=i[t].count})),1!==o){var a=e.sort((function(t,n){return t.x-n.x})),u=a[0].x,s=(a[o-1].x-u)/(o-1);e.sort((function(n,r){var e=n[t]||\"undefined\",o=r[t]||\"undefined\";return e<o?-1:e>o?1:0})).forEach((function(t,n){t.x=u+n*s}))}}))},n}(c);function L(t,n,r){return t||(E(n)?function(){return n}:function(){return r})}function q(t,n,r,e){if(isNaN(n)||isNaN(r))return t;var o,i,a,u,s,c,f,h,l,d=t._root,p={data:e},v=t._x0,y=t._y0,g=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(i=(v+g)/2))?v=i:g=i,(f=r>=(a=(y+m)/2))?y=a:m=a,o=d,!(d=d[h=f<<1|c]))return o[h]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&r===s)return p.next=d,o?o[h]=p:t._root=p,t;do{o=o?o[h]=new Array(4):t._root=new Array(4),(c=n>=(i=(v+g)/2))?v=i:g=i,(f=r>=(a=(y+m)/2))?y=a:m=a}while((h=f<<1|c)==(l=(s>=a)<<1|u>=i));return o[l]=d,o[h]=p,t}var B=function(t,n,r,e,o){this.node=t,this.x0=n,this.y0=r,this.x1=e,this.y1=o};function V(t){return t[0]}function Y(t){return t[1]}function U(t,n,r){var e=new G(null==n?V:n,null==r?Y:r,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function G(t,n,r,e,o,i){this._x=t,this._y=n,this._x0=r,this._y0=e,this._x1=o,this._y1=i,this._root=void 0}function W(t){for(var n={data:t.data},r=n;t=t.next;)r=r.next={data:t.data};return n}var X=U.prototype=G.prototype;X.copy=function(){var t,n,r=new G(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return r;if(!e.length)return r._root=W(e),r;for(t=[{source:e,target:r._root=new Array(4)}];e=t.pop();)for(var o=0;o<4;++o)(n=e.source[o])&&(n.length?t.push({source:n,target:e.target[o]=new Array(4)}):e.target[o]=W(n));return r},X.add=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return q(this.cover(n,r),n,r,t)},X.addAll=function(t){var n,r,e,o,i=t.length,a=new Array(i),u=new Array(i),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(e=+this._x.call(null,n=t[r]))||isNaN(o=+this._y.call(null,n))||(a[r]=e,u[r]=o,e<s&&(s=e),e>f&&(f=e),o<c&&(c=o),o>h&&(h=o));if(s>f||c>h)return this;for(this.cover(s,c).cover(f,h),r=0;r<i;++r)q(this,a[r],u[r],t[r]);return this},X.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,e=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(e=Math.floor(n))+1;else{for(var a,u,s=o-r||1,c=this._root;r>t||t>=o||e>n||n>=i;)switch(u=(n<e)<<1|t<r,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:o=r+s,i=e+s;break;case 1:r=o-s,i=e+s;break;case 2:o=r+s,e=i-s;break;case 3:r=o-s,e=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=e,this._x1=o,this._y1=i,this},X.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},X.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},X.find=function(t,n,r){var e,o,i,a,u,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new B(v,f,h,l,d)),null==r?r=1/0:(f=t-r,h=n-r,l=t+r,d=n+r,r*=r);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>l||(i=s.y0)>d||(a=s.x1)<f||(u=s.y1)<h))if(v.length){var y=(o+a)/2,g=(i+u)/2;p.push(new B(v[3],y,g,a,u),new B(v[2],o,g,y,u),new B(v[1],y,i,a,g),new B(v[0],o,i,y,g)),(c=(n>=g)<<1|t>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,v.data),w=n-+this._y.call(null,v.data),b=m*m+w*w;if(b<r){var x=Math.sqrt(r=b);f=t-x,h=n-x,l=t+x,d=n+x,e=v.data}}return e},X.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,r,e,o,i,a,u,s,c,f,h,l,d=this._root,p=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(p+y)/2))?p=u:y=u,(f=a>=(s=(v+g)/2))?v=s:g=s,n=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(r=n,l=h)}for(;d.data!==t;)if(e=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,e?(o?e.next=o:delete e.next,this):n?(o?n[h]=o:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=o,this)},X.removeAll=function(t){for(var n=0,r=t.length;n<r;++n)this.remove(t[n]);return this},X.root=function(){return this._root},X.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},X.visit=function(t){var n,r,e,o,i,a,u=[],s=this._root;for(s&&u.push(new B(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,e=n.x0,o=n.y0,i=n.x1,a=n.y1)&&s.length){var c=(e+i)/2,f=(o+a)/2;(r=s[3])&&u.push(new B(r,c,f,i,a)),(r=s[2])&&u.push(new B(r,e,f,c,a)),(r=s[1])&&u.push(new B(r,c,o,i,f)),(r=s[0])&&u.push(new B(r,e,o,c,f))}return this},X.visitAfter=function(t){var n,r=[],e=[];for(this._root&&r.push(new B(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var o=n.node;if(o.length){var i,a=n.x0,u=n.y0,s=n.x1,c=n.y1,f=(a+s)/2,h=(u+c)/2;(i=o[0])&&r.push(new B(i,a,u,f,h)),(i=o[1])&&r.push(new B(i,f,u,s,h)),(i=o[2])&&r.push(new B(i,a,h,f,c)),(i=o[3])&&r.push(new B(i,f,h,s,c))}e.push(n)}for(;n=e.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},X.x=function(t){return arguments.length?(this._x=t,this):this._x},X.y=function(t){return arguments.length?(this._y=t,this):this._y};var $=function(t){return function(){return t}},H=function(t){return 1e-6*(t()-.5)},J={value:function(){}};function Q(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+\"\")||t in e||/[\\\\s.]/.test(t))throw new Error(\"illegal type: \"+t);e[t]=[]}return new K(e)}function K(t){this._=t}function Z(t,n){return t.trim().split(/^|\\\\s+/).map((function(t){var r=\"\",e=t.indexOf(\".\");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:r}}))}function tt(t,n){for(var r,e=0,o=t.length;e<o;++e)if((r=t[e]).name===n)return r.value}function nt(t,n,r){for(var e=0,o=t.length;e<o;++e)if(t[e].name===n){t[e]=J,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}K.prototype=Q.prototype={constructor:K,on:function(t,n){var r,e=this._,o=Z(t+\"\",e),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&\"function\"!=typeof n)throw new Error(\"invalid callback: \"+n);for(;++i<a;)if(r=(t=o[i]).type)e[r]=nt(e[r],t.name,n);else if(null==n)for(r in e)e[r]=nt(e[r],t.name,null);return this}for(;++i<a;)if((r=(t=o[i]).type)&&(r=tt(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new K(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(i=0,r=(e=this._[t]).length;i<r;++i)e[i].value.apply(n,o)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var e=this._[t],o=0,i=e.length;o<i;++o)e[o].value.apply(n,r)}};var rt=Q;function et(t){return(et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var ot,it,at=0,ut=0,st=0,ct=0,ft=0,ht=0,lt=\"object\"===(\"undefined\"==typeof performance?\"undefined\":et(performance))&&performance.now?performance:Date,dt=\"object\"===(\"undefined\"==typeof window?\"undefined\":et(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pt(){return ft||(dt(vt),ft=lt.now()+ht)}function vt(){ft=0}function yt(){this._call=this._time=this._next=null}function gt(t,n,r){var e=new yt;return e.restart(t,n,r),e}function mt(){ft=(ct=lt.now())+ht,at=ut=0;try{!function(){pt(),++at;for(var t,n=ot;n;)(t=ft-n._time)>=0&&n._call.call(null,t),n=n._next;--at}()}finally{at=0,function(){var t,n,r=ot,e=1/0;for(;r;)r._call?(e>r._time&&(e=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:ot=n);it=t,bt(e)}(),ft=0}}function wt(){var t=lt.now(),n=t-ct;n>1e3&&(ht-=n,ct=t)}function bt(t){at||(ut&&(ut=clearTimeout(ut)),t-ft>24?(t<1/0&&(ut=setTimeout(mt,t-lt.now()-ht)),st&&(st=clearInterval(st))):(st||(ct=lt.now(),st=setInterval(wt,1e3)),at=1,dt(mt)))}yt.prototype=gt.prototype={constructor:yt,restart:function(t,n,r){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");r=(null==r?pt():+r)+(null==n?0:+n),this._next||it===this||(it?it._next=this:ot=this,it=this),this._call=t,this._time=r,bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,bt())}};function xt(t){return t.x}function Mt(t){return t.y}var Et=Math.PI*(3-Math.sqrt(5));function _t(t){return(_t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function St(t){return t.index}function kt(t,n){var r=t.get(n);if(!r)throw new Error(\"node not found: \"+n);return r}function jt(t){return t.x+t.vx}function Ot(t){return t.y+t.vy}var Nt=r(32),At=r.n(Nt),It=r(19),Rt=r.n(It),Pt=\"LAYOUT_RUN\",Ct=\"LAYOUT_END\",Tt=\"LAYOUT_ERROR\",zt=\"LAYOUT_TICK\",Dt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.onTick=function(){},n.ticking=void 0,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},n.prototype.init=function(t){this.nodes=t.nodes||[];var n=t.edges||[];this.edges=n.map((function(t){var n={},r=[\"targetNode\",\"sourceNode\",\"startPoint\",\"endPoint\"];return Object.keys(t).forEach((function(e){r.indexOf(e)>-1||(n[e]=t[e])})),n})),this.ticking=!1},n.prototype.execute=function(t){var n=this,r=n.nodes,e=n.edges;if(!n.ticking){var o=n.forceSimulation,i=n.alphaMin,a=n.alphaDecay,u=n.alpha;if(o)t&&(o.nodes(r),n.edgeForce.links(e)),n.preventOverlap&&n.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var s=function(){var t,n,r,e,o,i=$(-30),a=1,u=1/0,s=.81;function c(r){var o,i=t.length,a=U(t,xt,Mt).visitAfter(h);for(e=r,o=0;o<i;++o)n=t[o],a.visit(l)}function f(){if(t){var n,r,e=t.length;for(o=new Array(e),n=0;n<e;++n)r=t[n],o[r.index]=+i(r,n,t)}}function h(t){var n,r,e,i,a,u=0,s=0;if(t.length){for(e=i=a=0;a<4;++a)(n=t[a])&&(r=Math.abs(n.value))&&(u+=n.value,s+=r,e+=r*n.x,i+=r*n.y);t.x=e/s,t.y=i/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=o[n.data.index]}while(n=n.next)}t.value=u}function l(t,i,c,f){if(!t.value)return!0;var h=t.x-n.x,l=t.y-n.y,d=f-i,p=h*h+l*l;if(d*d/s<p)return p<u&&(0===h&&(p+=(h=H(r))*h),0===l&&(p+=(l=H(r))*l),p<a&&(p=Math.sqrt(a*p)),n.vx+=h*t.value*e/p,n.vy+=l*t.value*e/p),!0;if(!(t.length||p>=u)){(t.data!==n||t.next)&&(0===h&&(p+=(h=H(r))*h),0===l&&(p+=(l=H(r))*l),p<a&&(p=Math.sqrt(a*p)));do{t.data!==n&&(d=o[t.data.index]*e/p,n.vx+=h*d,n.vy+=l*d)}while(t=t.next)}}return c.initialize=function(n,e){t=n,r=e,f()},c.strength=function(t){return arguments.length?(i=\"function\"==typeof t?t:$(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c}();if(n.nodeStrength&&s.strength(n.nodeStrength),o=function(t){var n,r,e=1,o=.001,i=1-Math.pow(o,1/300),a=0,u=.6,s=new Map,c=gt(l),f=rt(\"tick\",\"end\"),h=(r=1,function(){return(r=(1664525*r+1013904223)%4294967296)/4294967296});function l(){d(),f.call(\"tick\",n),e<o&&(c.stop(),f.call(\"end\",n))}function d(r){var o,c,f=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(a-e)*i,s.forEach((function(t){t(e)})),o=0;o<f;++o)null==(c=t[o]).fx?c.x+=c.vx*=u:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=u:(c.y=c.fy,c.vy=0);return n}function p(){for(var n,r=0,e=t.length;r<e;++r){if((n=t[r]).index=r,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var o=10*Math.sqrt(.5+r),i=r*Et;n.x=o*Math.cos(i),n.y=o*Math.sin(i)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function v(n){return n.initialize&&n.initialize(t,h),n}return null==t&&(t=[]),p(),n={tick:d,restart:function(){return c.restart(l),n},stop:function(){return c.stop(),n},nodes:function(r){return arguments.length?(t=r,p(),s.forEach(v),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(o=+t,n):o},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},randomSource:function(t){return arguments.length?(h=t,s.forEach(v),n):h},force:function(t,r){return arguments.length>1?(null==r?s.delete(t):s.set(t,v(r)),n):s.get(t)},find:function(n,r,e){var o,i,a,u,s,c=0,f=t.length;for(null==e?e=1/0:e*=e,c=0;c<f;++c)(a=(o=n-(u=t[c]).x)*o+(i=r-u.y)*i)<e&&(s=u,e=a);return s},on:function(t,r){return arguments.length>1?(f.on(t,r),n):f.on(t)}}}().nodes(r).force(\"center\",function(t,n){var r,e=1;function o(){var o,i,a=r.length,u=0,s=0;for(o=0;o<a;++o)u+=(i=r[o]).x,s+=i.y;for(u=(u/a-t)*e,s=(s/a-n)*e,o=0;o<a;++o)(i=r[o]).x-=u,i.y-=s}return null==t&&(t=0),null==n&&(n=0),o.initialize=function(t){r=t},o.x=function(n){return arguments.length?(t=+n,o):t},o.y=function(t){return arguments.length?(n=+t,o):n},o.strength=function(t){return arguments.length?(e=+t,o):e},o}(n.center[0],n.center[1])).force(\"charge\",s).alpha(u).alphaDecay(a).alphaMin(i),n.preventOverlap&&n.overlapProcess(o),e){var c=function(t){var n,r,e,o,i,a,u=St,s=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=$(30),f=1;function h(e){for(var o=0,u=t.length;o<f;++o)for(var s,c,h,l,d,p,v,y=0;y<u;++y)c=(s=t[y]).source,l=(h=s.target).x+h.vx-c.x-c.vx||H(a),d=h.y+h.vy-c.y-c.vy||H(a),l*=p=((p=Math.sqrt(l*l+d*d))-r[y])/p*e*n[y],d*=p,h.vx-=l*(v=i[y]),h.vy-=d*v,c.vx+=l*(v=1-v),c.vy+=d*v}function l(){if(e){var a,s,c=e.length,f=t.length,h=new Map(e.map((function(t,n){return[u(t,n,e),t]})));for(a=0,o=new Array(c);a<f;++a)(s=t[a]).index=a,\"object\"!==_t(s.source)&&(s.source=kt(h,s.source)),\"object\"!==_t(s.target)&&(s.target=kt(h,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(f);a<f;++a)s=t[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);n=new Array(f),d(),r=new Array(f),p()}}function d(){if(e)for(var r=0,o=t.length;r<o;++r)n[r]=+s(t[r],r,t)}function p(){if(e)for(var n=0,o=t.length;n<o;++n)r[n]=+c(t[n],n,t)}return null==t&&(t=[]),h.initialize=function(t,n){e=t,a=n,l()},h.links=function(n){return arguments.length?(t=n,l(),h):t},h.id=function(t){return arguments.length?(u=t,h):u},h.iterations=function(t){return arguments.length?(f=+t,h):f},h.strength=function(t){return arguments.length?(s=\"function\"==typeof t?t:$(+t),d(),h):s},h.distance=function(t){return arguments.length?(c=\"function\"==typeof t?t:$(+t),p(),h):c},h}().id((function(t){return t.id})).links(e);n.edgeStrength&&c.strength(n.edgeStrength),n.linkDistance&&c.distance(n.linkDistance),n.edgeForce=c,o.force(\"link\",c)}if(n.workerEnabled&&!Ft()&&(n.workerEnabled=!1,console.warn(\"workerEnabled option is only supported when running in web worker.\")),n.workerEnabled){o.stop();for(var f=function(t){var n=t.alphaMin(),r=t.alphaTarget(),e=t.alpha(),o=Math.log((n-r)/(e-r))/Math.log(1-t.alphaDecay());return Math.ceil(o)}(o),h=1;h<=f;h++)o.tick(),postMessage({type:zt,currentTick:h,totalTicks:f,nodes:r},void 0);n.ticking=!1}else o.on(\"tick\",(function(){n.tick()})).on(\"end\",(function(){n.ticking=!1,n.onLayoutEnd&&n.onLayoutEnd()})),n.ticking=!0;n.forceSimulation=o,n.ticking=!0}catch(t){n.ticking=!1,console.warn(t)}}},n.prototype.overlapProcess=function(t){var n,r,e=this.nodeSize,o=this.nodeSpacing,i=this.collideStrength;if(r=Rt()(o)?function(){return o}:At()(o)?o:function(){return 0},e)if(At()(e))n=function(t){return e(t)+r(t)};else if(j()(e)){var a=(e[0]>e[1]?e[0]:e[1])/2;n=function(t){return a+r(t)}}else if(Rt()(e)){var u=e/2;n=function(t){return u+r(t)}}else n=function(){return 10};else n=function(t){return t.size?j()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+r(t):t.size/2+r(t):10+r(t)};t.force(\"collisionForce\",function(t){var n,r,e,o=1,i=1;function a(){for(var t,a,s,c,f,h,l,d=n.length,p=0;p<i;++p)for(a=U(n,jt,Ot).visitAfter(u),t=0;t<d;++t)s=n[t],h=r[s.index],l=h*h,c=s.x+s.vx,f=s.y+s.vy,a.visit(v);function v(t,n,r,i,a){var u=t.data,d=t.r,p=h+d;if(!u)return n>c+p||i<c-p||r>f+p||a<f-p;if(u.index>s.index){var v=c-u.x-u.vx,y=f-u.y-u.vy,g=v*v+y*y;g<p*p&&(0===v&&(g+=(v=H(e))*v),0===y&&(g+=(y=H(e))*y),g=(p-(g=Math.sqrt(g)))/g*o,s.vx+=(v*=g)*(p=(d*=d)/(l+d)),s.vy+=(y*=g)*p,u.vx-=v*(p=1-p),u.vy-=y*p)}}}function u(t){if(t.data)return t.r=r[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function s(){if(n){var e,o,i=n.length;for(r=new Array(i),e=0;e<i;++e)o=n[e],r[o.index]=+t(o,e,n)}}return\"function\"!=typeof t&&(t=$(null==t?1:+t)),a.initialize=function(t,r){n=t,e=r,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(n){return arguments.length?(t=\"function\"==typeof n?n:$(+n),s(),a):t},a}(n).strength(i))},n.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,s()(this,t)},n.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},n}(c);function Ft(){return\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}var Lt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.maxIteration=500,n.gravity=10,n.clustering=!1,n.clusterGravity=10,n.linkDistance=50,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.linkStrength=1,n.nodeStrength=30,n.preventOverlap=!1,n.collideStrength=1,n.optimizeRangeFactor=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.nodeIdxMap={},n}return a(n,t),n.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},n.prototype.execute=function(){var t=this.nodes,n=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],void(t[0].y=n[1]);var r={},e={};t.forEach((function(t,n){r[t.id]=t,e[t.id]=n})),this.nodeMap=r,this.nodeIdxMap=e,this.run()}},n.prototype.run=function(){var t=this,n=t.nodes,r=t.edges,e=t.maxIteration;t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var o,i=t.center,a=t.velocityDecay,u=t.clustering;t.initVals(),u&&(o=t.getClusterMap());for(var s=function(e){var i=[];n.forEach((function(t,n){i[n]={x:0,y:0}})),t.applyCalculate(n,r,i),u&&t.applyClusterForce(o,i),n.forEach((function(t,n){E(t.x)&&E(t.y)&&(t.x+=i[n].x*a,t.y+=i[n].y*a)})),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,f=0;f<e;f++)s();var h=[0,0];n.forEach((function(t){E(t.x)&&E(t.y)&&(h[0]+=t.x,h[1]+=t.y)})),h[0]/=n.length,h[1]/=n.length;var l=[i[0]-h[0],i[1]-h[1]];n.forEach((function(t,n){E(t.x)&&E(t.y)&&(t.x+=l[0],t.y+=l[1])}))},n.prototype.initVals=function(){for(var t=this.edges,n={},r=0;r<t.length;++r)n[t[r].source]?n[t[r].source]++:n[t[r].source]=1,n[t[r].target]?n[t[r].target]++:n[t[r].target]=1;var e=[];for(r=0;r<t.length;++r)e[r]=n[t[r].source]/(n[t[r].source]+n[t[r].target]);this.bias=e;var o,i,a=this.nodeSize,u=this.nodeSpacing;if(i=E(u)?function(){return u}:y(u)?u:function(){return 0},a)if(y(a))o=function(t){return a(t)+i(t)};else if(g(a)){var s=(a[0]>a[1]?a[0]:a[1])/2;o=function(t){return s+i(t)}}else if(E(a)){var c=a/2;o=function(t){return c+i(t)}}else o=function(){return 10};else o=function(t){return t.size?g(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+i(t):t.size/2+i(t):10+i(t)};this.nodeSize=o;var f,h=this.linkDistance;h||(h=50),E(h)&&(f=function(t){return h}),this.linkDistance=f;var l,d=this.linkStrength;d||(d=1),E(d)&&(l=function(t){return d}),this.linkStrength=l;var p,v=this.nodeStrength;v||(v=30),E(v)&&(p=function(t){return v}),this.nodeStrength=p},n.prototype.getClusterMap=function(){var t=this.nodes,n={};for(var r in t.forEach((function(t){if(void 0===n[t.cluster]){var r={name:t.cluster,cx:0,cy:0,count:0};n[t.cluster]=r}var e=n[t.cluster];E(t.x)&&(e.cx+=t.x),E(t.y)&&(e.cy+=t.y),e.count++})),n)n[r].cx/=n[r].count,n[r].cy/=n[r].count;return n},n.prototype.applyClusterForce=function(t,n){var r=this.gravity,e=this.nodes,o=this.clusterGravity||r,i=this.alpha;for(var a in e.forEach((function(r,e){if(E(r.x)&&E(r.y)){var a=t[r.cluster],u=r.x-a.cx,s=r.y-a.cy,c=Math.sqrt(u*u+s*s);n[e].x-=u*o*i/c,n[e].y-=s*o*i/c}})),t)t[a].cx=0,t[a].cy=0,t[a].count=0;for(var a in e.forEach((function(n){var r=t[n.cluster];E(n.x)&&(r.cx+=n.x),E(n.y)&&(r.cy+=n.y),r.count++})),t)t[a].cx/=t[a].count,t[a].cy/=t[a].count},n.prototype.applyCalculate=function(t,n,r){var e={};t.forEach((function(n,o){r[o]={x:0,y:0},t.forEach((function(t,r){if(!(o<r)){var i=n.x-t.x,a=n.y-t.y,u=i*i+a*a;u<1&&(u=Math.sqrt(u)),0===i&&(u+=(i=.01*Math.random())*i),0===a&&(u+=(a=.01*Math.random())*a);var s=Math.sqrt(u);e[n.id+\"-\"+t.id]={vx:i,vy:a,vl:u,sqrtVl:s},e[t.id+\"-\"+n.id]={vx:-i,vy:-a,vl:u,sqrtVl:s}}}))})),this.calRepulsive(t,r,e),this.calAttractive(n,r,e)},n.prototype.calRepulsive=function(t,n,r){var e=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,i=this.alpha,a=this.collideStrength,u=this.preventOverlap,s=this.nodeSize;t.forEach((function(c,f){t.forEach((function(t,h){if(f!==h&&E(c.x)&&E(t.x)&&E(c.y)&&E(t.y)){var l=r[c.id+\"-\"+t.id],d=l.vl,p=l.vx,v=l.vy;if(!(d>e)&&(n[f].x+=p*o(t)*i/d,n[f].y+=v*o(t)*i/d,u&&f<h)){var y=s(c),g=s(t),m=y+g;if(d<m*m){var w=r[c.id+\"-\"+t.id].sqrtVl,b=(m-w)/w*a,x=g*g/(y*y+g*g),M=p*b,_=v*b;n[f].x+=M*x,n[f].y+=_*x,x=1-x,n[h].x-=M*x,n[h].y-=_*x}}}}))}))},n.prototype.calAttractive=function(t,n,r){var e=this,o=this.linkDistance,i=this.alpha,a=this.linkStrength,u=this.bias;t.forEach((function(t,s){if(t.source&&t.target){var c=e.nodeIdxMap[t.source],f=e.nodeIdxMap[t.target];if(c!==f){var h=e.nodeMap[t.source],l=e.nodeMap[t.target];if(E(l.x)&&E(h.x)&&E(l.y)&&E(h.y)){var d=r[t.target+\"-\"+t.source],p=(d.vl,d.sqrtVl),v=d.vx,y=d.vy,g=(p-o(t))/p*i*a(t),m=v*g,w=y*g,b=u[s];n[f].x-=m*b,n[f].y-=w*b,n[c].x+=m*(1-b),n[c].y+=w*(1-b)}}}}))},n}(c),qt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n}return a(n,t),n.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},n.prototype.execute=function(){var t=this,n=this.nodes,r=this.center;if(n&&0!==n.length){if(1===n.length)return n[0].x=r[0],void(n[0].y=r[1]);var e={},o={};n.forEach((function(n,r){E(n.x)||(n.x=Math.random()*t.width),E(n.y)||(n.y=Math.random()*t.height),e[n.id]=n,o[n.id]=r})),this.nodeMap=e,this.nodeIdxMap=o,this.run()}},n.prototype.run=function(){var t=this,n=t.nodes,r=t.edges,e=t.maxIteration;t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var o=t.center,i=t.width/10,a=Math.sqrt(t.width*t.height/(n.length+1)),u=t.gravity,s=t.speed,c=t.clustering,f={};if(c)for(var h in n.forEach((function(t){if(void 0===f[t.cluster]){var n={name:t.cluster,cx:0,cy:0,count:0};f[t.cluster]=n}var r=f[t.cluster];E(t.x)&&(r.cx+=t.x),E(t.y)&&(r.cy+=t.y),r.count++})),f)f[h].cx/=f[h].count,f[h].cy/=f[h].count;for(var l=function(e){var h=[];if(n.forEach((function(t,n){h[n]={x:0,y:0}})),t.applyCalculate(n,r,h,a),c){var l=t.clusterGravity||u;for(var d in n.forEach((function(t,n){if(E(t.x)&&E(t.y)){var r=f[t.cluster],e=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),o=a*l;h[n].x-=o*(t.x-r.cx)/e,h[n].y-=o*(t.y-r.cy)/e}})),f)f[d].cx=0,f[d].cy=0,f[d].count=0;for(var d in n.forEach((function(t){var n=f[t.cluster];E(t.x)&&(n.cx+=t.x),E(t.y)&&(n.cy+=t.y),n.count++})),f)f[d].cx/=f[d].count,f[d].cy/=f[d].count}n.forEach((function(t,n){if(E(t.x)&&E(t.y)){var r=.01*a*u;h[n].x-=r*(t.x-o[0]),h[n].y-=r*(t.y-o[1])}})),n.forEach((function(t,n){if(E(t.x)&&E(t.y)){var r=Math.sqrt(h[n].x*h[n].x+h[n].y*h[n].y);if(r>0){var e=Math.min(i*(s/800),r);t.x+=h[n].x/r*e,t.y+=h[n].y/r*e}}}))},d=0;d<e;d++)l()},n.prototype.applyCalculate=function(t,n,r,e){this.calRepulsive(t,r,e),this.calAttractive(n,r,e)},n.prototype.calRepulsive=function(t,n,r){t.forEach((function(e,o){n[o]={x:0,y:0},t.forEach((function(t,i){if(o!==i&&E(e.x)&&E(t.x)&&E(e.y)&&E(t.y)){var a=e.x-t.x,u=e.y-t.y,s=a*a+u*u;if(0===s){s=1;var c=o>i?1:-1;a=.01*c,u=.01*c}var f=r*r/s;n[o].x+=a*f,n[o].y+=u*f}}))}))},n.prototype.calAttractive=function(t,n,r){var e=this;t.forEach((function(t){if(t.source&&t.target){var o=e.nodeIdxMap[t.source],i=e.nodeIdxMap[t.target];if(o!==i){var a=e.nodeMap[t.source],u=e.nodeMap[t.target];if(E(u.x)&&E(a.x)&&E(u.y)&&E(a.y)){var s=u.x-a.x,c=u.y-a.y,f=Math.sqrt(s*s+c*c),h=f*f/r;n[i].x-=s/f*h,n[i].y-=c/f*h,n[o].x+=s/f*h,n[o].y+=c/f*h}}}}))},n}(c),Bt=(r(53),r(128)),Vt=(function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.item=r.item,e.canvasX=r.canvasX,e.canvasY=r.canvasY,e.wheelDelta=r.wheelDelta,e.detail=r.detail,e}a(n,t)}(r.n(Bt).a),function(t){return Number.isNaN(Number(t))}),Yt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy=\"degree\",n.nodeSize=30,n.nodes=[],n.edges=[],n.center=[0,0],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n}return a(n,t),n.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:\"degree\",nodeSize:30}},n.prototype.execute=function(){var t=this,n=t.nodes,r=n.length,e=t.center;if(0!==r){if(1===r)return n[0].x=e[0],void(n[0].y=e[1]);var o=t.edges,i=[];n.forEach((function(t){i.push(t)}));var a={};if(i.forEach((function(t,n){a[t.id]=n})),(\"degree\"===t.sortBy||!C()(t.sortBy)||void 0===i[0][t.sortBy])&&(t.sortBy=\"degree\",Vt(n[0].degree))){var u=A(i.length,a,o);i.forEach((function(t,n){t.degree=u[n]}))}i.sort((function(n,r){return r[t.sortBy]-n[t.sortBy]})),t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var s=t.rows,c=null!=t.cols?t.cols:t.columns;if(t.cells=r,null!=s&&null!=c?(t.rows=s,t.cols=c):null!=s&&null==c?(t.rows=s,t.cols=Math.ceil(t.cells/t.rows)):null==s&&null!=c?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells)((h=t.small())-1)*(f=t.large())>=t.cells?t.small(h-1):(f-1)*h>=t.cells&&t.large(f-1);else for(;t.cols*t.rows<t.cells;){var f,h=t.small();((f=t.large())+1)*h>=t.cells?t.large(f+1):t.small(h+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&i.forEach((function(n){var r,e;n.x&&n.y||(n.x=0,n.y=0),g(n.size)?(r=n.size[0],e=n.size[1]):E(n.size)&&(r=n.size,e=n.size),void 0!==r&&void 0!==e||(g(t.nodeSize)?(r=t.nodeSize[0],e=t.nodeSize[1]):E(t.nodeSize)?(r=t.nodeSize,e=t.nodeSize):(r=30,e=30));var o=t.preventOverlapPadding,i=r+o,a=e+o;t.cellWidth=Math.max(t.cellWidth,i),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var l=0;l<i.length;l++){var d=i[l],p=void 0;if(t.position&&(p=t.position(d)),p&&(void 0!==p.row||void 0!==p.col)){var v={row:p.row,col:p.col};if(void 0===v.col)for(v.col=0;t.used(v.row,v.col);)v.col++;else if(void 0===v.row)for(v.row=0;t.used(v.row,v.col);)v.row++;t.id2manPos[d.id]=v,t.use(v.row,v.col)}t.getPos(d)}}},n.prototype.small=function(t){var n,r=this.rows||5,e=this.cols||5;null==t?n=Math.min(r,e):Math.min(r,e)===this.rows?this.rows=t:this.cols=t;return n},n.prototype.large=function(t){var n,r=this.rows||5,e=this.cols||5;null==t?n=Math.max(r,e):Math.max(r,e)===this.rows?this.rows=t:this.cols=t;return n},n.prototype.used=function(t,n){return this.cellUsed[\"c-\"+t+\"-\"+n]||!1},n.prototype.use=function(t,n){this.cellUsed[\"c-\"+t+\"-\"+n]=!0},n.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},n.prototype.getPos=function(t){var n,r,e=this.begin,o=this.cellWidth,i=this.cellHeight,a=this.id2manPos[t.id];if(a)n=a.col*o+o/2+e[0],r=a.row*i+i/2+e[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();n=this.col*o+o/2+e[0],r=this.row*i+i/2+e[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=n,t.y=r},n}(c),Ut=r(20),Gt=r.n(Ut);var Wt=function(t){if(!Gt()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");for(var n=t[0],r=1;r<t.length;r++)t[r]>n&&(n=t[r]);return n};var Xt=function(t){if(!Gt()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");for(var n=t[0],r=1;r<t.length;r++)t[r]<n&&(n=t[r]);return n};var $t=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Gt()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");if(void 0!==r.output){if(!Gt()(r.output))throw new TypeError(\"output option must be an array if specified\");n=r.output}else n=new Array(t.length);var e=Xt(t),o=Wt(t);if(e===o)throw new RangeError(\"minimum and maximum input values are equal. Cannot rescale a constant array\");var i=r.min,a=void 0===i?r.autoMinMax?e:0:i,u=r.max,s=void 0===u?r.autoMinMax?o:1:u;if(a>=s)throw new RangeError(\"min option must be smaller than max option\");for(var c=(s-a)/(o-e),f=0;f<t.length;f++)n[f]=(t[f]-e)*c+a;return n},Ht=\" \".repeat(2),Jt=\" \".repeat(4);function Qt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.maxRows,e=void 0===r?15:r,o=n.maxColumns,i=void 0===o?10:o,a=n.maxNumSize,u=void 0===a?8:a;return\"\".concat(t.constructor.name,\" {\\\\n\").concat(Ht,\"[\\\\n\").concat(Jt).concat(Kt(t,e,i,u),\"\\\\n\").concat(Ht,\"]\\\\n\").concat(Ht,\"rows: \").concat(t.rows,\"\\\\n\").concat(Ht,\"columns: \").concat(t.columns,\"\\\\n}\")}function Kt(t,n,r,e){for(var o=t.rows,i=t.columns,a=Math.min(o,n),u=Math.min(i,r),s=[],c=0;c<a;c++){for(var f=[],h=0;h<u;h++)f.push(Zt(t.get(c,h),e));s.push(\"\".concat(f.join(\" \")))}return u!==i&&(s[s.length-1]+=\" ... \".concat(i-r,\" more columns\")),a!==o&&s.push(\"... \".concat(o-n,\" more rows\")),s.join(\"\\\\n\".concat(Jt))}function Zt(t,n){var r=String(t);if(r.length<=n)return r.padEnd(n,\" \");var e=t.toPrecision(n-2);if(e.length<=n)return e;var o=t.toExponential(n-2),i=o.indexOf(\"e\"),a=o.slice(i);return o.slice(0,n-a.length)+a}function tn(t){return(tn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function nn(t,n,r){var e=r?t.rows:t.rows-1;if(n<0||n>e)throw new RangeError(\"Row index out of range\")}function rn(t,n,r){var e=r?t.columns:t.columns-1;if(n<0||n>e)throw new RangeError(\"Column index out of range\")}function en(t,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==t.columns)throw new RangeError(\"vector size must be the same as the number of columns\");return n}function on(t,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==t.rows)throw new RangeError(\"vector size must be the same as the number of rows\");return n}function an(t,n){if(\"object\"!==tn(n))throw new TypeError(\"unexpected type for row indices\");if(n.some((function(n){return n<0||n>=t.rows})))throw new RangeError(\"row indices are out of range\");return Array.isArray(n)||(n=Array.from(n)),n}function un(t,n){if(\"object\"!==tn(n))throw new TypeError(\"unexpected type for column indices\");if(n.some((function(n){return n<0||n>=t.columns})))throw new RangeError(\"column indices are out of range\");return Array.isArray(n)||(n=Array.from(n)),n}function sn(t,n,r,e,o){if(5!==arguments.length)throw new RangeError(\"expected 4 arguments\");if(fn(\"startRow\",n),fn(\"endRow\",r),fn(\"startColumn\",e),fn(\"endColumn\",o),n>r||e>o||n<0||n>=t.rows||r<0||r>=t.rows||e<0||e>=t.columns||o<0||o>=t.columns)throw new RangeError(\"Submatrix indices are out of range\")}function cn(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],e=0;e<t;e++)r.push(n);return r}function fn(t,n){if(\"number\"!=typeof n)throw new TypeError(\"\".concat(t,\" must be a number\"))}function hn(t,n,r){for(var e=t.rows,o=t.columns,i=[],a=0;a<e;a++){for(var u=0,s=0,c=0,f=0;f<o;f++)u+=c=t.get(a,f)-r[a],s+=c*c;n?i.push((s-u*u/o)/(o-1)):i.push((s-u*u/o)/o)}return i}function ln(t,n,r){for(var e=t.rows,o=t.columns,i=[],a=0;a<o;a++){for(var u=0,s=0,c=0,f=0;f<e;f++)u+=c=t.get(f,a)-r[a],s+=c*c;n?i.push((s-u*u/e)/(e-1)):i.push((s-u*u/e)/e)}return i}function dn(t,n,r){for(var e=t.rows,o=t.columns,i=e*o,a=0,u=0,s=0,c=0;c<e;c++)for(var f=0;f<o;f++)a+=s=t.get(c,f)-r,u+=s*s;return n?(u-a*a/i)/(i-1):(u-a*a/i)/i}function pn(t,n){for(var r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)t.set(r,e,t.get(r,e)-n[r])}function vn(t,n){for(var r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)t.set(r,e,t.get(r,e)-n[e])}function yn(t,n){for(var r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)t.set(r,e,t.get(r,e)-n)}function gn(t){for(var n=[],r=0;r<t.rows;r++){for(var e=0,o=0;o<t.columns;o++)e+=Math.pow(t.get(r,o),2)/(t.columns-1);n.push(Math.sqrt(e))}return n}function mn(t,n){for(var r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)t.set(r,e,t.get(r,e)/n[r])}function wn(t){for(var n=[],r=0;r<t.columns;r++){for(var e=0,o=0;o<t.rows;o++)e+=Math.pow(t.get(o,r),2)/(t.rows-1);n.push(Math.sqrt(e))}return n}function bn(t,n){for(var r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)t.set(r,e,t.get(r,e)/n[e])}function xn(t){for(var n=t.size-1,r=0,e=0;e<t.columns;e++)for(var o=0;o<t.rows;o++)r+=Math.pow(t.get(o,e),2)/n;return Math.sqrt(r)}function Mn(t,n){for(var r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)t.set(r,e,t.get(r,e)/n)}function En(t,n){return(En=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _n(t){var n=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,e=jn(t);if(n){var o=jn(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Sn(this,r)}}function Sn(t,n){return!n||\"object\"!==On(n)&&\"function\"!=typeof n?kn(t):n}function kn(t){if(void 0===t)throw new ReferenceError(\"this hasn\\'t been initialised - super() hasn\\'t been called\");return t}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function On(t){return(On=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Nn(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function An(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function In(t,n,r){return n&&An(t.prototype,n),r&&An(t,r),t}var Rn=function(){function t(){Nn(this,t)}return In(t,[{key:\"apply\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(\"callback must be a function\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t.call(this,n,r);return this}},{key:\"to1DArray\",value:function(){for(var t=[],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t.push(this.get(n,r));return t}},{key:\"to2DArray\",value:function(){for(var t=[],n=0;n<this.rows;n++){t.push([]);for(var r=0;r<this.columns;r++)t[n].push(this.get(n,r))}return t}},{key:\"toJSON\",value:function(){return this.to2DArray()}},{key:\"isRowVector\",value:function(){return 1===this.rows}},{key:\"isColumnVector\",value:function(){return 1===this.columns}},{key:\"isVector\",value:function(){return 1===this.rows||1===this.columns}},{key:\"isSquare\",value:function(){return this.rows===this.columns}},{key:\"isSymmetric\",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var n=0;n<=t;n++)if(this.get(t,n)!==this.get(n,t))return!1;return!0}return!1}},{key:\"isEchelonForm\",value:function(){for(var t=0,n=0,r=-1,e=!0,o=!1;t<this.rows&&e;){for(n=0,o=!1;n<this.columns&&!1===o;)0===this.get(t,n)?n++:1===this.get(t,n)&&n>r?(o=!0,r=n):(e=!1,o=!0);t++}return e}},{key:\"isReducedEchelonForm\",value:function(){for(var t=0,n=0,r=-1,e=!0,o=!1;t<this.rows&&e;){for(n=0,o=!1;n<this.columns&&!1===o;)0===this.get(t,n)?n++:1===this.get(t,n)&&n>r?(o=!0,r=n):(e=!1,o=!0);for(var i=n+1;i<this.rows;i++)0!==this.get(t,i)&&(e=!1);t++}return e}},{key:\"echelonForm\",value:function(){for(var t=this.clone(),n=0,r=0;n<t.rows&&r<t.columns;){for(var e=n,o=n;o<t.rows;o++)t.get(o,r)>t.get(e,r)&&(e=o);if(0===t.get(e,r))r++;else{t.swapRows(n,e);for(var i=t.get(n,r),a=r;a<t.columns;a++)t.set(n,a,t.get(n,a)/i);for(var u=n+1;u<t.rows;u++){var s=t.get(u,r)/t.get(n,r);t.set(u,r,0);for(var c=r+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(n,c)*s)}n++,r++}}return t}},{key:\"reducedEchelonForm\",value:function(){for(var t=this.echelonForm(),n=t.columns,r=t.rows,e=r-1;e>=0;)if(0===t.maxRow(e))e--;else{for(var o=0,i=!1;o<r&&!1===i;)1===t.get(e,o)?i=!0:o++;for(var a=0;a<e;a++)for(var u=t.get(a,o),s=o;s<n;s++){var c=t.get(a,s)-u*t.get(e,s);t.set(a,s,c)}e--}return t}},{key:\"set\",value:function(){throw new Error(\"set method is unimplemented\")}},{key:\"get\",value:function(){throw new Error(\"get method is unimplemented\")}},{key:\"repeat\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(\"object\"!==On(t))throw new TypeError(\"options must be an object\");var n=t.rows,r=void 0===n?1:n,e=t.columns,o=void 0===e?1:e;if(!Number.isInteger(r)||r<=0)throw new TypeError(\"rows must be a positive integer\");if(!Number.isInteger(o)||o<=0)throw new TypeError(\"columns must be a positive integer\");for(var i=new zn(this.rows*r,this.columns*o),a=0;a<r;a++)for(var u=0;u<o;u++)i.setSubMatrix(this,this.rows*a,this.columns*u);return i}},{key:\"fill\",value:function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,t);return this}},{key:\"neg\",value:function(){return this.mulS(-1)}},{key:\"getRow\",value:function(t){nn(this,t);for(var n=[],r=0;r<this.columns;r++)n.push(this.get(t,r));return n}},{key:\"getRowVector\",value:function(t){return zn.rowVector(this.getRow(t))}},{key:\"setRow\",value:function(t,n){nn(this,t),n=en(this,n);for(var r=0;r<this.columns;r++)this.set(t,r,n[r]);return this}},{key:\"swapRows\",value:function(t,n){nn(this,t),nn(this,n);for(var r=0;r<this.columns;r++){var e=this.get(t,r);this.set(t,r,this.get(n,r)),this.set(n,r,e)}return this}},{key:\"getColumn\",value:function(t){rn(this,t);for(var n=[],r=0;r<this.rows;r++)n.push(this.get(r,t));return n}},{key:\"getColumnVector\",value:function(t){return zn.columnVector(this.getColumn(t))}},{key:\"setColumn\",value:function(t,n){rn(this,t),n=on(this,n);for(var r=0;r<this.rows;r++)this.set(r,t,n[r]);return this}},{key:\"swapColumns\",value:function(t,n){rn(this,t),rn(this,n);for(var r=0;r<this.rows;r++){var e=this.get(r,t);this.set(r,t,this.get(r,n)),this.set(r,n,e)}return this}},{key:\"addRowVector\",value:function(t){t=en(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[r]);return this}},{key:\"subRowVector\",value:function(t){t=en(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[r]);return this}},{key:\"mulRowVector\",value:function(t){t=en(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[r]);return this}},{key:\"divRowVector\",value:function(t){t=en(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[r]);return this}},{key:\"addColumnVector\",value:function(t){t=on(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[n]);return this}},{key:\"subColumnVector\",value:function(t){t=on(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[n]);return this}},{key:\"mulColumnVector\",value:function(t){t=on(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[n]);return this}},{key:\"divColumnVector\",value:function(t){t=on(this,t);for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[n]);return this}},{key:\"mulRow\",value:function(t,n){nn(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*n);return this}},{key:\"mulColumn\",value:function(t,n){rn(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*n);return this}},{key:\"max\",value:function(){for(var t=this.get(0,0),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r));return t}},{key:\"maxIndex\",value:function(){for(var t=this.get(0,0),n=[0,0],r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r,n[1]=e);return n}},{key:\"min\",value:function(){for(var t=this.get(0,0),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r));return t}},{key:\"minIndex\",value:function(){for(var t=this.get(0,0),n=[0,0],r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r,n[1]=e);return n}},{key:\"maxRow\",value:function(t){nn(this,t);for(var n=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>n&&(n=this.get(t,r));return n}},{key:\"maxRowIndex\",value:function(t){nn(this,t);for(var n=this.get(t,0),r=[t,0],e=1;e<this.columns;e++)this.get(t,e)>n&&(n=this.get(t,e),r[1]=e);return r}},{key:\"minRow\",value:function(t){nn(this,t);for(var n=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<n&&(n=this.get(t,r));return n}},{key:\"minRowIndex\",value:function(t){nn(this,t);for(var n=this.get(t,0),r=[t,0],e=1;e<this.columns;e++)this.get(t,e)<n&&(n=this.get(t,e),r[1]=e);return r}},{key:\"maxColumn\",value:function(t){rn(this,t);for(var n=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>n&&(n=this.get(r,t));return n}},{key:\"maxColumnIndex\",value:function(t){rn(this,t);for(var n=this.get(0,t),r=[0,t],e=1;e<this.rows;e++)this.get(e,t)>n&&(n=this.get(e,t),r[0]=e);return r}},{key:\"minColumn\",value:function(t){rn(this,t);for(var n=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<n&&(n=this.get(r,t));return n}},{key:\"minColumnIndex\",value:function(t){rn(this,t);for(var n=this.get(0,t),r=[0,t],e=1;e<this.rows;e++)this.get(e,t)<n&&(n=this.get(e,t),r[0]=e);return r}},{key:\"diag\",value:function(){for(var t=Math.min(this.rows,this.columns),n=[],r=0;r<t;r++)n.push(this.get(r,r));return n}},{key:\"norm\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"frobenius\",n=0;if(\"max\"===t)return this.max();if(\"frobenius\"===t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)n+=this.get(r,e)*this.get(r,e);return Math.sqrt(n)}throw new RangeError(\"unknown norm type: \".concat(t))}},{key:\"cumulativeSum\",value:function(){for(var t=0,n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r),this.set(n,r,t);return this}},{key:\"dot\",value:function(n){t.isMatrix(n)&&(n=n.to1DArray());var r=this.to1DArray();if(r.length!==n.length)throw new RangeError(\"vectors do not have the same size\");for(var e=0,o=0;o<r.length;o++)e+=r[o]*n[o];return e}},{key:\"mmul\",value:function(t){t=zn.checkMatrix(t);for(var n=this.rows,r=this.columns,e=t.columns,o=new zn(n,e),i=new Float64Array(r),a=0;a<e;a++){for(var u=0;u<r;u++)i[u]=t.get(u,a);for(var s=0;s<n;s++){for(var c=0,f=0;f<r;f++)c+=this.get(s,f)*i[f];o.set(s,a,c)}}return o}},{key:\"strassen2x2\",value:function(t){t=zn.checkMatrix(t);var n=new zn(2,2),r=this.get(0,0),e=t.get(0,0),o=this.get(0,1),i=t.get(0,1),a=this.get(1,0),u=t.get(1,0),s=this.get(1,1),c=t.get(1,1),f=(r+s)*(e+c),h=(a+s)*e,l=r*(i-c),d=s*(u-e),p=(r+o)*c,v=f+d-p+(o-s)*(u+c),y=l+p,g=h+d,m=f-h+l+(a-r)*(e+i);return n.set(0,0,v),n.set(0,1,y),n.set(1,0,g),n.set(1,1,m),n}},{key:\"strassen3x3\",value:function(t){t=zn.checkMatrix(t);var n=new zn(3,3),r=this.get(0,0),e=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),f=this.get(2,2),h=t.get(0,0),l=t.get(0,1),d=t.get(0,2),p=t.get(1,0),v=t.get(1,1),y=t.get(1,2),g=t.get(2,0),m=t.get(2,1),w=t.get(2,2),b=(r-i)*(-l+v),x=(-r+i+a)*(h-l+v),M=(i+a)*(-h+l),E=r*h,_=(-r+s+c)*(h-d+y),S=(-r+s)*(d-y),k=(s+c)*(-h+d),j=(-o+c+f)*(v+g-m),O=(o-f)*(v-m),N=o*g,A=(c+f)*(-g+m),I=(-o+a+u)*(y+g-w),R=(o-u)*(y-w),P=(a+u)*(-g+w),C=E+N+e*p,T=(r+e+o-i-a-c-f)*v+x+M+E+j+N+A,z=E+_+k+(r+e+o-a-u-s-c)*y+N+I+P,D=b+a*(-h+l+p-v-y-g+w)+x+E+N+I+R,F=b+x+M+E+u*m,L=N+I+R+P+i*d,q=E+_+S+c*(-h+d+p-v-y-g+m)+j+O+N,B=j+O+N+A+s*l,V=E+_+S+k+f*w;return n.set(0,0,C),n.set(0,1,T),n.set(0,2,z),n.set(1,0,D),n.set(1,1,F),n.set(1,2,L),n.set(2,0,q),n.set(2,1,B),n.set(2,2,V),n}},{key:\"mmulStrassen\",value:function(n){n=zn.checkMatrix(n);var r=this.clone(),e=r.rows,o=r.columns,i=n.rows,a=n.columns;function u(n,r,e){var o=n.rows,i=n.columns;if(o===r&&i===e)return n;var a=t.zeros(r,e);return a=a.setSubMatrix(n,0,0)}o!==i&&console.warn(\"Multiplying \".concat(e,\" x \").concat(o,\" and \").concat(i,\" x \").concat(a,\" matrix: dimensions do not match.\"));var s=Math.max(e,i),c=Math.max(o,a);return function n(r,e,o,i){if(o<=512||i<=512)return r.mmul(e);o%2==1&&i%2==1?(r=u(r,o+1,i+1),e=u(e,o+1,i+1)):o%2==1?(r=u(r,o+1,i),e=u(e,o+1,i)):i%2==1&&(r=u(r,o,i+1),e=u(e,o,i+1));var a=parseInt(r.rows/2,10),s=parseInt(r.columns/2,10),c=r.subMatrix(0,a-1,0,s-1),f=e.subMatrix(0,a-1,0,s-1),h=r.subMatrix(0,a-1,s,r.columns-1),l=e.subMatrix(0,a-1,s,e.columns-1),d=r.subMatrix(a,r.rows-1,0,s-1),p=e.subMatrix(a,e.rows-1,0,s-1),v=r.subMatrix(a,r.rows-1,s,r.columns-1),y=e.subMatrix(a,e.rows-1,s,e.columns-1),g=n(t.add(c,v),t.add(f,y),a,s),m=n(t.add(d,v),f,a,s),w=n(c,t.sub(l,y),a,s),b=n(v,t.sub(p,f),a,s),x=n(t.add(c,h),y,a,s),M=n(t.sub(d,c),t.add(f,l),a,s),E=n(t.sub(h,v),t.add(p,y),a,s),_=t.add(g,b);_.sub(x),_.add(E);var S=t.add(w,x),k=t.add(m,b),j=t.sub(g,m);j.add(w),j.add(M);var O=t.zeros(2*_.rows,2*_.columns);return(O=(O=(O=(O=O.setSubMatrix(_,0,0)).setSubMatrix(S,_.rows,0)).setSubMatrix(k,0,_.columns)).setSubMatrix(j,_.rows,_.columns)).subMatrix(0,o-1,0,i-1)}(r=u(r,s,c),n=u(n,s,c),s,c)}},{key:\"scaleRows\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(\"object\"!==On(t))throw new TypeError(\"options must be an object\");var n=t.min,r=void 0===n?0:n,e=t.max,o=void 0===e?1:e;if(!Number.isFinite(r))throw new TypeError(\"min must be a number\");if(!Number.isFinite(o))throw new TypeError(\"max must be a number\");if(r>=o)throw new RangeError(\"min must be smaller than max\");for(var i=new zn(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);$t(u,{min:r,max:o,output:u}),i.setRow(a,u)}return i}},{key:\"scaleColumns\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(\"object\"!==On(t))throw new TypeError(\"options must be an object\");var n=t.min,r=void 0===n?0:n,e=t.max,o=void 0===e?1:e;if(!Number.isFinite(r))throw new TypeError(\"min must be a number\");if(!Number.isFinite(o))throw new TypeError(\"max must be a number\");if(r>=o)throw new RangeError(\"min must be smaller than max\");for(var i=new zn(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);$t(u,{min:r,max:o,output:u}),i.setColumn(a,u)}return i}},{key:\"flipRows\",value:function(){for(var t=Math.ceil(this.columns/2),n=0;n<this.rows;n++)for(var r=0;r<t;r++){var e=this.get(n,r),o=this.get(n,this.columns-1-r);this.set(n,r,o),this.set(n,this.columns-1-r,e)}return this}},{key:\"flipColumns\",value:function(){for(var t=Math.ceil(this.rows/2),n=0;n<this.columns;n++)for(var r=0;r<t;r++){var e=this.get(r,n),o=this.get(this.rows-1-r,n);this.set(r,n,o),this.set(this.rows-1-r,n,e)}return this}},{key:\"kroneckerProduct\",value:function(t){t=zn.checkMatrix(t);for(var n=this.rows,r=this.columns,e=t.rows,o=t.columns,i=new zn(n*e,r*o),a=0;a<n;a++)for(var u=0;u<r;u++)for(var s=0;s<e;s++)for(var c=0;c<o;c++)i.set(e*a+s,o*u+c,this.get(a,u)*t.get(s,c));return i}},{key:\"transpose\",value:function(){for(var t=new zn(this.columns,this.rows),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t.set(r,n,this.get(n,r));return t}},{key:\"sortRows\",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(t));return this}},{key:\"sortColumns\",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(t));return this}},{key:\"subMatrix\",value:function(t,n,r,e){sn(this,t,n,r,e);for(var o=new zn(n-t+1,e-r+1),i=t;i<=n;i++)for(var a=r;a<=e;a++)o.set(i-t,a-r,this.get(i,a));return o}},{key:\"subMatrixRow\",value:function(t,n,r){if(void 0===n&&(n=0),void 0===r&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError(\"Argument out of range\");for(var e=new zn(t.length,r-n+1),o=0;o<t.length;o++)for(var i=n;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError(\"Row index out of range: \".concat(t[o]));e.set(o,i-n,this.get(t[o],i))}return e}},{key:\"subMatrixColumn\",value:function(t,n,r){if(void 0===n&&(n=0),void 0===r&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError(\"Argument out of range\");for(var e=new zn(r-n+1,t.length),o=0;o<t.length;o++)for(var i=n;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError(\"Column index out of range: \".concat(t[o]));e.set(i-n,o,this.get(i,t[o]))}return e}},{key:\"setSubMatrix\",value:function(t,n,r){sn(this,n,n+(t=zn.checkMatrix(t)).rows-1,r,r+t.columns-1);for(var e=0;e<t.rows;e++)for(var o=0;o<t.columns;o++)this.set(n+e,r+o,t.get(e,o));return this}},{key:\"selection\",value:function(t,n){for(var r=function(t,n,r){return{row:an(t,n),column:un(t,r)}}(this,t,n),e=new zn(t.length,n.length),o=0;o<r.row.length;o++)for(var i=r.row[o],a=0;a<r.column.length;a++){var u=r.column[a];e.set(o,a,this.get(i,u))}return e}},{key:\"trace\",value:function(){for(var t=Math.min(this.rows,this.columns),n=0,r=0;r<t;r++)n+=this.get(r,r);return n}},{key:\"clone\",value:function(){for(var t=new zn(this.rows,this.columns),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t.set(n,r,this.get(n,r));return t}},{key:\"sum\",value:function(t){switch(t){case\"row\":return function(t){for(var n=cn(t.rows),r=0;r<t.rows;++r)for(var e=0;e<t.columns;++e)n[r]+=t.get(r,e);return n}(this);case\"column\":return function(t){for(var n=cn(t.columns),r=0;r<t.rows;++r)for(var e=0;e<t.columns;++e)n[e]+=t.get(r,e);return n}(this);case void 0:return function(t){for(var n=0,r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)n+=t.get(r,e);return n}(this);default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"product\",value:function(t){switch(t){case\"row\":return function(t){for(var n=cn(t.rows,1),r=0;r<t.rows;++r)for(var e=0;e<t.columns;++e)n[r]*=t.get(r,e);return n}(this);case\"column\":return function(t){for(var n=cn(t.columns,1),r=0;r<t.rows;++r)for(var e=0;e<t.columns;++e)n[e]*=t.get(r,e);return n}(this);case void 0:return function(t){for(var n=1,r=0;r<t.rows;r++)for(var e=0;e<t.columns;e++)n*=t.get(r,e);return n}(this);default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"mean\",value:function(t){var n=this.sum(t);switch(t){case\"row\":for(var r=0;r<this.rows;r++)n[r]/=this.columns;return n;case\"column\":for(var e=0;e<this.columns;e++)n[e]/=this.rows;return n;case void 0:return n/this.size;default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"variance\",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"===On(t)&&(n=t,t=void 0),\"object\"!==On(n))throw new TypeError(\"options must be an object\");var r=n,e=r.unbiased,o=void 0===e||e,i=r.mean,a=void 0===i?this.mean(t):i;if(\"boolean\"!=typeof o)throw new TypeError(\"unbiased must be a boolean\");switch(t){case\"row\":if(!Array.isArray(a))throw new TypeError(\"mean must be an array\");return hn(this,o,a);case\"column\":if(!Array.isArray(a))throw new TypeError(\"mean must be an array\");return ln(this,o,a);case void 0:if(\"number\"!=typeof a)throw new TypeError(\"mean must be a number\");return dn(this,o,a);default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"standardDeviation\",value:function(t,n){\"object\"===On(t)&&(n=t,t=void 0);var r=this.variance(t,n);if(void 0===t)return Math.sqrt(r);for(var e=0;e<r.length;e++)r[e]=Math.sqrt(r[e]);return r}},{key:\"center\",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"===On(t)&&(n=t,t=void 0),\"object\"!==On(n))throw new TypeError(\"options must be an object\");var r=n,e=r.center,o=void 0===e?this.mean(t):e;switch(t){case\"row\":if(!Array.isArray(o))throw new TypeError(\"center must be an array\");return pn(this,o),this;case\"column\":if(!Array.isArray(o))throw new TypeError(\"center must be an array\");return vn(this,o),this;case void 0:if(\"number\"!=typeof o)throw new TypeError(\"center must be a number\");return yn(this,o),this;default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"scale\",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"===On(t)&&(n=t,t=void 0),\"object\"!==On(n))throw new TypeError(\"options must be an object\");var r=n.scale;switch(t){case\"row\":if(void 0===r)r=gn(this);else if(!Array.isArray(r))throw new TypeError(\"scale must be an array\");return mn(this,r),this;case\"column\":if(void 0===r)r=wn(this);else if(!Array.isArray(r))throw new TypeError(\"scale must be an array\");return bn(this,r),this;case void 0:if(void 0===r)r=xn(this);else if(\"number\"!=typeof r)throw new TypeError(\"scale must be a number\");return Mn(this,r),this;default:throw new Error(\"invalid option: \".concat(t))}}},{key:\"toString\",value:function(t){return Qt(this,t)}},{key:\"size\",get:function(){return this.rows*this.columns}}],[{key:\"from1DArray\",value:function(t,n,r){if(t*n!==r.length)throw new RangeError(\"data length does not match given dimensions\");for(var e=new zn(t,n),o=0;o<t;o++)for(var i=0;i<n;i++)e.set(o,i,r[o*n+i]);return e}},{key:\"rowVector\",value:function(t){for(var n=new zn(1,t.length),r=0;r<t.length;r++)n.set(0,r,t[r]);return n}},{key:\"columnVector\",value:function(t){for(var n=new zn(t.length,1),r=0;r<t.length;r++)n.set(r,0,t[r]);return n}},{key:\"zeros\",value:function(t,n){return new zn(t,n)}},{key:\"ones\",value:function(t,n){return new zn(t,n).fill(1)}},{key:\"rand\",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(\"object\"!==On(r))throw new TypeError(\"options must be an object\");for(var e=r.random,o=void 0===e?Math.random:e,i=new zn(t,n),a=0;a<t;a++)for(var u=0;u<n;u++)i.set(a,u,o());return i}},{key:\"randInt\",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(\"object\"!==On(r))throw new TypeError(\"options must be an object\");var e=r.min,o=void 0===e?0:e,i=r.max,a=void 0===i?1e3:i,u=r.random,s=void 0===u?Math.random:u;if(!Number.isInteger(o))throw new TypeError(\"min must be an integer\");if(!Number.isInteger(a))throw new TypeError(\"max must be an integer\");if(o>=a)throw new RangeError(\"min must be smaller than max\");for(var c=a-o,f=new zn(t,n),h=0;h<t;h++)for(var l=0;l<n;l++){var d=o+Math.round(s()*c);f.set(h,l,d)}return f}},{key:\"eye\",value:function(t,n,r){void 0===n&&(n=t),void 0===r&&(r=1);for(var e=Math.min(t,n),o=this.zeros(t,n),i=0;i<e;i++)o.set(i,i,r);return o}},{key:\"diag\",value:function(t,n,r){var e=t.length;void 0===n&&(n=e),void 0===r&&(r=n);for(var o=Math.min(e,n,r),i=this.zeros(n,r),a=0;a<o;a++)i.set(a,a,t[a]);return i}},{key:\"min\",value:function(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);for(var r=t.rows,e=t.columns,o=new zn(r,e),i=0;i<r;i++)for(var a=0;a<e;a++)o.set(i,a,Math.min(t.get(i,a),n.get(i,a)));return o}},{key:\"max\",value:function(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);for(var r=t.rows,e=t.columns,o=new this(r,e),i=0;i<r;i++)for(var a=0;a<e;a++)o.set(i,a,Math.max(t.get(i,a),n.get(i,a)));return o}},{key:\"checkMatrix\",value:function(n){return t.isMatrix(n)?n:new zn(n)}},{key:\"isMatrix\",value:function(t){return null!=t&&\"Matrix\"===t.klass}}]),t}();function Pn(t,n){return t-n}Rn.prototype.klass=\"Matrix\",\"undefined\"!=typeof Symbol&&(Rn.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=function(){return Qt(this)}),Rn.random=Rn.rand,Rn.randomInt=Rn.randInt,Rn.diagonal=Rn.diag,Rn.prototype.diagonal=Rn.prototype.diag,Rn.identity=Rn.eye,Rn.prototype.negate=Rn.prototype.neg,Rn.prototype.tensorProduct=Rn.prototype.kroneckerProduct;var Cn,Tn,zn=function(t){!function(t,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&En(t,n)}(r,t);var n=_n(r);function r(t,e){var o;if(Nn(this,r),o=n.call(this),r.isMatrix(t))return Sn(o,t.clone());if(Number.isInteger(t)&&t>0){if(o.data=[],!(Number.isInteger(e)&&e>0))throw new TypeError(\"nColumns must be a positive integer\");for(var i=0;i<t;i++)o.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError(\"First argument must be a positive number or an array\");var a=t;if(t=a.length,\"number\"!=typeof(e=a[0].length)||0===e)throw new TypeError(\"Data must be a 2D array with at least one element\");o.data=[];for(var u=0;u<t;u++){if(a[u].length!==e)throw new RangeError(\"Inconsistent array dimensions\");o.data.push(Float64Array.from(a[u]))}}return o.rows=t,o.columns=e,Sn(o,kn(o))}return In(r,[{key:\"set\",value:function(t,n,r){return this.data[t][n]=r,this}},{key:\"get\",value:function(t,n){return this.data[t][n]}},{key:\"removeRow\",value:function(t){if(nn(this,t),1===this.rows)throw new RangeError(\"A matrix cannot have less than one row\");return this.data.splice(t,1),this.rows-=1,this}},{key:\"addRow\",value:function(t,n){return void 0===n&&(n=t,t=this.rows),nn(this,t,!0),n=Float64Array.from(en(this,n)),this.data.splice(t,0,n),this.rows+=1,this}},{key:\"removeColumn\",value:function(t){if(rn(this,t),1===this.columns)throw new RangeError(\"A matrix cannot have less than one column\");for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns-1),e=0;e<t;e++)r[e]=this.data[n][e];for(var o=t+1;o<this.columns;o++)r[o-1]=this.data[n][o];this.data[n]=r}return this.columns-=1,this}},{key:\"addColumn\",value:function(t,n){void 0===n&&(n=t,t=this.columns),rn(this,t,!0),n=on(this,n);for(var r=0;r<this.rows;r++){for(var e=new Float64Array(this.columns+1),o=0;o<t;o++)e[o]=this.data[r][o];for(e[o++]=n[r];o<this.columns+1;o++)e[o]=this.data[r][o-1];this.data[r]=e}return this.columns+=1,this}}]),r}(Rn);function Dn(t){return(Dn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Fn(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ln(t,n){return(Ln=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function qn(t){var n=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,e=Vn(t);if(n){var o=Vn(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Bn(this,r)}}function Bn(t,n){return!n||\"object\"!==Dn(n)&&\"function\"!=typeof n?function(t){if(void 0===t)throw new ReferenceError(\"this hasn\\'t been initialised - super() hasn\\'t been called\");return t}(t):n}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Tn=zn,(Cn=Rn).prototype.add=function(t){return\"number\"==typeof t?this.addS(t):this.addM(t)},Cn.prototype.addS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t);return this},Cn.prototype.addM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t.get(n,r));return this},Cn.add=function(t,n){return new Tn(t).add(n)},Cn.prototype.sub=function(t){return\"number\"==typeof t?this.subS(t):this.subM(t)},Cn.prototype.subS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t);return this},Cn.prototype.subM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t.get(n,r));return this},Cn.sub=function(t,n){return new Tn(t).sub(n)},Cn.prototype.subtract=Cn.prototype.sub,Cn.prototype.subtractS=Cn.prototype.subS,Cn.prototype.subtractM=Cn.prototype.subM,Cn.subtract=Cn.sub,Cn.prototype.mul=function(t){return\"number\"==typeof t?this.mulS(t):this.mulM(t)},Cn.prototype.mulS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t);return this},Cn.prototype.mulM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t.get(n,r));return this},Cn.mul=function(t,n){return new Tn(t).mul(n)},Cn.prototype.multiply=Cn.prototype.mul,Cn.prototype.multiplyS=Cn.prototype.mulS,Cn.prototype.multiplyM=Cn.prototype.mulM,Cn.multiply=Cn.mul,Cn.prototype.div=function(t){return\"number\"==typeof t?this.divS(t):this.divM(t)},Cn.prototype.divS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t);return this},Cn.prototype.divM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t.get(n,r));return this},Cn.div=function(t,n){return new Tn(t).div(n)},Cn.prototype.divide=Cn.prototype.div,Cn.prototype.divideS=Cn.prototype.divS,Cn.prototype.divideM=Cn.prototype.divM,Cn.divide=Cn.div,Cn.prototype.mod=function(t){return\"number\"==typeof t?this.modS(t):this.modM(t)},Cn.prototype.modS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%t);return this},Cn.prototype.modM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%t.get(n,r));return this},Cn.mod=function(t,n){return new Tn(t).mod(n)},Cn.prototype.modulus=Cn.prototype.mod,Cn.prototype.modulusS=Cn.prototype.modS,Cn.prototype.modulusM=Cn.prototype.modM,Cn.modulus=Cn.mod,Cn.prototype.and=function(t){return\"number\"==typeof t?this.andS(t):this.andM(t)},Cn.prototype.andS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&t);return this},Cn.prototype.andM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&t.get(n,r));return this},Cn.and=function(t,n){return new Tn(t).and(n)},Cn.prototype.or=function(t){return\"number\"==typeof t?this.orS(t):this.orM(t)},Cn.prototype.orS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|t);return this},Cn.prototype.orM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|t.get(n,r));return this},Cn.or=function(t,n){return new Tn(t).or(n)},Cn.prototype.xor=function(t){return\"number\"==typeof t?this.xorS(t):this.xorM(t)},Cn.prototype.xorS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^t);return this},Cn.prototype.xorM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^t.get(n,r));return this},Cn.xor=function(t,n){return new Tn(t).xor(n)},Cn.prototype.leftShift=function(t){return\"number\"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},Cn.prototype.leftShiftS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<t);return this},Cn.prototype.leftShiftM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<t.get(n,r));return this},Cn.leftShift=function(t,n){return new Tn(t).leftShift(n)},Cn.prototype.signPropagatingRightShift=function(t){return\"number\"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},Cn.prototype.signPropagatingRightShiftS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>t);return this},Cn.prototype.signPropagatingRightShiftM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>t.get(n,r));return this},Cn.signPropagatingRightShift=function(t,n){return new Tn(t).signPropagatingRightShift(n)},Cn.prototype.rightShift=function(t){return\"number\"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},Cn.prototype.rightShiftS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>t);return this},Cn.prototype.rightShiftM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>t.get(n,r));return this},Cn.rightShift=function(t,n){return new Tn(t).rightShift(n)},Cn.prototype.zeroFillRightShift=Cn.prototype.rightShift,Cn.prototype.zeroFillRightShiftS=Cn.prototype.rightShiftS,Cn.prototype.zeroFillRightShiftM=Cn.prototype.rightShiftM,Cn.zeroFillRightShift=Cn.rightShift,Cn.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,~this.get(t,n));return this},Cn.not=function(t){return new Tn(t).not()},Cn.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.abs(this.get(t,n)));return this},Cn.abs=function(t){return new Tn(t).abs()},Cn.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.acos(this.get(t,n)));return this},Cn.acos=function(t){return new Tn(t).acos()},Cn.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.acosh(this.get(t,n)));return this},Cn.acosh=function(t){return new Tn(t).acosh()},Cn.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.asin(this.get(t,n)));return this},Cn.asin=function(t){return new Tn(t).asin()},Cn.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.asinh(this.get(t,n)));return this},Cn.asinh=function(t){return new Tn(t).asinh()},Cn.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.atan(this.get(t,n)));return this},Cn.atan=function(t){return new Tn(t).atan()},Cn.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.atanh(this.get(t,n)));return this},Cn.atanh=function(t){return new Tn(t).atanh()},Cn.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.cbrt(this.get(t,n)));return this},Cn.cbrt=function(t){return new Tn(t).cbrt()},Cn.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.ceil(this.get(t,n)));return this},Cn.ceil=function(t){return new Tn(t).ceil()},Cn.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.clz32(this.get(t,n)));return this},Cn.clz32=function(t){return new Tn(t).clz32()},Cn.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.cos(this.get(t,n)));return this},Cn.cos=function(t){return new Tn(t).cos()},Cn.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.cosh(this.get(t,n)));return this},Cn.cosh=function(t){return new Tn(t).cosh()},Cn.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.exp(this.get(t,n)));return this},Cn.exp=function(t){return new Tn(t).exp()},Cn.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.expm1(this.get(t,n)));return this},Cn.expm1=function(t){return new Tn(t).expm1()},Cn.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.floor(this.get(t,n)));return this},Cn.floor=function(t){return new Tn(t).floor()},Cn.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.fround(this.get(t,n)));return this},Cn.fround=function(t){return new Tn(t).fround()},Cn.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.log(this.get(t,n)));return this},Cn.log=function(t){return new Tn(t).log()},Cn.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.log1p(this.get(t,n)));return this},Cn.log1p=function(t){return new Tn(t).log1p()},Cn.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.log10(this.get(t,n)));return this},Cn.log10=function(t){return new Tn(t).log10()},Cn.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.log2(this.get(t,n)));return this},Cn.log2=function(t){return new Tn(t).log2()},Cn.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.round(this.get(t,n)));return this},Cn.round=function(t){return new Tn(t).round()},Cn.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.sign(this.get(t,n)));return this},Cn.sign=function(t){return new Tn(t).sign()},Cn.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.sin(this.get(t,n)));return this},Cn.sin=function(t){return new Tn(t).sin()},Cn.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.sinh(this.get(t,n)));return this},Cn.sinh=function(t){return new Tn(t).sinh()},Cn.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.sqrt(this.get(t,n)));return this},Cn.sqrt=function(t){return new Tn(t).sqrt()},Cn.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.tan(this.get(t,n)));return this},Cn.tan=function(t){return new Tn(t).tan()},Cn.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.tanh(this.get(t,n)));return this},Cn.tanh=function(t){return new Tn(t).tanh()},Cn.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.trunc(this.get(t,n)));return this},Cn.trunc=function(t){return new Tn(t).trunc()},Cn.pow=function(t,n){return new Tn(t).pow(n)},Cn.prototype.pow=function(t){return\"number\"==typeof t?this.powS(t):this.powM(t)},Cn.prototype.powS=function(t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),t));return this},Cn.prototype.powM=function(t){if(t=Tn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError(\"Matrices dimensions must be equal\");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),t.get(n,r)));return this};var Yn=function(t){!function(t,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Ln(t,n)}(i,t);var n,r,e,o=qn(i);function i(t){var n;return function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(n=o.call(this)).data=t,n.rows=t.length,n.columns=t[0].length,n}return n=i,(r=[{key:\"set\",value:function(t,n,r){return this.data[t][n]=r,this}},{key:\"get\",value:function(t,n){return this.data[t][n]}}])&&Fn(n.prototype,r),e&&Fn(n,e),i}(Rn);function Un(t,n){var r=0;return Math.abs(t)>Math.abs(n)?(r=n/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==n?(r=t/n,Math.abs(n)*Math.sqrt(1+r*r)):0}function Gn(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function Wn(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var Xn=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gn(this,t);var e,o=(n=Yn.checkMatrix(n)).rows,i=n.columns,a=r.computeLeftSingularVectors,u=void 0===a||a,s=r.computeRightSingularVectors,c=void 0===s||s,f=r.autoTranspose,h=void 0!==f&&f,l=Boolean(u),d=Boolean(c),p=!1;if(o<i)if(h){o=(e=n.transpose()).rows,i=e.columns,p=!0;var v=l;l=d,d=v}else e=n.clone(),console.warn(\"Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose\");else e=n.clone();for(var y=Math.min(o,i),g=Math.min(o+1,i),m=new Float64Array(g),w=new zn(o,y),b=new zn(i,i),x=new Float64Array(i),M=new Float64Array(o),E=new Float64Array(g),_=0;_<g;_++)E[_]=_;for(var S=Math.min(o-1,i),k=Math.max(0,Math.min(i-2,o)),j=Math.max(S,k),O=0;O<j;O++){if(O<S){m[O]=0;for(var N=O;N<o;N++)m[O]=Un(m[O],e.get(N,O));if(0!==m[O]){e.get(O,O)<0&&(m[O]=-m[O]);for(var A=O;A<o;A++)e.set(A,O,e.get(A,O)/m[O]);e.set(O,O,e.get(O,O)+1)}m[O]=-m[O]}for(var I=O+1;I<i;I++){if(O<S&&0!==m[O]){for(var R=0,P=O;P<o;P++)R+=e.get(P,O)*e.get(P,I);R=-R/e.get(O,O);for(var C=O;C<o;C++)e.set(C,I,e.get(C,I)+R*e.get(C,O))}x[I]=e.get(O,I)}if(l&&O<S)for(var T=O;T<o;T++)w.set(T,O,e.get(T,O));if(O<k){x[O]=0;for(var z=O+1;z<i;z++)x[O]=Un(x[O],x[z]);if(0!==x[O]){x[O+1]<0&&(x[O]=0-x[O]);for(var D=O+1;D<i;D++)x[D]/=x[O];x[O+1]+=1}if(x[O]=-x[O],O+1<o&&0!==x[O]){for(var F=O+1;F<o;F++)M[F]=0;for(var L=O+1;L<o;L++)for(var q=O+1;q<i;q++)M[L]+=x[q]*e.get(L,q);for(var B=O+1;B<i;B++)for(var V=-x[B]/x[O+1],Y=O+1;Y<o;Y++)e.set(Y,B,e.get(Y,B)+V*M[Y])}if(d)for(var U=O+1;U<i;U++)b.set(U,O,x[U])}}var G=Math.min(i,o+1);if(S<i&&(m[S]=e.get(S,S)),o<G&&(m[G-1]=0),k+1<G&&(x[k]=e.get(k,G-1)),x[G-1]=0,l){for(var W=S;W<y;W++){for(var X=0;X<o;X++)w.set(X,W,0);w.set(W,W,1)}for(var $=S-1;$>=0;$--)if(0!==m[$]){for(var H=$+1;H<y;H++){for(var J=0,Q=$;Q<o;Q++)J+=w.get(Q,$)*w.get(Q,H);J=-J/w.get($,$);for(var K=$;K<o;K++)w.set(K,H,w.get(K,H)+J*w.get(K,$))}for(var Z=$;Z<o;Z++)w.set(Z,$,-w.get(Z,$));w.set($,$,1+w.get($,$));for(var tt=0;tt<$-1;tt++)w.set(tt,$,0)}else{for(var nt=0;nt<o;nt++)w.set(nt,$,0);w.set($,$,1)}}if(d)for(var rt=i-1;rt>=0;rt--){if(rt<k&&0!==x[rt])for(var et=rt+1;et<i;et++){for(var ot=0,it=rt+1;it<i;it++)ot+=b.get(it,rt)*b.get(it,et);ot=-ot/b.get(rt+1,rt);for(var at=rt+1;at<i;at++)b.set(at,et,b.get(at,et)+ot*b.get(at,rt))}for(var ut=0;ut<i;ut++)b.set(ut,rt,0);b.set(rt,rt,1)}for(var st=G-1,ct=Number.EPSILON;G>0;){var ft=void 0,ht=void 0;for(ft=G-2;ft>=-1&&-1!==ft;ft--){var lt=Number.MIN_VALUE+ct*Math.abs(m[ft]+Math.abs(m[ft+1]));if(Math.abs(x[ft])<=lt||Number.isNaN(x[ft])){x[ft]=0;break}}if(ft===G-2)ht=4;else{var dt=void 0;for(dt=G-1;dt>=ft&&dt!==ft;dt--){var pt=(dt!==G?Math.abs(x[dt]):0)+(dt!==ft+1?Math.abs(x[dt-1]):0);if(Math.abs(m[dt])<=ct*pt){m[dt]=0;break}}dt===ft?ht=3:dt===G-1?ht=1:(ht=2,ft=dt)}switch(ft++,ht){case 1:var vt=x[G-2];x[G-2]=0;for(var yt=G-2;yt>=ft;yt--){var gt=Un(m[yt],vt),mt=m[yt]/gt,wt=vt/gt;if(m[yt]=gt,yt!==ft&&(vt=-wt*x[yt-1],x[yt-1]=mt*x[yt-1]),d)for(var bt=0;bt<i;bt++)gt=mt*b.get(bt,yt)+wt*b.get(bt,G-1),b.set(bt,G-1,-wt*b.get(bt,yt)+mt*b.get(bt,G-1)),b.set(bt,yt,gt)}break;case 2:var xt=x[ft-1];x[ft-1]=0;for(var Mt=ft;Mt<G;Mt++){var Et=Un(m[Mt],xt),_t=m[Mt]/Et,St=xt/Et;if(m[Mt]=Et,xt=-St*x[Mt],x[Mt]=_t*x[Mt],l)for(var kt=0;kt<o;kt++)Et=_t*w.get(kt,Mt)+St*w.get(kt,ft-1),w.set(kt,ft-1,-St*w.get(kt,Mt)+_t*w.get(kt,ft-1)),w.set(kt,Mt,Et)}break;case 3:var jt=Math.max(Math.abs(m[G-1]),Math.abs(m[G-2]),Math.abs(x[G-2]),Math.abs(m[ft]),Math.abs(x[ft])),Ot=m[G-1]/jt,Nt=m[G-2]/jt,At=x[G-2]/jt,It=m[ft]/jt,Rt=x[ft]/jt,Pt=((Nt+Ot)*(Nt-Ot)+At*At)/2,Ct=Ot*At*(Ot*At),Tt=0;0===Pt&&0===Ct||(Tt=Ct/(Pt+(Tt=Pt<0?0-Math.sqrt(Pt*Pt+Ct):Math.sqrt(Pt*Pt+Ct))));for(var zt=(It+Ot)*(It-Ot)+Tt,Dt=It*Rt,Ft=ft;Ft<G-1;Ft++){var Lt=Un(zt,Dt);0===Lt&&(Lt=Number.MIN_VALUE);var qt=zt/Lt,Bt=Dt/Lt;if(Ft!==ft&&(x[Ft-1]=Lt),zt=qt*m[Ft]+Bt*x[Ft],x[Ft]=qt*x[Ft]-Bt*m[Ft],Dt=Bt*m[Ft+1],m[Ft+1]=qt*m[Ft+1],d)for(var Vt=0;Vt<i;Vt++)Lt=qt*b.get(Vt,Ft)+Bt*b.get(Vt,Ft+1),b.set(Vt,Ft+1,-Bt*b.get(Vt,Ft)+qt*b.get(Vt,Ft+1)),b.set(Vt,Ft,Lt);if(0===(Lt=Un(zt,Dt))&&(Lt=Number.MIN_VALUE),qt=zt/Lt,Bt=Dt/Lt,m[Ft]=Lt,zt=qt*x[Ft]+Bt*m[Ft+1],m[Ft+1]=-Bt*x[Ft]+qt*m[Ft+1],Dt=Bt*x[Ft+1],x[Ft+1]=qt*x[Ft+1],l&&Ft<o-1)for(var Yt=0;Yt<o;Yt++)Lt=qt*w.get(Yt,Ft)+Bt*w.get(Yt,Ft+1),w.set(Yt,Ft+1,-Bt*w.get(Yt,Ft)+qt*w.get(Yt,Ft+1)),w.set(Yt,Ft,Lt)}x[G-2]=zt,1;break;case 4:if(m[ft]<=0&&(m[ft]=m[ft]<0?-m[ft]:0,d))for(var Ut=0;Ut<=st;Ut++)b.set(Ut,ft,-b.get(Ut,ft));for(;ft<st&&!(m[ft]>=m[ft+1]);){var Gt=m[ft];if(m[ft]=m[ft+1],m[ft+1]=Gt,d&&ft<i-1)for(var Wt=0;Wt<i;Wt++)Gt=b.get(Wt,ft+1),b.set(Wt,ft+1,b.get(Wt,ft)),b.set(Wt,ft,Gt);if(l&&ft<o-1)for(var Xt=0;Xt<o;Xt++)Gt=w.get(Xt,ft+1),w.set(Xt,ft+1,w.get(Xt,ft)),w.set(Xt,ft,Gt);ft++}0,G--}}if(p){var $t=b;b=w,w=$t}this.m=o,this.n=i,this.s=m,this.U=w,this.V=b}var n,r,e;return n=t,(r=[{key:\"solve\",value:function(t){for(var n=t,r=this.threshold,e=this.s.length,o=zn.zeros(e,e),i=0;i<e;i++)Math.abs(this.s[i])<=r?o.set(i,i,0):o.set(i,i,1/this.s[i]);for(var a=this.U,u=this.rightSingularVectors,s=u.mmul(o),c=u.rows,f=a.rows,h=zn.zeros(c,f),l=0;l<c;l++)for(var d=0;d<f;d++){for(var p=0,v=0;v<e;v++)p+=s.get(l,v)*a.get(d,v);h.set(l,d,p)}return h.mmul(n)}},{key:\"solveForDiagonal\",value:function(t){return this.solve(zn.diag(t))}},{key:\"inverse\",value:function(){for(var t=this.V,n=this.threshold,r=t.rows,e=t.columns,o=new zn(r,this.s.length),i=0;i<r;i++)for(var a=0;a<e;a++)Math.abs(this.s[a])>n&&o.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,s=u.rows,c=u.columns,f=new zn(r,s),h=0;h<r;h++)for(var l=0;l<s;l++){for(var d=0,p=0;p<c;p++)d+=o.get(h,p)*u.get(l,p);f.set(h,l,d)}return f}},{key:\"condition\",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:\"norm2\",get:function(){return this.s[0]}},{key:\"rank\",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s,e=0,o=r.length;e<o;e++)r[e]>t&&n++;return n}},{key:\"diagonal\",get:function(){return Array.from(this.s)}},{key:\"threshold\",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:\"leftSingularVectors\",get:function(){return this.U}},{key:\"rightSingularVectors\",get:function(){return this.V}},{key:\"diagonalMatrix\",get:function(){return zn.diag(this.s)}}])&&Wn(n.prototype,r),e&&Wn(n,e),t}(),$n=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.linkDistance=50,n.scaledDistances=null,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},n.prototype.execute=function(){var t=this.nodes,n=this.edges,r=void 0===n?[]:n,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var o=this.linkDistance,i=N({nodes:t,edges:r},!1),a=O(i);this.handleInfinity(a);var u,s,c=(u=o,s=[],a.forEach((function(t){var n=[];t.forEach((function(t){n.push(t*u)})),s.push(n)})),s);this.scaledDistances=c;var f=this.runMDS();this.positions=f,f.forEach((function(n,r){t[r].x=n[0]+e[0],t[r].y=n[1]+e[1]}))}},n.prototype.runMDS=function(){var t=this.scaledDistances,n=zn.mul(zn.pow(t,2),-.5),r=n.mean(\"row\"),e=n.mean(\"column\"),o=n.mean();n.add(o).subRowVector(r).subColumnVector(e);var i=new Xn(n),a=zn.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map((function(t){return zn.mul([t],[a]).toJSON()[0].splice(0,2)}))},n.prototype.handleInfinity=function(t){var n=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&n<t&&(n=t)}))})),t.forEach((function(r,e){r.forEach((function(r,o){r===1/0&&(t[e][o]=n)}))}))},n}(c),Hn=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,n=this.distances,r=this.linkDistance;try{var e=zn.mul(zn.pow(n,2),-.5),o=e.mean(\"row\"),i=e.mean(\"column\"),a=e.mean();e.add(a).subRowVector(o).subColumnVector(i);var u=new Xn(e),s=zn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(n){return zn.mul([n],[s]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],f=0;f<n.length;f++){var h=Math.random()*r,l=Math.random()*r;c.push([h,l])}return c}},t}(),Jn=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this.positions,n=[],r=this.iterations,e=this.width/10;this.maxDisplace=e,this.disp=n;for(var o=0;o<r;o++)t.forEach((function(t,r){n[r]={x:0,y:0}})),this.getRepulsion(),this.updatePositions();return t},t.prototype.getRepulsion=function(){var t=this,n=t.positions,r=t.nodes,e=t.disp,o=t.k,i=t.radii||[];n.forEach((function(a,u){e[u]={x:0,y:0},n.forEach((function(n,s){if(u!==s&&i[u]===i[s]){var c=a[0]-n[0],f=a[1]-n[1],h=Math.sqrt(c*c+f*f);if(0===h){h=1;var l=u>s?1:-1;c=.01*l,f=.01*l}if(h<t.nodeSizeFunc(r[u])/2+t.nodeSizeFunc(r[s])/2){var d=o*o/h;e[u].x+=c/h*d,e[u].y+=f/h*d}}}))}))},t.prototype.updatePositions=function(){var t=this.positions,n=this.disp,r=this.speed,e=this.strictRadial,o=this.focusID,i=this.maxDisplace||this.width/10;e&&n.forEach((function(n,r){var e=t[r][0]-t[o][0],i=t[r][1]-t[o][1],a=Math.sqrt(e*e+i*i),u=i/a,s=-e/a,c=Math.sqrt(n.x*n.x+n.y*n.y),f=Math.acos((u*n.x+s*n.y)/c);f>Math.PI/2&&(f-=Math.PI/2,u*=-1,s*=-1);var h=Math.cos(f)*c;n.x=u*h,n.y=s*h}));var a=this.radii;t.forEach((function(u,s){if(s!==o){var c=Math.sqrt(n[s].x*n[s].x+n[s].y*n[s].y);if(c>0&&s!==o){var f=Math.min(i*(r/800),c);if(u[0]+=n[s].x/c*f,u[1]+=n[s].y/c*f,e){var h=u[0]-t[o][0],l=u[1]-t[o][1],d=Math.sqrt(h*h+l*l);h=h/d*a[s],l=l/d*a[s],u[0]=t[o][0]+h,u[1]=t[o][1]+l}}}}))},t}();function Qn(t,n){return Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1]))}var Kn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},n.prototype.execute=function(){var t=this,n=t.nodes,r=t.edges||[],e=t.center;if(n&&0!==n.length){if(1===n.length)return n[0].x=e[0],void(n[0].y=e[1]);var o=t.linkDistance,i=null;if(C()(t.focusNode)){for(var a=!1,u=0;u<n.length;u++)n[u].id===t.focusNode&&(i=n[u],t.focusNode=i,a=!0,u=n.length);a||(i=null)}else i=t.focusNode;i||(i=n[0],t.focusNode=i);var s,c,f,h=(s=n,c=i.id,f=-1,s.forEach((function(t,n){t.id===c&&(f=n)})),f);t.focusIndex=h;var l=N({nodes:n,edges:r},!1),d=O(l),p=t.maxToFocus(d,h);t.handleInfinity(d,h,p+1),t.distances=d;var v=d[h];t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var y=t.width||500,g=t.height||500,m=y-e[0]>e[0]?e[0]:y-e[0],w=g-e[1]>e[1]?e[1]:g-e[1];0===m&&(m=y/2),0===w&&(w=g/2);var b=w>m?m:w,x=Math.max.apply(Math,v),M=[];v.forEach((function(n,r){t.unitRadius||(t.unitRadius=b/x),M[r]=n*t.unitRadius})),t.radii=M;var E=t.eIdealDisMatrix();t.eIdealDistances=E;var _=function(t){for(var n=t.length,r=t[0].length,e=[],o=0;o<n;o++){for(var i=[],a=0;a<r;a++)0!==t[o][a]?i.push(1/(t[o][a]*t[o][a])):i.push(0);e.push(i)}return e}(E);t.weights=_;var S=new Hn({distances:E,linkDistance:o}).layout();S.forEach((function(t){Vt(t[0])&&(t[0]=Math.random()*o),Vt(t[1])&&(t[1]=Math.random()*o)})),t.positions=S,S.forEach((function(t,r){n[r].x=t[0]+e[0],n[r].y=t[1]+e[1]})),S.forEach((function(t){t[0]-=S[h][0],t[1]-=S[h][1]})),t.run();var k=t.preventOverlap,A=t.nodeSize,I=t.strictRadial;if(k){var R,P=t.nodeSpacing;R=Rt()(P)?function(){return P}:At()(P)?P:function(){return 0};var T={nodeSizeFunc:A?j()(A)?function(t){return(A[0]>A[1]?A[0]:A[1])+R(t)}:function(t){return A+R(t)}:function(t){return t.size?j()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+R(t):t.size+R(t):10+R(t)},adjMatrix:l,positions:S,radii:M,height:g,width:y,strictRadial:I,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:S.length/4.5,nodes:n},z=new Jn(T);S=z.layout()}S.forEach((function(t,r){n[r].x=t[0]+e[0],n[r].y=t[1]+e[1]}))}},n.prototype.run=function(){for(var t=this.maxIteration,n=this.positions||[],r=this.weights||[],e=this.eIdealDistances||[],o=this.radii||[],i=0;i<=t;i++){var a=i/t;this.oneIteration(a,n,o,e,r)}},n.prototype.oneIteration=function(t,n,r,e,o){var i=1-t,a=this.focusIndex;n.forEach((function(u,s){var c=Qn(u,[0,0]),f=0===c?0:1/c;if(s!==a){var h=0,l=0,d=0;n.forEach((function(t,n){if(s!==n){var r=Qn(u,t),i=0===r?0:1/r,a=e[n][s];d+=o[s][n],h+=o[s][n]*(t[0]+a*(u[0]-t[0])*i),l+=o[s][n]*(t[1]+a*(u[1]-t[1])*i)}}));var p=0===r[s]?0:1/r[s];d*=i,d+=t*p*p,h*=i,h+=t*p*u[0]*f,u[0]=h/d,l*=i,l+=t*p*u[1]*f,u[1]=l/d}}))},n.prototype.eIdealDisMatrix=function(){var t=this,n=t.nodes;if(!n)return[];var r=t.distances,e=t.linkDistance,o=t.radii||[],i=t.unitRadius||50,a=[];return r&&r.forEach((function(r,u){var s=[];r.forEach((function(r,a){if(u===a)s.push(0);else if(o[u]===o[a])if(\"data\"===t.sortBy)s.push(r*(Math.abs(u-a)*t.sortStrength)/(o[u]/i));else if(t.sortBy){var c=n[u][t.sortBy]||0,f=n[a][t.sortBy]||0;C()(c)&&(c=c.charCodeAt(0)),C()(f)&&(f=f.charCodeAt(0)),s.push(r*(Math.abs(c-f)*t.sortStrength)/(o[u]/i))}else s.push(r*e/(o[u]/i));else{var h=(e+i)/2;s.push(r*h)}})),a.push(s)})),a},n.prototype.handleInfinity=function(t,n,r){for(var e=t.length,o=0;o<e;o++)if(t[n][o]===1/0){t[n][o]=r,t[o][n]=r;for(var i=0;i<e;i++)t[o][i]!==1/0&&t[n][i]===1/0&&(t[n][i]=r+t[o][i],t[i][n]=r+t[o][i])}for(o=0;o<e;o++)if(o!==n)for(i=0;i<e;i++)if(t[o][i]===1/0){var a=Math.abs(t[n][o]-t[n][i]);a=0===a?1:a,t[o][i]=a}},n.prototype.maxToFocus=function(t,n){for(var r=0,e=0;e<t[n].length;e++)t[n][e]!==1/0&&(r=t[n][e]>r?t[n][e]:r);return r},n}(c),Zn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.width=300,n.height=300,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},n.prototype.execute=function(){var t=this,n=t.nodes,r=t.center;t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight),n&&n.forEach((function(n){n.x=.9*(Math.random()-.5)*t.width+r[0],n.y=.9*(Math.random()-.5)*t.height+r[1]}))},n}(c),tr={version:\"3.7.3\",rootContainerClassName:\"root-container\",nodeContainerClassName:\"node-container\",edgeContainerClassName:\"edge-container\",comboContainerClassName:\"combo-container\",customGroupContainerClassName:\"custom-group-container\",delegateContainerClassName:\"delegate-container\",defaultShapeFillColor:\"#C6E5FF\",defaultShapeStrokeColor:\"#5B8FF9\",defaultLoopPosition:\"top\",nodeLabel:{style:{fill:\"#595959\",textAlign:\"center\",textBaseline:\"middle\"},offset:5},defaultNode:{type:\"circle\",style:{fill:\"#C6E5FF\",lineWidth:1,stroke:\"#5B8FF9\"},size:20,color:\"#5B8FF9\"},edgeLabel:{style:{fill:\"#595959\",textAlign:\"center\",textBaseline:\"middle\"}},defaultEdge:{type:\"line\",style:{stroke:\"#e2e2e2\"},size:1,color:\"#e2e2e2\"},comboLabel:{style:{fill:\"#595959\",textBaseline:\"middle\"},refY:10,refX:10},defaultCombo:{type:\"circle\",style:{fill:\"#F3F9FF\",lineWidth:1,stroke:\"#A3B1BF\",opacity:.8,r:5,width:20,height:10},size:[20,5],color:\"#A3B1BF\",padding:[25,20,15,20]},nodeStateStyle:{},delegateStyle:{fill:\"#F3F9FF\",fillOpacity:.5,stroke:\"#1890FF\",strokeOpacity:.9,lineDash:[5,5]}},nr=Math.PI,rr=Math.sin,er=Math.cos,or=(rr(nr/8),er(nr/8),function(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!or(t.children[r],n))return;return!1!==n(t)}),ir=function(t,n){\"function\"==typeof n&&or(t,n)},ar={circular:R,concentric:T,dagre:F,force:Dt,g6force:Lt,comboForce:function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.2,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=void 0,n.comboCollideStrength=void 0,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=.5,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.nodeIdxMap={},n.comboMap={},n.previousLayouted=!1,n}return a(n,t),n.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},n.prototype.execute=function(){var t=this.nodes,n=this.center;if(this.comboTree={id:\"comboTreeRoot\",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=n[0],void(t[0].y=n[1]);this.initVals(),this.run(),this.onLayoutEnd()}},n.prototype.run=function(){var t=this,n=t.nodes,r=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||\"undefined\"==typeof window||(t.width=window.innerWidth),t.height||\"undefined\"==typeof window||(t.height=window.innerHeight);var e=t.center,o=t.velocityDecay,i=t.comboMap;t.previousLayouted||t.initPos(i);for(var a=function(r){var e=[];n.forEach((function(t,n){e[n]={x:0,y:0}})),t.applyCalculate(e),t.applyComboCenterForce(e),n.forEach((function(t,n){E(t.x)&&E(t.y)&&(t.x+=e[n].x*o,t.y+=e[n].y*o)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<r;u++)a();var s=[0,0];n.forEach((function(t){E(t.x)&&E(t.y)&&(s[0]+=t.x,s[1]+=t.y)})),s[0]/=n.length,s[1]/=n.length;var c=[e[0]-s[0],e[1]-s[1]];n.forEach((function(t,n){E(t.x)&&E(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var n=i[t.id];n&&n.empty&&(t.x=n.cx||t.x,t.y=n.cy||t.y)})),t.previousLayouted=!0},n.prototype.initVals=function(){var t=this.edges,n=this.nodes,r=this.combos,e={},o={},i={};n.forEach((function(t,n){o[t.id]=t,i[t.id]=n})),this.nodeMap=o,this.nodeIdxMap=i;var a={};r.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var s=this.collideStrength;s&&(this.comboCollideStrength=s,this.nodeCollideStrength=s);for(var c=0;c<t.length;++c)e[t[c].source]?e[t[c].source]++:e[t[c].source]=1,e[t[c].target]?e[t[c].target]++:e[t[c].target]=1;var f=[];for(c=0;c<t.length;++c)f[c]=e[t[c].source]/(e[t[c].source]+e[t[c].target]);this.bias=f;var h,l,d=this.nodeSize,p=this.nodeSpacing;if(l=E(p)?function(){return p}:y(p)?p:function(){return 0},this.nodeSpacing=l,d)if(y(d))h=function(t){return d(t)};else if(g(d)){var v=(d[0]>d[1]?d[0]:d[1])/2;h=function(t){return v}}else{var m=d/2;h=function(t){return m}}else h=function(t){return t.size?g(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10};this.nodeSize=h;var w,b=this.comboSpacing;w=E(b)?function(){return b}:y(b)?b:function(){return 0},this.comboSpacing=w;var x,M=this.comboPadding;x=E(M)?function(){return M}:g(M)?function(){return Math.max.apply(null,M)}:y(M)?M:function(){return 0},this.comboPadding=x;var _,S=this.linkDistance;S||(S=10),_=E(S)?function(t){return S}:S,this.linkDistance=_;var k,j=this.edgeStrength;j||(j=1),k=E(j)?function(t){return j}:j,this.edgeStrength=k;var O,N=this.nodeStrength;N||(N=30),O=E(N)?function(t){return N}:N,this.nodeStrength=O},n.prototype.initPos=function(t){this.nodes.forEach((function(n,r){if(n.comboId){var e=t[n.comboId];n.x=e.cx+100/(r+1),n.y=e.cy+100/(r+1)}else n.x=100/(r+1),n.y=100/(r+1)}))},n.prototype.getComboMap=function(){var t=this,n=t.nodeMap,r=t.nodeIdxMap,e=t.comboTrees,o=t.oriComboMap,i={};return(e||[]).forEach((function(e){var a=[];ir(e,(function(e){if(\"node\"===e.itemType)return!0;if(!o[e.id])return!0;if(void 0===i[e.id]){var u={name:e.id,cx:0,cy:0,count:0,depth:t.oriComboMap[e.id].depth,children:[]};i[e.id]=u}var s=e.children;s&&s.forEach((function(t){if(!i[t.id]&&!n[t.id])return!0;a.push(t)}));var c=i[e.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var f=o[e.id],h=Object.keys(n).length,l=e.id+\"-visual-child-\"+h,d={id:l,x:f.x,y:f.y,depth:c.depth+1,itemType:\"node\"};t.nodes.push(d),n[l]=d,r[l]=h,c.cx=f.x,c.cy=f.y,a.push(d)}return a.forEach((function(t){if(c.count++,\"node\"!==t.itemType){var r=i[t.id];return E(r.cx)&&(c.cx+=r.cx),void(E(r.cy)&&(c.cy+=r.cy))}var e=n[t.id];e&&(E(e.x)&&(c.cx+=e.x),E(e.y)&&(c.cy+=e.y))})),c.cx/=c.count,c.cy/=c.count,c.children=a,!0}))})),i},n.prototype.applyComboCenterForce=function(t){var n=this.gravity,r=this.comboGravity||n,e=this.alpha,o=this.comboTrees,i=this.nodeIdxMap,a=this.nodeMap,u=this.comboMap;(o||[]).forEach((function(n){ir(n,(function(n){if(\"node\"===n.itemType)return!0;if(!u[n.id])return!0;var o=u[n.id],s=.5*(o.depth+1),c=o.cx,f=o.cy;return o.cx=0,o.cy=0,o.children.forEach((function(n){if(\"node\"!==n.itemType){var h=u[n.id];return h&&E(h.cx)&&(o.cx+=h.cx),void(h&&E(h.cy)&&(o.cy+=h.cy))}var l=a[n.id],d=l.x-c||.005,p=l.y-f||.005,v=Math.sqrt(d*d+p*p),y=i[l.id],g=r*e/v*s;t[y].x-=d*g,t[y].y-=p*g,E(l.x)&&(o.cx+=l.x),E(l.y)&&(o.cy+=l.y)})),o.cx/=o.count,o.cy/=o.count,!0}))}))},n.prototype.applyCalculate=function(t){var n=this.comboMap,r=this.nodes,e={};r.forEach((function(t,n){r.forEach((function(r,o){if(!(n<o)){var i=t.x-r.x||.005,a=t.y-r.y||.005,u=i*i+a*a,s=Math.sqrt(u);u<1&&(u=s),e[t.id+\"-\"+r.id]={vx:i,vy:a,vl2:u,vl:s},e[r.id+\"-\"+t.id]={vx:-i,vy:-a,vl2:u,vl:s}}}))})),this.updateComboSizes(n),this.calRepulsive(t,e),this.calAttractive(t,e),this.preventComboOverlap&&this.comboNonOverlapping(t,n)},n.prototype.updateComboSizes=function(t){var n=this,r=n.comboTrees,e=n.nodeMap,o=n.nodeSize,i=n.comboSpacing,a=n.comboPadding;(r||[]).forEach((function(r){var u=[];ir(r,(function(r){if(\"node\"===r.itemType)return!0;var s=t[r.id];if(s){var c=r.children;c&&c.forEach((function(n){(t[n.id]||e[n.id])&&u.push(n)})),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0,u.forEach((function(t){if(\"node\"!==t.itemType)return!0;var n=e[t.id];if(!n)return!0;var r=o(n),i=n.x-r,a=n.y-r,u=n.x+r,c=n.y+r;s.minX>i&&(s.minX=i),s.minY>a&&(s.minY=a),s.maxX<u&&(s.maxX=u),s.maxY<c&&(s.maxY=c)}));var f=n.oriComboMap[r.id].size||tr.defaultCombo.size;g(f)&&(f=f[0]);var h=Math.max(s.maxX-s.minX,s.maxY-s.minY,f);return s.r=h/2+i(s)/2+a(s),!0}}))}))},n.prototype.comboNonOverlapping=function(t,n){var r=this.comboTree,e=this.comboCollideStrength,o=this.nodeIdxMap,i=this.nodeMap;ir(r,(function(r){if(n[r.id]||i[r.id]||\"comboTreeRoot\"===r.id){var a=r.children;return a&&a.length>1&&a.forEach((function(r,u){if(\"node\"!==r.itemType){var s=n[r.id];s&&a.forEach((function(a,c){if(!(u<=c)&&\"node\"!==a.itemType){var f=n[a.id];if(f){var h=s.cx-f.cx||.005,l=s.cy-f.cy||.005,d=h*h+l*l,p=s.r,v=f.r,y=p+v,g=v*v,m=p*p;if(d<y*y){var w=r.children;if(!w||0===w.length)return;var b=a.children;if(!b||0===b.length)return;var x=Math.sqrt(d),M=(y-x)/x*e,E=h*M,_=l*M,S=g/(m+g),k=1-S;w.forEach((function(n){if(\"node\"===n.itemType&&i[n.id]){var r=o[n.id];b.forEach((function(n){if(\"node\"===n.itemType&&i[n.id]){var e=o[n.id];t[r].x+=E*S,t[r].y+=_*S,t[e].x-=E*k,t[e].y-=_*k}}))}}))}}}}))}})),!0}}))},n.prototype.calRepulsive=function(t,n){var r=this,e=r.nodes,o=r.width*r.optimizeRangeFactor,i=r.nodeStrength,a=r.alpha,u=r.nodeCollideStrength,s=r.preventNodeOverlap,c=r.nodeSize,f=r.nodeSpacing,h=r.depthRepulsiveForceScale,l=r.center;e.forEach((function(d,p){if(d.x&&d.y){if(l){var v=r.gravity,y=d.x-l[0]||.005,g=d.y-l[1]||.005,m=Math.sqrt(y*y+g*g);t[p].x-=y*v*a/m,t[p].y-=g*v*a/m}e.forEach((function(r,e){if(p!==e&&r.x&&r.y){var l=n[d.id+\"-\"+r.id],v=l.vl2,y=l.vl;if(!(y>o)){var g=n[d.id+\"-\"+r.id],m=g.vx,w=g.vy,b=Math.abs(r.depth-d.depth)+1||1;r.comboId!==d.comboId&&b++;var x=b?Math.pow(h,b):1,M=i(r)*a/v*x;if(t[p].x+=m*M,t[p].y+=w*M,p<e&&s){var E=c(d)+f(d),_=c(r)+f(r),S=E+_;if(v<S*S){var k=(S-y)/y*u,j=_*_,O=j/(E*E+j),N=m*k,A=w*k;t[p].x+=N*O,t[p].y+=A*O,O=1-O,t[e].x-=N*O,t[e].y-=A*O}}}}}))}}))},n.prototype.calAttractive=function(t,n){var r=this,e=r.edges,o=r.linkDistance,i=r.alpha,a=r.edgeStrength,u=r.bias,s=r.depthAttractiveForceScale;e.forEach((function(e,c){if(e.source&&e.target&&e.source!==e.target){var f=r.nodeIdxMap[e.source],h=r.nodeIdxMap[e.target],l=r.nodeMap[e.source],d=r.nodeMap[e.target],p=Math.abs(l.depth-d.depth);l.comboId===d.comboId&&(p/=2);var v=p?Math.pow(s,p):1;if(l.comboId!==d.comboId&&1===v?v=s/2:l.comboId===d.comboId&&(v=2),E(d.x)&&E(l.x)&&E(d.y)&&E(l.y)){var y=n[e.target+\"-\"+e.source],g=y.vl,m=y.vx,w=y.vy,b=(g-o(e))/g*i*a(e)*v,x=m*b,M=w*b,_=u[c];t[h].x-=x*_,t[h].y-=M*_,t[f].x+=x*(1-_),t[f].y+=M*(1-_)}}}))},n}(c),fruchterman:qt,grid:Yt,mds:$n,radial:Kn,random:Zn};o()(ar,(function(t,n){h.registerLayout(n,{},t)}));var ur=h,sr=self;sr.onmessage=function(t){(function(t){return t.data.type===Pt})(t)&&function(t){switch(t.data.type){case Pt:var n=t.data,r=n.nodes,e=n.edges,o=n.layoutCfg,i=void 0===o?{}:o,a=i.type,u=ur[a];if(!u){sr.postMessage({type:Tt,message:\"layout \"+a+\" not found\"});break}var s=new u(i);s.init({nodes:r,edges:e}),s.execute(),sr.postMessage({type:Ct,nodes:r}),s.destroy()}}(t)};n.default=null}]);\\n//# sourceMappingURL=g6Layout.worker.js.map',\"Worker\",void 0,n.p+\"g6Layout.worker.js\")}function so(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function uo(t){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return clearTimeout(t)})(t)}var co=Ln,ho=n(242),lo=n.n(ho),fo=(po.prototype.initLayout=function(){},po.prototype.getWorker=function(){return this.worker||(\"undefined\"==typeof Worker?(console.warn(\"Web worker is not supported in current browser.\"),this.worker=null):this.worker=new ao),this.worker},po.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(uo(t.requestId),t.requestId=null),t.requestId2&&(uo(t.requestId2),t.requestId2=null))},po.prototype.getLayoutType=function(){return this.layoutCfg.type},po.prototype.layout=function(t){var e=this.graph;this.data=this.setDataFromGraph();var n=this.data.nodes;if(!n)return!1;var r=e.get(\"width\"),i=e.get(\"height\"),o={};Object.assign(o,{width:r,height:i,center:[r/2,i/2]},this.layoutCfg),this.layoutCfg=o;var a=!!this.layoutType,s=this.layoutMethod;s&&s.destroy(),e.emit(\"beforelayout\");var u,c,h=this.initPositions(o.center,n);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;\"force\"===this.layoutType||\"g6force\"===this.layoutType?(u=o.onTick,d=function(){u&&u(),e.refreshPositions()},o.tick=d,c=o.onLayoutEnd,o.onLayoutEnd=function(){c&&c(),e.emit(\"afterlayout\")}):\"comboForce\"===this.layoutType&&(o.comboTrees=e.get(\"comboTrees\"));var l,f,d,p=!1;if(void 0!==this.layoutType){try{s=new co[this.layoutType](o)}catch(t){return console.warn(\"The layout method: \"+this.layoutType+\" does not exist! Please specify it first.\"),!1}(p=s.enableTick)&&(l=o.onTick,f=o.onLayoutEnd,d=function(){l&&l(),e.refreshPositions()},s.tick=d,s.onLayoutEnd=function(){f&&f(),e.emit(\"afterlayout\")}),s.init(this.data),a&&s.execute(),this.layoutMethod=s}return!a&&h||\"force\"===this.layoutType||p||(e.emit(\"afterlayout\"),this.refreshLayout()),!1},po.prototype.layoutWithWorker=function(e,n){var r=this,t=e.nodes,i=e.edges,o=this.layoutCfg,a=(this.graph,this.getWorker()),s=this.workerData;if(!a)return!1;s.requestId=null,s.requestId2=null,s.currentTick=null,s.currentTickData=null;var u,c,h=(c={},(u=o)&&\"object\"==typeof u?(Object.keys(u).forEach(function(t){u.hasOwnProperty(t)&&\"function\"!=typeof u[t]&&(c[t]=u[t])}),c):u);return a.postMessage({type:\"LAYOUT_RUN\",nodes:t,edges:i,layoutCfg:h}),a.onmessage=function(t){r.handleWorkerMessage(t,e,n)},!0},po.prototype.handleWorkerMessage=function(t,e,n){function r(){s.onTick&&s.onTick()}function i(){s.onLayoutEnd&&s.onLayoutEnd(),o.emit(\"afterlayout\")}var o=this.graph,a=this.workerData,s=this.layoutCfg,u=t.data,c=u.type;switch(c){case Wr:a.currentTick=u.currentTick,a.currentTickData=u,a.requestId||(a.requestId=so(function(){go(e,u),o.refreshPositions(),r(),1===u.currentTick&&n&&n(),u.currentTick===u.totalTicks?i():a.currentTick===u.totalTicks&&(a.requestId2=so(function(){go(e,a.currentTickData),o.refreshPositions(),a.requestId2=null,r(),i()})),a.requestId=null}));break;case\"LAYOUT_END\":null==a.currentTick&&(go(e,u),this.refreshLayout(),n&&n(),o.emit(\"afterlayout\"))}},po.prototype.refreshLayout=function(){var t=this.graph;t.get(\"animate\")?t.positionsAnimate():t.refreshPositions()},po.prototype.updateLayoutCfg=function(t){var e=this.graph,n=this.layoutMethod;this.layoutType=t.type,n?(this.data=this.setDataFromGraph(),this.stopWorker(),t.workerEnabled&&this.layoutWithWorker(this.data,null)||(n.init(this.data),n.updateCfg(t),e.emit(\"beforelayout\"),n.execute(),\"force\"===this.layoutType||n.enableTick||e.emit(\"afterlayout\"),this.refreshLayout())):console.warn(\"You did not assign any layout type and the graph has no previous layout method!\")},po.prototype.changeLayout=function(t){var e=this.graph,n=this.layoutMethod;this.layoutType=t,this.layoutCfg=e.get(\"layout\")||{},this.layoutCfg.type=t,n&&n.destroy(),this.layout()},po.prototype.changeData=function(){var t=this.layoutMethod;t&&t.destroy(),this.layout()},po.prototype.setDataFromGraph=function(){var n=[],r=[],i=[],t=this.graph.getNodes(),e=this.graph.getEdges(),o=this.graph.getCombos();return t.forEach(function(t){var e;t.isVisible()&&(e=t.getModel(),n.push(e))}),e.forEach(function(t){var e;!t.destroyed&&t.isVisible()&&((e=t.getModel()).isComboEdge||r.push(e))}),o.forEach(function(t){var e;!t.destroyed&&t.isVisible()&&(e=t.getModel(),i.push(e))}),{nodes:n,edges:r,combos:i}},po.prototype.relayout=function(t){var e=this.graph,n=this.layoutMethod,r=this.layoutCfg;if(t){this.data=this.setDataFromGraph();var i=this.data.nodes;if(!i)return!1;this.initPositions(r.center,i),n.init(this.data)}\"force\"===this.layoutType&&(n.ticking=!1,n.forceSimulation.stop()),e.emit(\"beforelayout\"),n.execute(t),\"force\"===this.layoutType||n.enableTick||e.emit(\"afterlayout\"),this.refreshLayout()},po.prototype.layoutAnimate=function(){},po.prototype.moveToZero=function(){var e,t=this.graph.get(\"data\").nodes;void 0===t[0].x||null===t[0].x||N(t[0].x)||(e=[0,0],t.forEach(function(t){e[0]+=t.x,e[1]+=t.y}),e[0]/=t.length,e[1]/=t.length,t.forEach(function(t){t.x-=e[0],t.y-=e[1]}))},po.prototype.initPositions=function(t,e){var n=this.graph;if(!e)return!1;var r=!0,i=.85*n.get(\"width\"),o=.85*n.get(\"height\"),a=e.length,s=Math.sqrt(i*a/o),u=i/(s-1),c=o/(s*o/i-1),h=t[0]-i/2,l=t[1]-o/2;return e.forEach(function(t,e){N(t.x)&&(r=!1,t.x=e%s*u+h),N(t.y)&&(r=!1,t.y=e/s*c+l)}),r},po.prototype.destroy=function(){var t=this.layoutMethod;this.graph=null,t&&t.destroy();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0},po);function po(t){this.graph=t,this.layoutCfg=t.get(\"layout\")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}function go(t,e){var n=t.nodes,r=e.nodes;n.forEach(function(t,e){t.x=r[e].x,t.y=r[e].y})}function vo(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)}function yo(t){var e=t.map(function(t){return{x:t.getModel().x,y:t.getModel().y}});e.sort(function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x});for(var n=[],r=0;r<e.length;r++){for(;2<=n.length&&vo(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}for(var i=[],r=e.length-1;0<=r;r--){for(;2<=i.length&&vo(i[i.length-2],i[i.length-1],e[r])<=0;)i.pop();i.push(e[r])}return i.pop(),n.pop(),n.concat(i)}var mo=null,bo=(Bo.checkCache=function(t,e,n){var r;!n[e]||0<=(r=n[e].indexOf(t))&&n[e].splice(r,1)},Bo.cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},Bo.prototype.updateState=function(t,e,n){var r,i,o,a=this,s=Bo.checkCache,u=Bo.cacheState;t.destroyed||(i=(r=this.cachedStates).enabled,o=r.disabled,n?(s(t,e,o),u(t,e,i)):(s(t,e,i),u(t,e,o)),mo&&clearTimeout(mo),mo=setTimeout(function(){mo=null,a.updateGraphStates()},16))},Bo.prototype.updateStates=function(e,t,n){var r=this;T()(t)?this.updateState(e,t,n):t.forEach(function(t){r.updateState(e,t,n)})},Bo.prototype.updateGraphStates=function(){var i=this.graph.get(\"states\"),t=this.cachedStates;m()(t.disabled,function(e,t){i[t]&&(i[t]=i[t].filter(function(t){return e.indexOf(t)<0&&!e.destroyed}))}),m()(t.enabled,function(t,n){var r;i[n]?(r={},i[n].forEach(function(t){t.destroyed||(r[t.get(\"id\")]=!0)}),t.forEach(function(t){var e;t.destroyed||(e=t.get(\"id\"),r[e]||(r[e]=!0,i[n].push(t)))})):i[n]=t}),this.graph.emit(\"graphstatechange\",{states:i}),this.cachedStates={enabled:{},disabled:{}}},Bo.prototype.destroy=function(){this.graph=null,this.cachedStates=null,mo&&clearTimeout(mo),mo=null,this.destroyed=!0},Bo),xo=null,wo=(No.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:\"#A3B1BF\",strokeOpacity:.9,fill:\"#F3F9FF\",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:\"#faad14\",fill:\"#ffe58f\",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:\"#A3B1BF\",lineWidth:3,fill:\"#F3F9FF\",offsetX:-15,offsetY:5},icon:\"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg\",operatorBtn:{collapse:{img:\"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg\",width:16,height:16},expand:{width:16,height:16,img:\"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg\"}},visible:!1}},No.prototype.create=function(n,t,e,r,i,o){void 0===e&&(e=\"circle\"),void 0===r&&(r=0),void 0===i&&(i=!1),void 0===o&&(o={});var a,s,u,c,h,l,f,d,p,g,v,y,m,b,x,w,M,S,_,O,C,k,E,j,P,I,A=this.graph,T=A.get(\"customGroup\");-1<T.get(\"children\").map(function(t){return t.get(\"id\")}).indexOf(n)?console.warn(\"已经存在ID为 \"+n+\" 的分组，请重新设置分组ID！\"):(a=T.addGroup({id:n,zIndex:r}),s=this.styles.default,c=(u=this.calculationGroupPosition(t)).x,h=u.y,l=u.width,f=u.height,d=u.maxX,p=this.getGroupPadding(n),A.get(\"groupBBoxs\")[n]={x:c,y:h,width:l,height:f,maxX:d},g=null,i&&(v=A.get(\"groups\"),t.forEach(function(t){var e=A.findById(t).getModel();e.groupId||(e.groupId=n)}),v.find(function(t){return t.id===n})||(v.push({id:n,title:o}),A.set({groups:v}))),(y=A.get(\"groups\").filter(function(t){return t.id===n}))&&0<y.length&&(g=y[0].title),S=M=0,w=null,\"circle\"===e?(m=(l+2*c)/2,b=(f+2*h)/2,x=(f<l?l/2:f/2)+p,w=a.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},s),{x:m,y:b,r:x}),draggable:!0,capture:!0,zIndex:r,groupId:n,name:\"circle-group-shape\"}),M=m,S=b-x,this.setDeletageGroupByStyle(n,a,{width:l,height:f,x:m,y:b,r:x})):(_=p*s.disCoefficient,w=a.addShape(\"rect\",{attrs:Object(L.__assign)(Object(L.__assign)({},s),{x:c-_,y:h-_,width:l+2*_,height:f+2*_}),draggable:!0,capture:!0,zIndex:r,groupId:n,name:\"rect-group-shape\"}),M=c-_+15,S=h-_+15,this.setDeletageGroupByStyle(n,a,{x:c-_,y:h-_,width:l+_,height:f+_,btnOffset:d-3})),g&&(C=void 0===(O=g.offsetX)?0:O,E=void 0===(k=g.offsetY)?0:k,P=void 0===(j=g.text)?g:j,I=Object(L.__rest)(g,[\"offsetX\",\"offsetY\",\"text\"]),a.addShape(\"text\",{attrs:Object(L.__assign)({text:P,stroke:\"#444\",x:M+C,y:S+E},I),className:\"group-title\",name:\"group-title-shape\"}).set(\"capture\",!1)),a.set(\"keyShape\",w),A.get(\"groupNodes\")[n]=t)},No.prototype.setGroupStyle=function(e,t){var n,r,i,o;e&&!e.get(\"destroyed\")&&(n={},i=(r=this.styles).hover,o=r.default,T()(t)?\"default\"===t?n=gt()({},o):\"hover\"===t&&(n=gt()({},i)):n=gt()({},o,t),Object.keys(n).forEach(function(t){e.attr(t,n[t])}))},No.prototype.calculationGroupPosition=function(t,e){if(void 0===e&&(e={x:100,y:100}),0===t.length)return{x:e.x,y:e.y,width:100,height:100};var a=this.graph,s=1/0,u=-1/0,c=1/0,h=-1/0;t.forEach(function(t){var e=(T()(t)?a.findById(t):t).getBBox(),n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;n<s&&(s=n),r<c&&(c=r),u<i&&(u=i),h<o&&(h=o)});var n=Math.floor(s),r=Math.floor(c);return{x:n,y:r,width:Math.ceil(u)-n,height:Math.ceil(h)-r,maxX:Math.ceil(u)}},No.prototype.flatToTree=function(t,e,n){void 0===e&&(e=\"id\"),void 0===n&&(n=\"parentId\");var r=[],i=[];return t.forEach(function(t){r[t[e]]=t}),t.forEach(function(t){var e=r[t[n]];e?(e.children=e.children||[],e.children.push(t)):i.push(t)}),i},No.prototype.getGroupPadding=function(e){var t=this.graph,n=this.styles.default,r=t.get(\"groups\"),i=r.filter(function(t){return t.parentId===e}),o=1;return 0<i.length&&(xo=xo||this.flatToTree(r),yn(xo[0],function(t){if(t.parentId===e&&t.children)return o+=t.children.length,!0})),0<r.filter(function(t){return t.id===e&&!t.parentId}).length&&(o+=1),0<r.filter(function(t){return t.parentId===e}).length?n.maxDis+30*(1<o?o/2:1):n.minDis},No.prototype.setDeletageGroupByStyle=function(t,e,n){var r,i,o=n.width,a=n.height,s=n.x,u=n.y,c=n.r,h=n.btnOffset,l=this.customGroup[t];l?(r=l.groupStyle,i=gt()({},r,n),this.customGroup[t]={nodeGroup:e,groupStyle:i}):this.customGroup[t]={nodeGroup:e,groupStyle:{width:o,height:a,x:s,y:u,r:c,btnOffset:h}}},No.prototype.getDeletageGroupById=function(t){return this.customGroup[t]},No.prototype.collapseExpandGroup=function(t){var e=this.getDeletageGroupById(t).nodeGroup;e.get(\"hasHidden\")?(e.set(\"hasHidden\",!1),this.expandGroup(t)):(e.set(\"hasHidden\",!0),this.collapseGroup(t))},No.prototype.setGroupTmpNode=function(e,t){var n=this.graph,r=n.get(\"groupNodes\"),i=n.get(\"groups\");r[e].indexOf(t)<0&&r[e].push(t);var o=i.filter(function(t){return t.id===e}),a=null;0<o.length&&(a=o[0].parentId),a&&this.setGroupTmpNode(a,t)},No.prototype.collapseGroup=function(r){var i=this,t=this.getDeletageGroupById(r).nodeGroup,e=this.styles.collapse,o=this.graph,n=o.get(\"groupType\"),a=o.get(\"groupNodes\")[r],s=t.get(\"keyShape\"),u=e.r,c=e.width,h=e.height,l=e.offsetX,f=e.offsetY,d=Object(L.__rest)(e,[\"r\",\"width\",\"height\",\"offsetX\",\"offsetY\"]);Object.keys(d).forEach(function(t){s.attr(t,d[t])});var p={groupId:r,id:r+\"-custom-node\",x:s.attr(\"x\"),y:s.attr(\"y\"),style:{r:u},type:\"circle\"},g=t.find(function(t){return\"group-title\"===t.get(\"className\")});\"circle\"===n?(s.animate({r:u},{duration:500,easing:\"easeCubic\"}),g&&g.attr({x:s.attr(\"x\")+l,y:s.attr(\"y\")+f})):\"rect\"===n&&(s.animate({width:c,height:h},{duration:500,easing:\"easeCubic\"}),g&&g.attr({x:s.attr(\"x\")+10,y:s.attr(\"y\")+h/2+5}),p={groupId:r,id:r+\"-custom-node\",x:s.attr(\"x\")+c/2,y:s.attr(\"y\")+h/2,size:[c,h],type:\"rect\"});var v,y=o.getEdges(),m=y.filter(function(t){var e=t.getModel();return!a.includes(e.source)&&a.includes(e.target)}),b=y.filter(function(t){var e=t.getModel();return a.includes(e.source)&&!a.includes(e.target)}),x=y.filter(function(t){var e=t.getModel();return a.includes(e.source)&&a.includes(e.target)});a.forEach(function(t){var e=o.findById(t),n=e.getModel().groupId;n&&n!==r&&i.getDeletageGroupById(n).nodeGroup.hide(),e.hide()}),x.forEach(function(t){var e=t.getSource(),n=t.getTarget();e.isVisible()&&n.isVisible()?t.show():t.hide()}),(0<m.length||0<b.length)&&((v=o.add(\"node\",p)).set(\"capture\",!1),v.hide(),this.delegateInGroup[r]={delegateNode:v},this.setGroupTmpNode(r,r+\"-custom-node\"),this.updateEdgeInGroupLinks(r,m,b))},No.prototype.updateEdgeInGroupLinks=function(i,t,e){var o=this.graph,a={};t.map(function(t){var e=t.getModel(),n=t.get(\"id\"),r=e.target;return a[n]=r,o.updateItem(t,{target:i+\"-custom-node\"}),!0});var s={};e.map(function(t){var e=t.getModel(),n=t.get(\"id\"),r=e.source;return s[n]=r,o.updateItem(t,{source:i+\"-custom-node\"}),!0}),this.delegateInGroup[i]=gt()({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:s},this.delegateInGroup[i])},No.prototype.expandGroup=function(i){var o=this,a=this.graph,t=a.get(\"groupType\"),n=a.get(\"groupNodes\")[i],e=n.filter(function(t){return-1===t.indexOf(\"custom-node\")}),r=this.calculationGroupPosition(e),s=r.width,u=r.height,c=this.getDeletageGroupById(i).nodeGroup,h=c.get(\"keyShape\"),l=this.styles,f=l.default,d=l.collapse;Object.keys(f).forEach(function(t){h.attr(t,f[t])});var p,g,v,y,m,b,x,w,M,S=c.find(function(t){return\"group-title\"===t.get(\"className\")}),_=this.getGroupPadding(i);\"circle\"===t?(p=u<s?s/2:u/2,h.animate({r:p+_},{duration:500,easing:\"easeCubic\"})):\"rect\"===t&&(g=d.width,v=d.height,h.animate({width:g+s+_*f.disCoefficient*2,height:v+u+_*f.disCoefficient*2},{duration:500,easing:\"easeCubic\"})),S&&(y=null,(m=a.get(\"groups\").filter(function(t){return t.id===i}))&&0<m.length&&(y=m[0].title),x=void 0===(b=y.offsetX)?0:b,M=void 0===(w=y.offsetY)?0:w,\"circle\"===t?S.animate({x:h.attr(\"x\")+x,y:h.attr(\"y\")-h.attr(\"r\")+M},{duration:600,easing:\"easeCubic\"}):\"rect\"===t&&S.animate({x:h.attr(\"x\")+(15+x),y:h.attr(\"y\")+(15+M)},{duration:600,easing:\"easeCubic\"})),setTimeout(function(){n.forEach(function(t){var e,n=a.findById(t),r=n.getModel().groupId;r&&r!==i?((e=o.getDeletageGroupById(r).nodeGroup).show(),e.get(\"hasHidden\")||n.show()):n.show()}),a.getEdges().filter(function(t){var e=t.getModel();return n.includes(e.source)||n.includes(e.target)}).forEach(function(t){var e=t.getSource(),n=t.getTarget();e.isVisible()&&n.isVisible()&&t.show()})},300);var O,C,k,E,j,P,I=this.delegateInGroup[i];I&&(O=I.sourceOutTargetInEdges,C=I.sourceInTargetOutEdges,k=I.edgesOuts,E=I.edgesIn,j=I.delegateNode,O.map(function(t){var e=t.get(\"id\"),n=k[e];return a.updateItem(t,{target:n}),!0}),C.map(function(t){var e=t.get(\"id\"),n=E[e];return a.updateItem(t,{source:n}),!0}),P=j.getModel(),this.deleteTmpNode(i,P.id),a.remove(j),delete this.delegateInGroup[i])},No.prototype.deleteTmpNode=function(e,t){var n=this.graph,r=n.get(\"groups\"),i=n.get(\"groupNodes\")[e],o=i.indexOf(t);i.splice(o,1);var a=r.filter(function(t){return t.id===e}),s=null;0<a.length&&(s=a[0].parentId),s&&this.deleteTmpNode(s,t)},No.prototype.remove=function(i){var o=this.graph,t=this.getDeletageGroupById(i);if(t){var e=t.nodeGroup,n=o.get(\"groupNodes\"),r=n[i];r.forEach(function(t){var e=o.findById(t),n=e.getModel(),r=n.groupId;r&&i===r&&(delete n.groupId,o.updateItem(e,n))}),e.destroy(),delete this.customGroup[i];var a,s=o.get(\"groups\");0<s.length&&(a=s.filter(function(t){return t.id!==i}),o.set(\"groups\",a));for(var u=null,c=null,h=0;h<s.length;h++){var l=s[h];if(i===l.id){u=l.parentId,c=l;break}}c&&delete c.parentId,delete n[i],u&&(n[u]=n[u].filter(function(t){return!r.includes(t)}))}},No.prototype.updateGroup=function(t,e,n){var r=this.graph,i=r.get(\"groupType\");this.updateItemInGroup(t,e,n);for(var o,a,s,u,c,h,l,f,d,p,g,v,y,m,b,x,w,M,S,_,O,C,k,E,j,P,I,A,T,N=r.save().groups,B=null,D=null,L=0;L<N.length;L++){var R=N[L];if(t===R.id){B=R.parentId,D=R;break}}B&&(a=(o=this.getDeletageGroupById(B).nodeGroup).get(\"keyShape\"),this.setGroupStyle(a,\"default\"),u=(s=a.getBBox()).minX,c=s.minY,h=s.maxX,l=s.maxY,d=(f=this.getDeletageGroupById(t).nodeGroup.get(\"keyShape\").getBBox()).x,p=f.y,d<h&&u<d&&p<l&&c<p||(delete D.parentId,g=r.get(\"groupNodes\"),v=g[t],y=g[B],g[B]=y.filter(function(t){return-1===v.indexOf(t)}),b=(m=this.calculationGroupPosition(g[B])).x,x=m.y,w=m.width,M=m.height,S=this.getGroupPadding(B),_=o.find(function(t){return\"group-title\"===t.get(\"className\")}),C=O=0,\"circle\"===i?(k=M<w?w/2:M/2,E=b,j=x,a.attr({r:k+S,x:E,y:j}),O=E,C=j-a.attr(\"r\")):\"rect\"===i&&(P=S*this.styles.default.disCoefficient,a.attr({x:b-P,y:x-P}),O=b-P+15,C=x-P+15),_&&(T=A=0,(I=D.title)&&(A=I.offsetX,T=I.offsetY),_.attr({x:O+A,y:C+T}))))},No.prototype.updateItemInGroup=function(t,v,e){var y=this,s=this.graph,m=s.get(\"groupType\"),b=s.get(\"groupNodes\"),n=b[t],u=this.getDeletageGroupById(t).nodeGroup.getBBox(),c=[];n.forEach(function(t,e){var n=s.findById(t),r=n.getModel(),i=r.groupId;i&&!c.includes(i)&&c.push(i),y.nodePoint[e]||(y.nodePoint[e]={x:r.x,y:r.y});var o=v.x-u.x+y.nodePoint[e].x,a=v.y-u.y+y.nodePoint[e].y;y.nodePoint[e]={x:o,y:a},s.updateItem(n,{x:o,y:a})}),c.includes(t)||c.push(t),c.forEach(function(t){var e,n,r,i,o,a=y.getDeletageGroupById(t).nodeGroup,s=a.get(\"keyShape\"),u=b[t].filter(function(t){return-1===t.indexOf(\"custom-node\")}),c=y.calculationGroupPosition(u,v),h=c.x,l=c.y,f=c.width,d=c.height,p=0,g=0;\"circle\"===m?(e=(f+2*h)/2,n=(d+2*l)/2,s.attr({x:e,y:n}),p=e,g=n-s.attr(\"r\")):\"rect\"===m&&(r=a.get(\"hasHidden\"),i={},p=h-(o=y.getGroupPadding(t)*y.styles.default.disCoefficient)+15,g=l-o+15,r?(i={x:h-o,y:l-o},g+=10):i={x:h-o,y:l-o,width:f+2*o,height:d+2*o},s.attr(i)),y.updateGroupTitle(a,t,p,g)})},No.prototype.updateGroupTitle=function(t,e,n,r){var i,o,a,s,u=this.graph,c=t.find(function(t){return\"group-title\"===t.get(\"className\")});c&&(i=null,(o=u.get(\"groups\").filter(function(t){return t.id===e}))&&0<o.length&&(i=o[0].title),s=a=0,i&&(a=i.offsetX||0,s=i.offsetY||0),c.attr({x:n+a,y:r+s}))},No.prototype.dynamicChangeGroupSize=function(t,e,n){var r,i,o,a,s,u,c,h,l,f,d,p,g,v=t.item.getModel().groupId,y=this.graph,m=y.get(\"groupType\"),b=y.get(\"groupNodes\"),x=b[v];0===x.length?(delete b[v],r=y.get(\"groups\"),y.set(\"groups\",r.filter(function(t){return t.id!==v})),e.remove()):(o=(i=this.calculationGroupPosition(x)).x,a=i.y,s=i.width,u=i.height,c=this.getGroupPadding(v),l=h=0,\"circle\"===m?(f=u<s?s/2:u/2,d=(s+2*o)/2,p=(u+2*a)/2,n.attr({r:f+c,x:d,y:p}),h=d,l=p-n.attr(\"r\")):\"rect\"===m&&(g=c*this.styles.default.disCoefficient,n.attr({x:o-g,y:a-g,width:s+2*g,height:u+2*g}),h=o-g+15,l=a-g+15),this.updateGroupTitle(e,v,h,l)),this.setGroupStyle(n,\"default\")},No.prototype.resetNodePoint=function(){this.nodePoint.length=0},No.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},No),Mo=function(t){var e={};return t.getNodes().forEach(function(t){e[t.getID()]={degree:0,inDegree:0,outDegree:0}}),t.getEdges().forEach(function(t){e[t.getSource().getID()].degree++,e[t.getSource().getID()].outDegree++,e[t.getTarget().getID()].degree++,e[t.getTarget().getID()].inDegree++}),e},So=(To.defaultCompareFunction=function(t,e){return t===e?0:t<e?-1:1},To.prototype.equal=function(t,e){return 0===this.compare(t,e)},To.prototype.lessThan=function(t,e){return this.compare(t,e)<0},To.prototype.greaterThan=function(t,e){return 0<this.compare(t,e)},To.prototype.lessThanOrEqual=function(t,e){return this.lessThan(t,e)||this.equal(t,e)},To.prototype.greaterThanOrEqual=function(t,e){return this.greaterThan(t,e)||this.equal(t,e)},To.prototype.reverse=function(){var n=this.compare;this.compare=function(t,e){return n(e,t)}},To),_o=(Ao.prototype.toString=function(t){return t?t(this.value):\"\"+this.value},Ao),Oo=(Io.prototype.prepend=function(t){var e=new _o(t,this.head);return this.head=e,this.tail||(this.tail=e),this},Io.prototype.append=function(t){var e=new _o(t);return this.head?this.tail.next=e:this.head=e,this.tail=e,this},Io.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare.equal(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare.equal(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare.equal(this.tail.value,t)&&(this.tail=n),e},Io.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare.equal(o.value,n))return o;o=o.next}return null},Io.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},Io.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},Io.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},Io.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},Io.prototype.reverse=function(){for(var t,e=this.head,n=null;e;)t=e.next,e.next=n,n=e,e=t;this.tail=this.head,this.head=n},Io.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},Io),Co=(Object.defineProperty(Po.prototype,\"length\",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),Po.prototype.isEmpty=function(){return!this.linkedList.head},Po.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},Po.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},Po.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},Po.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},Po.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},Po.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},Po),ko=function(t,a){var e=t.getNodes(),n=t.getEdges(),s=[],u={};if(!e)throw new Error(\"invalid nodes data!\");return e&&e.forEach(function(t,e){u[t.getID()]=e,s.push([])}),n&&n.forEach(function(t){var e=t.getModel(),n=e.source,r=e.target,i=u[n],o=u[r];s[i][o]=1,a||(s[o][i]=1)}),s},Eo=function(t,e){for(var n=t.get(\"adjMatrix\"),r=[],i=(n=n||ko(t,e)).length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},jo={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Po(t){void 0===t&&(t=10),this.linkedList=new Oo,this.maxStep=t}function Io(t){void 0===t&&(t=null),this.head=null,this.tail=null,this.compare=new So(t)}function Ao(t,e){void 0===e&&(e=null),this.value=t,this.next=e}function To(t){this.compare=t||To.defaultCompareFunction}function No(t){var e=(this.graph=t).get(\"groupStyle\");this.styles=gt()({},No.getDefaultCfg(),e),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}function Bo(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}function Do(u,c,r){function i(t,e){return c.cells[t+e*c.width]}function h(t,e){var n=0;return i(t-1,e-1)>=r&&(n+=1),i(t,e-1)>r&&(n+=2),i(t-1,e)>r&&(n+=4),i(t,e)>r&&(n+=8),n}var n=!1;this.march=function(){for(var t=0;t<c.width&&!n;t+=1)for(var e=0;e<c.height&&!n;e+=1)i(t,e)>r&&15!==h(t,e)&&(n=function(t,e){for(var n,r,i=t,o=e,a=0;a<c.width*c.height;a++){if(n=i,r=o,-1<u.findIndex(function(t){return t.x===i&&t.y===o})){if(u[0].x===i&&u[0].y===o)return!0}else u.push({x:i,y:o});var s=h(i,o);switch(s){case-1:return console.warn(\"Marched out of bounds\"),!0;case 0:case 3:case 2:case 7:i++;break;case 12:case 14:case 4:i--;break;case 6:0===n&&(-1===r?--i:i+=1);break;case 1:case 13:case 5:o--;break;case 9:1===n&&(0===r?--o:o+=1);break;case 10:case 8:case 11:o++;break;default:return console.warn(\"Marching squares invalid state: \"+s),!0}}}(t,e));return n}}function Lo(t,n){var r=Number.POSITIVE_INFINITY,i=null;return t.forEach(function(t){var e=Zt(t,n);0<=e&&e<r&&(i=t,r=e)}),i}function Ro(s,l,t){var f=Object.assign(jo,t),n=$t(s.map(function(t){return{x:t.getModel().x,y:t.getModel().y}}));s=s.sort(function(t,e){return Kt({x:t.getModel().x,y:t.getModel().y},n)-Kt({x:e.getModel().x,y:e.getModel().y},n)});var d=[],p=[];s.forEach(function(t){var e,o,n,r,i,a,s,u,c,h;e=t,o=l,n=d,r=f.maxRoutingIterations,i=f.morphBuffer,a=e,s=o,u=null,c=Number.POSITIVE_INFINITY,n.forEach(function(t){var e={x:a.getModel().x,y:a.getModel().y},n={x:t.getModel().x,y:t.getModel().y},r=Kt(e,n),i=new Ht(e.x,e.y,n.x,n.y),o=s.reduce(function(t,e){return 0<Zt(e,i)?t+1:t},0);r*Math.pow(o+1,2)<c&&(u=t,c=r*Math.pow(o+1,2))}),(null===(h=u)?[]:function(t){for(var e=[];0<t.length;){var n=t.pop();if(0===t.length){e.push(n);break}var r=t.pop(),i=new Ht(n.x1,n.y1,r.x2,r.y2);Lo(o,i)?(e.push(n),t.push(r)):t.push(i)}return e}(function(t,u,e,c){var h=[],l=[];l.push(t);for(var f=!0,n=0,d=function(e,t){var n=!1;return t.forEach(function(t){n||(Jt(e,{x:t.x1,y:t.y1})||Jt(e,{x:t.x2,y:t.y2}))&&(n=!0)}),n},p=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(Gt(o,t.x,t.y))return!0}return!1};f&&n<e;){f=!1;for(;!f&&l.length;)!function(){var t,o,e,a=l.pop(),s=Lo(u,a);s&&(t=Ut(s,a),o=t[0],2===t[1]&&((e=function(t){for(var e=c,n=zo(s,e,o,t),r=d(n,l)||d(n,h),i=p(n,u);!r&&i&&1<=e;)n=zo(s,e/=1.5,o,t),r=d(n,l)||d(n,h),i=p(n,u);!n||r||t&&i||(l.push(new Ht(a.x1,a.y1,n.x,n.y)),l.push(new Ht(n.x,n.y,a.x2,a.y2)),f=!0)})(!0),f||e(!1))),f||h.push(a),n+=1}()}for(;l.length;)h.push(l.pop());return h}(new Ht(e.getModel().x,e.getModel().y,h.getModel().x,h.getModel().y),o,r,i))).forEach(function(t){p.push(t)}),d.push(t)});for(var e,r,i,o,a,u=function(t,e){var n={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},r=[];s.forEach(function(t){r.push(t.getBBox())}),t.forEach(function(t){r.push(t.getBBox())});for(var i=0,o=r;i<o.length;i++){var a=o[i];n.minX=(a.minX<n.minX?a.minX:n.minX)-e,n.minY=(a.minY<n.minY?a.minY:n.minY)-e,n.maxX=(a.maxX>n.maxX?a.maxX:n.maxX)+e,n.maxY=(a.maxY>n.maxY?a.maxY:n.maxY)+e}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}(p,f.nodeR0),c=(e=u.width,r=u.height,i=f.pixelGroupSize,o=Math.ceil(e/i),a=Math.ceil(r/i),{cells:new Float32Array(Math.max(0,o*a)).fill(0),width:o,height:a}),h=[],g=[],v=0;v<f.maxMarchingIterations;v++)if(function(t,e,n,p,g,v){function r(t,e){var n=Math.floor((t-e)/v.pixelGroupSize);return n<0?0:n}function y(t,e){return t*v.pixelGroupSize+e}function m(t,e){return[Math.min(r(t.minX,e+p.minX),g.width),Math.min(r(t.minY,e+p.minY),g.height),Math.min(r(t.maxX,-e+p.minX),g.width),Math.min(r(t.maxY,-e+p.minY),g.height)]}function i(t,e){for(var n,r,i,o,a=t.getBBox(),s=m(a,v.nodeR1),u=s[0],c=s[1],h=s[2],l=s[3],f=c;f<l;f+=1)for(var d=u;d<h;d+=1){e<0&&g[d+f*g.width]<=0||(n=y(d,p.minX),r=y(f,p.minY),(i=te({x:n,y:r},{x:a.minX,y:a.minY,width:a.width,height:a.height}))<Math.pow(v.nodeR1,2)&&(o=Math.sqrt(i)-v.nodeR1,g.cells[d+f*g.width]+=e*o*o))}}var o=(v.nodeR0-v.nodeR1)*(v.nodeR0-v.nodeR1),a=(v.edgeR0-v.edgeR1)*(v.edgeR0-v.edgeR1);v.nodeInfluenceFactor&&t.forEach(function(t){i(t,v.nodeInfluenceFactor/o)}),v.edgeInfluenceFactor&&n.forEach(function(t){!function(t,e){for(var n,r,i,o,a=t.getBBox(),s=m(a,v.edgeR1),u=s[0],c=s[1],h=s[2],l=s[3],f=c;f<l;f+=1)for(var d=u;d<h;d+=1){e<0&&g.cells[d+f*g.width]<=0||(n=y(d,p.minX),r=y(f,p.minY),(i=Qt({x:n,y:r},t))<Math.pow(v.edgeR1,2)&&(o=Math.sqrt(i)-v.edgeR1,g.cells[d+f*g.width]+=e*o*o))}}(t,v.edgeInfluenceFactor/a)}),v.negativeNodeInfluenceFactor&&e.forEach(function(t){i(t,v.negativeNodeInfluenceFactor/o)})}(s,l,p,u,c,f),g=[],new Do(h=[],c,f.threshold).march()){var y=h.map(function(t){return{x:Math.round(t.x*f.pixelGroupSize+u.minX),y:Math.round(t.y*f.pixelGroupSize+u.minY)}});if(y){var m=y.length;if(1<f.skip)for(m=Math.floor(y.length/f.skip);m<3&&1<f.skip;)--f.skip,m=Math.floor(y.length/f.skip);for(var b=0,x=0;x<m;x+=1,b+=f.skip)g.push({x:y[b].x,y:y[b].y})}if(g&&function(){for(var t=0,e=s;t<e.length;t++){var n=e[t],r=g.map(function(t){return[t.x,t.y]});if(!Gt(r,n.getBBox().centerX,n.getBBox().centerY))return}return 1}())return g;if(f.threshold*=.9,v<=.5*f.maxMarchingIterations)f.memberInfluenceFactor*=1.2,f.edgeInfluenceFactor*=1.2;else{if(!(0!==f.nonMemberInfluenceFactor&&0<l.length))break;f.nonMemberInfluenceFactor*=.8}}return g}function zo(t,e,n,r){var i=t.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],c={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},h=i.height*i.width;function l(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(a)return o?r?c.topLeft:c.bottomRight:s?r?c.bottomLeft:c.topRight:l(a,u)<.5*h?a.y>u.y?r?c.topLeft:c.bottomRight:r?c.topRight:c.bottomLeft:a.y<u.y?r?c.bottomLeft:c.topRight:r?c.bottomRight:c.topLeft;if(u){if(o)return r?c.topRight:c.bottomLeft;if(s)return r?c.bottomRight:c.topLeft}return l(o,s)<.5*h?o.x>s.x?r?c.topLeft:c.bottomRight:r?c.bottomLeft:c.topRight:o.x<s.x?r?c.topRight:c.bottomLeft:r?c.bottomRight:c.topLeft}var Yo,Fo,Xo=(Jo.prototype.getDefaultCfg=function(){return{id:\"g6-hull\",type:\"round-convex\",members:[],nonMembers:[],style:{fill:\"lightblue\",stroke:\"blue\",opacity:.2},padding:10}},Jo.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=0<this.cfg.padding?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},Jo.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type=\"round-convex\"),\"round-convex\"!==this.type&&\"smooth-convex\"!==this.type&&\"bubble\"!==this.type&&(console.warn(\"The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.\"),this.type=\"round-convex\")},Jo.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case\"round-convex\":r=function(t){if(!t)return null;if(I()(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(ie,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(oe,function(t,e){e&&r.push(+e)}),\"m\"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i=\"l\",e=\"m\"===e?\"l\":\"L\"),\"o\"===i&&1===r.length&&a.push([e,r[0]]),\"r\"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););return\"\"}),a}(i=pe((n=yo(t)).map(function(t){return[t.x,t.y]}),this.padding));break;case\"smooth-convex\":i=ge((n=yo(t)).map(function(t){return[t.x,t.y]}),this.padding),r=2<=n.length&&he(i);break;case\"bubble\":r=2<=(n=Ro(t,e,this.cfg.bubbleCfg)).length&&he(n)}return r},Jo.prototype.render=function(){this.group.addShape(\"path\",{attrs:Object(L.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},Jo.prototype.addMember=function(t){if(t){Object(ot.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return-1<e&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},Jo.prototype.addNonMember=function(t){if(t){Object(ot.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return-1<e&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},Jo.prototype.removeMember=function(t){if(t){Object(ot.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return-1<e&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},Jo.prototype.removeNonMember=function(t){if(t){Object(ot.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return-1<e&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},Jo.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(t){return Object(ot.isString)(t)?n.graph.findById(t):t})),e&&(this.nonMembers=e.map(function(t){return Object(ot.isString)(t)?n.graph.findById(t):t})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},Jo.prototype.updateStyle=function(t){this.group.findById(this.id).attr(Object(L.__assign)({},t))},Jo.prototype.updateCfg=function(t){var e=this;this.cfg=Object(ot.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(t){return Object(ot.isString)(t)?e.graph.findById(t):t})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(t){return Object(ot.isString)(t)?e.graph.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},Jo.prototype.contain=function(t){var e,n,r,i=this,o=(e=Object(ot.isString)(t)?this.graph.findById(t):t).getKeyShape();return r=(r=\"path\"===e.get(\"type\")?ce(o.attr(\"path\")):[[(n=o.getCanvasBBox()).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]).map(function(t){var e=i.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]}),qt(r,ce(this.path))},Jo.prototype.destroy=function(){this.group.remove(),this.cfg=null},Jo),Go=(Fo=we.a,Object(L.__extends)(Qo,Fo),Qo.prototype.init=function(){this.initCanvas();var t=new Be(this),e=new Pe(this),n=new je(this),r=new Nn(this),i=new fo(this),o=new bo(this),a=new wo(this);this.set({eventController:t,viewController:e,modeController:n,itemController:r,layoutController:i,stateController:o,customGroupControll:a}),this.initPlugin()},Qo.prototype.initCanvas=function(){var t=this.get(\"container\");if(Object(ot.isString)(t)&&(t=document.getElementById(t),this.set(\"container\",t)),!t)throw new Error(\"invalid container\");var e,n,r=this.get(\"width\"),i=this.get(\"height\"),o=\"svg\"===this.get(\"renderer\")?new Oe.a({container:t,width:r,height:i}):(e={container:t,width:r,height:i},(n=this.get(\"pixelRatio\"))&&(e.pixelRatio=n),new Se.a(e));this.set(\"canvas\",o),this.initGroups()},Qo.prototype.initPlugin=function(){var e=this;Object(ot.each)(e.get(\"plugins\"),function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)})},Qo.prototype.initGroups=function(){var t,e,n,r,i=this.get(\"canvas\"),o=this.get(\"canvas\").get(\"el\").id,a=i.addGroup({id:o+\"-root\",className:F.rootContainerClassName});this.get(\"groupByTypes\")&&(t=a.addGroup({id:o+\"-edge\",className:F.edgeContainerClassName}),e=a.addGroup({id:o+\"-node\",className:F.nodeContainerClassName}),n=a.addGroup({id:o+\"-combo\",className:F.comboContainerClassName}),(r=a.addGroup({id:o+\"-group\",className:F.customGroupContainerClassName})).toBack(),n.toBack(),this.set({nodeGroup:e,edgeGroup:t,customGroup:r,comboGroup:n}));var s=a.addGroup({id:o+\"-delegate\",className:F.delegateContainerClassName});this.set({delegateGroup:s}),this.set(\"group\",a)},Qo.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:\"canvas\",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:\"easeLinear\"},callback:void 0,groupType:\"circle\",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},Qo.prototype.set=function(t,e){return Object(ot.isPlainObject)(t)?this.cfg=Object(L.__assign)(Object(L.__assign)({},this.cfg),t):this.cfg[t]=e,this},Qo.prototype.get=function(t){return this.cfg[t]},Qo.prototype.getGroup=function(){return this.get(\"group\")},Qo.prototype.getContainer=function(){return this.get(\"container\")},Qo.prototype.getMinZoom=function(){return this.get(\"minZoom\")},Qo.prototype.setMinZoom=function(t){return this.set(\"minZoom\",t)},Qo.prototype.getMaxZoom=function(){return this.get(\"maxZoom\")},Qo.prototype.setMaxZoom=function(t){return this.set(\"maxZoom\",t)},Qo.prototype.getWidth=function(){return this.get(\"width\")},Qo.prototype.getHeight=function(){return this.get(\"height\")},Qo.prototype.clearItemStates=function(t,e){Object(ot.isString)(t)&&(t=this.findById(t));var n=this.get(\"itemController\");e=e||t.get(\"states\"),n.clearItemStates(t,e),this.get(\"stateController\").updateStates(t,e,!1)},Qo.prototype.node=function(t){\"function\"==typeof t&&this.set(\"nodeMapper\",t)},Qo.prototype.edge=function(t){\"function\"==typeof t&&this.set(\"edgeMapper\",t)},Qo.prototype.combo=function(t){\"function\"==typeof t&&this.set(\"comboMapper\",t)},Qo.prototype.findById=function(t){return this.get(\"itemMap\")[t]},Qo.prototype.find=function(t,n){var r,e=this.get(t+\"s\");return Object(ot.each)(e,function(t,e){if(n(t,e))return r=t}),r},Qo.prototype.findAll=function(t,n){var r=[];return Object(ot.each)(this.get(t+\"s\"),function(t,e){n(t,e)&&r.push(t)}),r},Qo.prototype.findAllByState=function(t,e){return this.findAll(t,function(t){return t.hasState(e)})},Qo.prototype.translate=function(t,e){var n=this.get(\"group\"),r=(r=Object(ot.clone)(n.getMatrix()))||[1,0,0,0,1,0,0,0,1];Ce.mat3.translate(r,r,[t,e]),n.setMatrix(r),this.emit(\"viewportchange\",{action:\"translate\",matrix:n.getMatrix()}),this.autoPaint()},Qo.prototype.moveTo=function(t,e){var n=this.get(\"group\");zt(n,{x:t,y:e}),this.emit(\"viewportchange\",{action:\"move\",matrix:n.getMatrix()})},Qo.prototype.fitView=function(t){t&&this.set(\"fitViewPadding\",t),this.get(\"viewController\").fitView(),this.autoPaint()},Qo.prototype.fitCenter=function(){this.get(\"viewController\").fitCenter(),this.autoPaint()},Qo.prototype.addBehaviors=function(t,e){return this.get(\"modeController\").manipulateBehaviors(t,e,!0),this},Qo.prototype.removeBehaviors=function(t,e){return this.get(\"modeController\").manipulateBehaviors(t,e,!1),this},Qo.prototype.zoom=function(t,e){var n=this.get(\"group\"),r=Object(ot.clone)(n.getMatrix()),i=this.get(\"minZoom\"),o=this.get(\"maxZoom\"),r=r||[1,0,0,0,1,0,0,0,1];e?(Ce.mat3.translate(r,r,[-e.x,-e.y]),Ce.mat3.scale(r,r,[t,t]),Ce.mat3.translate(r,r,[e.x,e.y])):Ce.mat3.scale(r,r,[t,t]),i&&r[0]<i||o&&r[0]>o||(n.setMatrix(r),this.emit(\"viewportchange\",{action:\"zoom\",matrix:r}),this.autoPaint())},Qo.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},Qo.prototype.focusItem=function(t,e,n){var r=this.get(\"viewController\"),i=!1;e?i=!0:void 0===e&&(i=this.get(\"animate\"));var o={};n?o=n:void 0===n&&(o=this.get(\"animateCfg\")),r.focus(t,i,o),this.autoPaint()},Qo.prototype.autoPaint=function(){this.get(\"autoPaint\")&&this.paint()},Qo.prototype.paint=function(){this.emit(\"beforepaint\"),this.get(\"canvas\").draw(),this.emit(\"afterpaint\")},Qo.prototype.getPointByClient=function(t,e){return this.get(\"viewController\").getPointByClient(t,e)},Qo.prototype.getClientByPoint=function(t,e){return this.get(\"viewController\").getClientByPoint(t,e)},Qo.prototype.getPointByCanvas=function(t,e){return this.get(\"viewController\").getPointByCanvas(t,e)},Qo.prototype.getCanvasByPoint=function(t,e){return this.get(\"viewController\").getCanvasByPoint(t,e)},Qo.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get(\"itemController\").changeItemVisibility(t,!0);if(e&&this.get(\"enabledStack\")){var r=n.getID(),i={},o={};switch(n.getType()){case\"node\":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case\"edge\":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case\"combo\":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack(\"visible\",{before:i,after:o})}},Qo.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get(\"itemController\").changeItemVisibility(t,!1);if(e&&this.get(\"enabledStack\")){var r=n.getID(),i={},o={};switch(n.getType()){case\"node\":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case\"edge\":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case\"combo\":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack(\"visible\",{before:i,after:o})}},Qo.prototype.refreshItem=function(t){this.get(\"itemController\").refreshItem(t)},Qo.prototype.setAutoPaint=function(t){this.set(\"autoPaint\",t),this.get(\"canvas\").set(\"autoDraw\",t)},Qo.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},Qo.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if(Object(ot.isString)(t)&&(n=this.findById(t)),!n&&Object(ot.isString)(t))console.warn(\"The item to be removed does not exist!\"),this.get(\"customGroupControll\").remove(t);else if(n){var r,i=\"\";if(n.getType&&(i=n.getType()),e&&this.get(\"enabledStack\")){var o=Object(L.__assign)(Object(L.__assign)({},n.getModel()),{itemType:i}),a={};switch(i){case\"node\":a.nodes=[o],a.edges=[];for(var s=n.getEdges(),u=s.length-1;0<=u;u--)a.edges.push(Object(L.__assign)(Object(L.__assign)({},s[u].getModel()),{itemType:\"edge\"}));break;case\"edge\":a.edges=[o];break;case\"combo\":a.combos=[o]}this.pushStack(\"delete\",{before:a,after:{}})}this.get(\"itemController\").removeItem(t),\"combo\"===i&&(r=Sn(this.get(\"comboTrees\")),this.set(\"comboTrees\",r))}},Qo.prototype.addItem=function(r,i,t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n=this.get(\"comboSorted\");this.set(\"comboSorted\",n&&!e);var o=this.get(\"itemController\");if(\"group\"===r){var a=i.groupId,s=i.nodes,u=i.type,c=i.zIndex,h=i.title,l=h;return Object(ot.isString)(h)&&(l={text:h}),this.get(\"customGroupControll\").create(a,s,u,c,!0,l)}if(!i.id||!this.findById(i.id)){var f,d,p=(p=this.get(\"comboTrees\"))||[];if(\"combo\"===r){var g,v=this.get(\"itemMap\"),y=!1;p.forEach(function(t){y||mn(t,function(t){var e;i.parentId===t.id&&(y=!0,e=Object(L.__assign)({id:i.id,depth:t.depth+2},i),t.children?t.children.push(e):t.children=[e],i.depth=e.depth,f=o.addItem(r,i));var n=v[t.id];return y&&n&&n.getType&&\"combo\"===n.getType()&&o.updateCombo(n,t.children),!0})}),y||(g=Object(L.__assign)({id:i.id,depth:0},i),i.depth=g.depth,p.push(g),f=o.addItem(r,i)),this.set(\"comboTrees\",p)}else if(\"node\"===r&&Object(ot.isString)(i.comboId)&&p){if((d=this.findById(i.comboId))&&d.getType&&\"combo\"!==d.getType())return void console.warn(\"'\"+i.comboId+\"' is a not id of a combo in the graph, the node will be added without combo.\");f=o.addItem(r,i);var m=this.get(\"itemMap\"),b=!1,x=!1;(p||[]).forEach(function(t){x||b||mn(t,function(t){return t.id===i.id?!(x=!0):(i.comboId!==t.id||x||(b=!0,(e=Object(ot.clone)(i)).itemType=\"node\",t.children?t.children.push(e):t.children=[e],i.depth=t.depth+1),b&&m[t.id].getType&&\"combo\"===m[t.id].getType()&&o.updateCombo(m[t.id],t.children),!0);var e})})}else f=o.addItem(r,i);(\"node\"===r&&i.comboId||\"combo\"===r&&i.parentId)&&(d=this.findById(i.comboId||i.parentId))&&d.addChild(f);var w=this.get(\"combos\");if(w&&0<w.length&&this.sortCombos(),this.autoPaint(),t&&this.get(\"enabledStack\")){var M=Object(L.__assign)(Object(L.__assign)({},f.getModel()),{itemType:r}),S={};switch(r){case\"node\":S.nodes=[M];break;case\"edge\":S.edges=[M];break;case\"combo\":S.combos=[M]}this.pushStack(\"add\",{before:{},after:S})}return f}console.warn(\"This item exists already. Be sure the id is unique.\")},Qo.prototype.add=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(t,e,n,r)},Qo.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.get(\"itemController\"),o=Object(ot.isString)(t)?this.findById(t):t,a=Object(ot.clone)(o.getModel()),s=\"\";o.getType&&(s=o.getType());var u=Object(L.__spreadArrays)(o.getStates());if(\"combo\"===s&&Object(ot.each)(u,function(t){return r.setItemState(o,t,!1)}),i.updateItem(o,e),\"combo\"===s&&Object(ot.each)(u,function(t){return r.setItemState(o,t,!0)}),n&&this.get(\"enabledStack\")){var c={nodes:[],edges:[],combos:[]},h={nodes:[],edges:[],combos:[]},l=Object(L.__assign)({id:a.id},e);switch(s){case\"node\":c.nodes.push(a),h.nodes.push(l);break;case\"edge\":c.edges.push(a),h.edges.push(l);break;case\"combo\":c.combos.push(a),h.combos.push(l)}\"node\"===s&&c.nodes.push(a),this.pushStack(\"update\",{before:c,after:h})}},Qo.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},Qo.prototype.setItemState=function(t,e,n){Object(ot.isString)(t)&&(t=this.findById(t)),this.get(\"itemController\").setItemState(t,e,n);var r=this.get(\"stateController\");Object(ot.isString)(n)?r.updateState(t,e+\":\"+n,!0):r.updateState(t,e,n)},Qo.prototype.priorityState=function(t,e){this.get(\"itemController\").priorityState(t,e)},Qo.prototype.data=function(t){this.set(\"data\",t)},Qo.prototype.render=function(){var e=this;this.set(\"comboSorted\",!1);var t=this.get(\"data\");if(this.get(\"enabledStack\")&&this.clearStack(),!t)throw new Error(\"data must be defined first\");var n,r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o,s=t.combos,u=void 0===s?[]:s;this.clear(),this.emit(\"beforerender\"),Object(ot.each)(i,function(t){e.add(\"node\",t,!1,!1)}),u&&0!==u.length&&(n=Mn(u,i),this.set(\"comboTrees\",n),e.addCombos(u)),Object(ot.each)(a,function(t){e.add(\"edge\",t,!1,!1)});var c,h=e.get(\"animate\");function l(){e.get(\"fitView\")?e.fitView():e.get(\"fitCenter\")&&e.fitCenter(),e.autoPaint(),e.emit(\"afterrender\"),(e.get(\"fitView\")||e.get(\"fitCenter\"))&&e.set(\"animate\",h)}(e.get(\"fitView\")||e.get(\"fitCenter\"))&&e.set(\"animate\",!1),e.get(\"layoutController\").layout(l)||l(),this.get(\"groupByTypes\")||(u&&0!==u.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach(function(t){t.toFront()}):this.getEdges().forEach(function(t){t.toBack()})),t.nodes&&0<t.nodes.filter(function(t){return t.groupId}).length&&(c=e.get(\"groupType\"),this.renderCustomGroup(t,c)),this.get(\"enabledStack\")&&this.pushStack(\"render\")},Qo.prototype.read=function(t){this.data(t),this.render()},Qo.prototype.diffItems=function(n,r,t){var i,o=this,a=this.get(\"itemMap\");Object(ot.each)(t,function(t){var e;(i=a[t.id])?(o.get(\"animate\")&&\"node\"===n&&(e=(e=i.getContainer().getMatrix())||[1,0,0,0,1,0,0,0,1],i.set(\"originAttrs\",{x:e[6],y:e[7]})),o.updateItem(i,t,!1)):i=o.addItem(n,t,!1),r[n+\"s\"].push(i)})},Qo.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;if(!t)return this;e&&this.get(\"enabledStack\")&&this.pushStack(\"changedata\",{before:n.save(),after:t}),this.set(\"comboSorted\",!1),this.getNodes().map(function(t){return n.clearItemStates(t)}),this.getEdges().map(function(t){return n.clearItemStates(t)});var r=this.get(\"canvas\"),i=r.get(\"localRefresh\");r.set(\"localRefresh\",!1),n.get(\"data\")||(n.data(t),n.render());var o,a=this.get(\"itemMap\"),s={nodes:[],edges:[]},u=t.combos;u&&(o=Mn(u,t.nodes),this.set(\"comboTrees\",o)),this.diffItems(\"node\",s,t.nodes),Object(ot.each)(a,function(t,e){a[e].getModel().depth=0,t.getType&&\"edge\"===t.getType()||(t.getType&&\"combo\"===t.getType()?(delete a[e],t.destroy()):s.nodes.indexOf(t)<0&&(delete a[e],n.remove(t,!1)))});for(var c=this.getCombos(),h=c.length-1;0<=h;h--)c[h].destroyed&&c.splice(h,1);u&&(n.addCombos(u),this.get(\"groupByTypes\")||this.sortCombos()),this.diffItems(\"edge\",s,t.edges),Object(ot.each)(a,function(t,e){(!t.getType||\"node\"!==t.getType()&&\"combo\"!==t.getType())&&s.edges.indexOf(t)<0&&(delete a[e],n.remove(t,!1))}),this.set({nodes:s.nodes,edges:s.edges});var l=this.get(\"layoutController\");return l.changeData(),n.get(\"animate\")&&!l.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){r.set(\"localRefresh\",i)},16),this},Qo.prototype.addCombos=function(t){var e=this.get(\"comboTrees\");this.get(\"itemController\").addCombos(e,t)},Qo.prototype.createCombo=function(t,e){var i=this;this.set(\"comboSorted\",!1);var n,o=\"\";if(t){if(Object(ot.isString)(t))n={id:o=t};else{if(!(o=t.id))return void console.warn(\"Create combo failed. Please assign a unique string id for the adding combo.\");n=t}var r=e.map(function(t){var e=i.findById(t),n=\"\";e.getType&&(n=e.getType());var r={id:e.getID(),itemType:n};return\"combo\"===n?r.parentId=o:\"node\"===n&&(r.comboId=o),r});n.children=r,this.addItem(\"combo\",n,!1),this.set(\"comboSorted\",!1);var a=this.get(\"comboTrees\");(a||[]).forEach(function(t){mn(t,function(t){return t.id!==o||(t.itemType=\"combo\",t.children=r,!1)})}),a&&this.sortCombos()}},Qo.prototype.uncombo=function(r){var t,i,e,o,a,s,u,c,h,n,l=this,f=r;Object(ot.isString)(r)&&(f=this.findById(r)),!f||f.getType&&\"combo\"!==f.getType()?console.warn(\"The item is not a combo!\"):(i=f.getModel().parentId,e=(e=this.get(\"comboTrees\"))||[],a=this.get(\"itemMap\"),s=f.get(\"id\"),u=[],c=this.get(\"combos\"),h=this.findById(i),e.forEach(function(t){o||mn(t,function(t){var e,n;return t.id===s&&(o=t,f.getEdges().forEach(function(t){l.removeItem(t,!1)}),n=c.indexOf(r),c.splice(n,1),delete a[s],f.destroy()),!i||!o||t.id!==i||(h.removeCombo(f),-1!==(n=(u=t.children).indexOf(o))&&u.splice(n,1),null===(e=o.children)||void 0===e||e.forEach(function(t){var e=l.findById(t.id),n=e.getModel();e.getType&&\"combo\"===e.getType()?(t.parentId=i,delete t.comboId,n.parentId=i,delete n.comboId):e.getType&&\"node\"===e.getType()&&(t.comboId=i,n.comboId=i),h.addChild(e),u.push(t)}),!1)})}),!i&&o&&(n=e.indexOf(o),e.splice(n,1),null===(t=o.children)||void 0===t||t.forEach(function(t){t.parentId=void 0,l.findById(t.id).getModel().parentId=void 0,\"node\"!==t.itemType&&e.push(t)})))},Qo.prototype.updateCombos=function(){var r=this,t=this.get(\"comboTrees\"),i=this.get(\"itemController\"),o=this.get(\"itemMap\");(t||[]).forEach(function(t){mn(t,function(t){if(!t)return!0;var e,n=o[t.id];return n&&n.getType&&\"combo\"===n.getType()&&(e=Object(L.__spreadArrays)(n.getStates()),Object(ot.each)(e,function(t){return r.setItemState(n,t,!1)}),i.updateCombo(n,t.children),Object(ot.each)(e,function(t){return r.setItemState(n,t,!0)})),!0})}),this.sortCombos()},Qo.prototype.updateCombo=function(t){var r,e,i,o,a=this,n=t;Object(ot.isString)(t)&&(n=this.findById(t)),!n||n.getType&&\"combo\"!==n.getType()?console.warn(\"The item to be updated is not a combo!\"):(r=n.get(\"id\"),e=this.get(\"comboTrees\"),i=this.get(\"itemController\"),o=this.get(\"itemMap\"),(e||[]).forEach(function(t){mn(t,function(t){if(!t)return!0;var e,n=o[t.id];return r===t.id&&n&&n.getType&&\"combo\"===n.getType()&&(e=Object(L.__spreadArrays)(n.getStates()),Object(ot.each)(e,function(t){n.getStateStyle(t)&&a.setItemState(n,t,!1)}),i.updateCombo(n,t.children),Object(ot.each)(e,function(t){n.getStateStyle(t)&&a.setItemState(n,t,!0)}),r=r&&t.parentId),!0})}))},Qo.prototype.updateComboTree=function(t,e){var n;this.set(\"comboSorted\",!1);var r,i=(n=Object(ot.isString)(t)?this.findById(t):t).getModel(),o=i.comboId||i.parentId;if(e&&n.getType&&\"combo\"===n.getType()){var a,s=this.get(\"comboTrees\"),u=!0;if((s||[]).forEach(function(t){a||yn(t,function(t){if(!a)return t.id===n.getID()&&(a=t),!0})}),yn(a,function(t){return t.id!==e||(u=!1)}),!u)return void console.warn(\"Failed to update the combo tree! The parentId points to a descendant of the combo!\")}!i.parentId&&!i.comboId||(r=this.findById(i.parentId||i.comboId))&&r.removeChild(n);var c,h=\"\";n.getType&&(h=n.getType()),\"combo\"===h?i.parentId=e:\"node\"===h&&(i.comboId=e),e&&(c=this.findById(e))&&c.addChild(n),o&&(c=this.findById(o))&&c.removeChild(n);var l=Sn(this.get(\"comboTrees\"),i.id,e);this.set(\"comboTrees\",l),this.updateCombos()},Qo.prototype.renderCustomGroup=function(t,n){var r,e,i,o,a=this,s=t.groups,u=t.nodes,c=void 0===u?[]:u,h=10;s?(this.set({groups:s}),r=function(u){var t,e,n,r,i=Ee()(u.groups,\"id\"),o=Ee()(u.groups,\"parentId\"),a={};for(t in o){t&&(e=o[t],(n=i[t])&&e?(r=Object(L.__spreadArrays)(e,n),a[t]=r):e&&(a[t]=e))}var c=Object(L.__assign)(Object(L.__assign)({},i),a),h={};for(s in c)s&&\"undefined\"!==s&&(e=c[s].map(function(t){return t.id}),h[s]=e);var s,l={};for(s in h)!function(t){if(!t||\"undefined\"===t)return;for(var e=h[t],n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=c[o].map(function(t){return t.id});n.push.apply(n,a)}var s=u.nodes?u.nodes.filter(function(t){return-1<n.indexOf(t.groupId)||-1<n.indexOf(t.parentId)}).map(function(t){return t.id}):[];l[t]=s}(s);return l}(t),Object.keys(r).forEach(function(t){var e=r[t];a.get(\"customGroupControll\").create(t,e,n,h),h--}),this.get(\"customGroup\").sort()):(e=c.filter(function(t){return t.groupId}),i=[],o=Object(ot.groupBy)(e,\"groupId\"),Object.keys(o).forEach(function(e){var t=o[e].map(function(t){return t.id});a.get(\"customGroupControll\").create(e,t,n,h),h--,i.find(function(t){return t.id===e})||i.push({id:e})}),this.set({groups:i}))},Qo.prototype.save=function(){var e=[],n=[],r=[];return Object(ot.each)(this.get(\"nodes\"),function(t){e.push(t.getModel())}),Object(ot.each)(this.get(\"edges\"),function(t){n.push(t.getModel())}),Object(ot.each)(this.get(\"combos\"),function(t){r.push(t.getModel())}),{nodes:e,edges:n,combos:r,groups:this.get(\"groups\")}},Qo.prototype.changeSize=function(t,e){return this.get(\"viewController\").changeSize(t,e),this},Qo.prototype.refresh=function(){var t,e,n;this.emit(\"beforegraphrefresh\"),this.get(\"animate\")?this.positionsAnimate():(t=this.get(\"nodes\"),e=this.get(\"edges\"),n=this.get(\"edges\"),Object(ot.each)(t,function(t){t.refresh()}),Object(ot.each)(e,function(t){t.refresh()}),Object(ot.each)(n,function(t){t.refresh()})),this.emit(\"aftergraphrefresh\"),this.autoPaint()},Qo.prototype.getNodes=function(){return this.get(\"nodes\")},Qo.prototype.getEdges=function(){return this.get(\"edges\")},Qo.prototype.getCombos=function(){return this.get(\"combos\")},Qo.prototype.getComboChildren=function(t){if(Object(ot.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||\"combo\"===t.getType()))return t.getChildren();console.warn(\"The combo does not exist!\")},Qo.prototype.positionsAnimate=function(){var s=this;s.emit(\"beforeanimate\");var t=s.get(\"animateCfg\"),u=t.onFrame,e=s.getNodes(),n=e.map(function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}});s.isAnimating()&&s.stopAnimate(),s.get(\"canvas\").animate(function(a){Object(ot.each)(n,function(t){var e,n,r,i,o=s.findById(t.id);o&&!o.destroyed&&(r=o.get(\"originAttrs\"),e=o.get(\"model\"),r||(r={x:(n=(n=o.getContainer().getMatrix())||[1,0,0,0,1,0,0,0,1])[6],y:n[7]},o.set(\"originAttrs\",r)),u?(i=u(o,a,t,r),o.set(\"model\",Object.assign(e,i))):(e.x=r.x+(t.x-r.x)*a,e.y=r.y+(t.y-r.y)*a))}),s.refreshPositions()},{duration:t.duration,easing:t.easing,callback:function(){Object(ot.each)(e,function(t){t.set(\"originAttrs\",null)}),t.callback&&t.callback(),s.emit(\"afteranimate\"),s.animating=!1}})},Qo.prototype.refreshPositions=function(){this.emit(\"beforegraphrefreshposition\");var n,t=this.get(\"nodes\"),e=this.get(\"edges\"),r=this.get(\"vedges\"),i=this.get(\"combos\"),o={};Object(ot.each)(t,function(t){n=t.getModel();var e=t.get(\"originAttrs\");e&&n.x===e.x&&n.y===e.y||(t.updatePosition({x:n.x,y:n.y}),o[n.id]=!0,n.comboId&&(o[n.comboId]=!0))}),i&&0!==i.length&&this.updateCombos(),Object(ot.each)(e,function(t){var e=t.getSource().getModel(),n=t.getTarget().getModel();(o[e.id]||o[n.id]||t.getModel().isComboEdge)&&t.refresh()}),Object(ot.each)(r,function(t){t.refresh()}),this.emit(\"aftergraphrefreshposition\"),this.autoPaint()},Qo.prototype.stopAnimate=function(){this.get(\"canvas\").stopAnimate()},Qo.prototype.isAnimating=function(){return this.animating},Qo.prototype.getZoom=function(){var t=this.get(\"group\").getMatrix();return t?t[0]:1},Qo.prototype.getCurrentMode=function(){return this.get(\"modeController\").getMode()},Qo.prototype.setMode=function(t){return this.get(\"modeController\").setMode(t),this},Qo.prototype.clear=function(){return this.get(\"canvas\").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit(\"afterrender\"),this},Qo.prototype.toDataURL=function(t,e){var n=this.get(\"canvas\"),r=n.getRenderer(),i=n.get(\"el\");t=t||\"image/png\";var o,a,s,u,c,h,l,f,d,p,g=\"\";return\"svg\"===r?(o=i.cloneNode(!0),a=document.implementation.createDocumentType(\"svg\",\"-//W3C//DTD SVG 1.1//EN\",\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"),(s=document.implementation.createDocument(\"http://www.w3.org/2000/svg\",\"svg\",a)).replaceChild(o,s.documentElement),u=(new XMLSerializer).serializeToString(s),g=\"data:image/svg+xml;charset=utf8,\"+encodeURIComponent(u)):(d=void 0,c=i.getContext(\"2d\"),h=this.get(\"width\"),l=this.get(\"height\"),p=void 0,e&&(f=window.devicePixelRatio,d=c.getImageData(0,0,h*f,l*f),p=c.globalCompositeOperation,c.globalCompositeOperation=\"destination-over\",c.fillStyle=e,c.fillRect(0,0,h,l)),g=i.toDataURL(t),e&&(c.clearRect(0,0,h,l),c.putImageData(d,0,0),c.globalCompositeOperation=p)),g},Qo.prototype.toFullDataURL=function(u,c,t){var e=this.get(\"group\").getCanvasBBox(),n=e.height,r=e.width,h=this.get(\"renderer\"),i=ht()('<id=\"virtual-image\"></div>'),l=t?t.backgroundColor:void 0,o=t?t.padding:void 0;o?Object(ot.isNumber)(o)&&(o=[o,o,o,o]):o=[0,0,0,0];var f=n+o[0]+o[2],d=r+o[1]+o[3],a={container:i,height:f,width:d,quickHit:!0},s=\"svg\"===h?new Oe.a(a):new Se.a(a),p=this.get(\"group\").clone(),g=(g=Object(ot.clone)(p.getMatrix()))||[1,0,0,0,1,0,0,0,1],v=(e.maxX+e.minX)/2,y=(e.maxY+e.minY)/2;Ce.mat3.translate(g,g,[-v,-y]),Ce.mat3.translate(g,g,[r/2+o[3],n/2+o[0]]),p.resetMatrix(),p.setMatrix(g),s.add(p);var m=s.get(\"el\"),b=\"\";c=c||\"image/png\",setTimeout(function(){var t,e,n,r,i,o,a,s;\"svg\"===h?(t=m.cloneNode(!0),e=document.implementation.createDocumentType(\"svg\",\"-//W3C//DTD SVG 1.1//EN\",\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"),(n=document.implementation.createDocument(\"http://www.w3.org/2000/svg\",\"svg\",e)).replaceChild(t,n.documentElement),r=(new XMLSerializer).serializeToString(n),b=\"data:image/svg+xml;charset=utf8,\"+encodeURIComponent(r)):(a=void 0,i=m.getContext(\"2d\"),s=void 0,l&&(o=window.devicePixelRatio,a=i.getImageData(0,0,d*o,f*o),s=i.globalCompositeOperation,i.globalCompositeOperation=\"destination-over\",i.fillStyle=l,i.fillRect(0,0,d,f)),b=m.toDataURL(c),l&&(i.clearRect(0,0,d,f),i.putImageData(a,0,0),i.globalCompositeOperation=s)),null==u||u(b)},16)},Qo.prototype.downloadFullImage=function(f,d,t){var p=this,e=this.get(\"group\").getCanvasBBox(),n=e.height,r=e.width,g=this.get(\"renderer\"),i=ht()('<id=\"virtual-image\"></div>'),v=t?t.backgroundColor:void 0,o=t?t.padding:void 0;o?Object(ot.isNumber)(o)&&(o=[o,o,o,o]):o=[0,0,0,0];var y=n+o[0]+o[2],m=r+o[1]+o[3],a={container:i,height:y,width:m},s=\"svg\"===g?new Oe.a(a):new Se.a(a),u=this.get(\"group\").clone(),c=(c=Object(ot.clone)(u.getMatrix()))||[1,0,0,0,1,0,0,0,1],h=(e.maxX+e.minX)/2,l=(e.maxY+e.minY)/2;Ce.mat3.translate(c,c,[-h,-l]),Ce.mat3.translate(c,c,[r/2+o[3],n/2+o[0]]),u.resetMatrix(),u.setMatrix(c),s.add(u);var b=s.get(\"el\");d=d||\"image/png\",setTimeout(function(){var t,e,n,r,i,o,a,s,u=\"\";\"svg\"===g?(t=b.cloneNode(!0),e=document.implementation.createDocumentType(\"svg\",\"-//W3C//DTD SVG 1.1//EN\",\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"),(n=document.implementation.createDocument(\"http://www.w3.org/2000/svg\",\"svg\",e)).replaceChild(t,n.documentElement),r=(new XMLSerializer).serializeToString(n),u=\"data:image/svg+xml;charset=utf8,\"+encodeURIComponent(r)):(a=void 0,i=b.getContext(\"2d\"),s=void 0,v&&(o=window.devicePixelRatio,a=i.getImageData(0,0,m*o,y*o),s=i.globalCompositeOperation,i.globalCompositeOperation=\"destination-over\",i.fillStyle=v,i.fillRect(0,0,m,y)),u=b.toDataURL(d),v&&(i.clearRect(0,0,m,y),i.putImageData(a,0,0),i.globalCompositeOperation=s));var c=document.createElement(\"a\"),h=(f||\"graph\")+(\"svg\"===g?\".svg\":\".\"+d.split(\"/\")[1]);p.dataURLToImage(u,g,c,h);var l=document.createEvent(\"MouseEvents\");l.initEvent(\"click\",!1,!1),c.dispatchEvent(l)},16)},Qo.prototype.downloadImage=function(t,n,r){var i=this,o=this;o.isAnimating()&&o.stopAnimate();var a=o.get(\"canvas\").getRenderer();n=n||\"image/png\";var s=(t||\"graph\")+(\"svg\"===a?\".svg\":n.split(\"/\")[1]),u=document.createElement(\"a\");setTimeout(function(){var t=o.toDataURL(n,r);i.dataURLToImage(t,a,u,s);var e=document.createEvent(\"MouseEvents\");e.initEvent(\"click\",!1,!1),u.dispatchEvent(e)},16)},Qo.prototype.dataURLToImage=function(t,e,n,r){if(\"undefined\"!=typeof window)if(window.Blob&&window.URL&&\"svg\"!==e){var i,o=t.split(\",\"),a=\"\";o&&0<o.length&&((i=o[0].match(/:(.*?);/))&&2<=i.length&&(a=i[1]));for(var s=atob(o[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var h=new Blob([c],{type:a});window.navigator.msSaveBlob?window.navigator.msSaveBlob(h,r):n.addEventListener(\"click\",function(){n.download=r,n.href=window.URL.createObjectURL(h)})}else n.addEventListener(\"click\",function(){n.download=r,n.href=t})},Qo.prototype.updateLayout=function(t){var e,n=this.get(\"layoutController\");Object(ot.isString)(t)?t={type:e=t}:e=t.type;var r,i=this.get(\"layout\"),o=i?i.type:void 0;e&&o!==e?(this.set(\"layout\",t),n.changeLayout(e)):(r={},Object.assign(r,i,t),r.type=o||\"random\",this.set(\"layout\",r),n.updateLayoutCfg(r))},Qo.prototype.layout=function(){var t=this.get(\"layoutController\"),e=this.get(\"layout\");e&&(!e.workerEnabled&&t.layoutMethod?t.relayout(!0):t.layout())},Qo.prototype.collapseCombo=function(t){var c,e,h,l,n,r,i,f,d,p=this;Object(ot.isString)(t)&&(t=this.findById(t)),t?(c=t.getModel(),this.get(\"itemController\").collapseCombo(t),c.collapsed=!0,e=this.getEdges().concat(this.get(\"vedges\")),h=[],l=[],n=this.get(\"comboTrees\"),r=!1,i={},(n||[]).forEach(function(t){i[t.id]=t}),(n||[]).forEach(function(t){r||yn(t,function(t){return(!r||!i[t.id])&&(c.parentId===t.id?(i={},t.children.forEach(function(t){i[t.id]=t})):c.id===t.id&&(r=!0),r&&(e=p.findById(t.id))&&e.getType&&\"combo\"===e.getType()&&(h=h.concat(e.getNodes()),l=l.concat(e.getCombos())),!0);var e})}),f={},d=[],e.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var e,n=t.getSource(),r=t.getTarget();if((h.includes(n)||l.includes(n))&&!h.includes(r)&&!l.includes(r)||n.getModel().id===c.id){if((e=t.getModel()).isVEdge)return void p.removeItem(t,!1);for(var i=r.getModel();!r.isVisible();){if(!(r=p.findById(i.parentId||i.comboId))||!i.parentId&&!i.comboId)return;i=r.getModel()}var o=i.id;if(f[c.id+\"-\"+o])return void(f[c.id+\"-\"+o]+=e.size||1);var a=p.addItem(\"vedge\",{source:c.id,target:o,isVEdge:!0},!1);f[c.id+\"-\"+o]=e.size||1,d.push(a)}else if(!h.includes(n)&&!l.includes(n)&&(h.includes(r)||l.includes(r))||r.getModel().id===c.id){if((e=t.getModel()).isVEdge)return void p.removeItem(t,!1);for(var s=n.getModel();!n.isVisible();){if(!(n=p.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=n.getModel()}var u=s.id;if(f[u+\"-\"+c.id])return void(f[u+\"-\"+c.id]+=e.size||1);a=p.addItem(\"vedge\",{target:c.id,source:u,isVEdge:!0},!1),f[u+\"-\"+c.id]=e.size||1,d.push(a)}}}),d.forEach(function(t){var e=t.getModel();p.updateItem(t,{size:f[e.source+\"-\"+e.target]},!1)})):console.warn(\"The combo to be collapsed does not exist!\")},Qo.prototype.expandCombo=function(t){var c,e,h,l,n,r,i,f,d,p=this;Object(ot.isString)(t)&&(t=this.findById(t)),!t||t.getType&&\"combo\"!==t.getType()?console.warn(\"The combo to be collapsed does not exist!\"):(c=t.getModel(),this.get(\"itemController\").expandCombo(t),c.collapsed=!1,e=this.getEdges().concat(this.get(\"vedges\")),h=[],l=[],n=this.get(\"comboTrees\"),r=!1,i={},(n||[]).forEach(function(t){i[t.id]=t}),(n||[]).forEach(function(t){r||yn(t,function(t){return(!r||!i[t.id])&&(c.parentId===t.id?(i={},t.children.forEach(function(t){i[t.id]=t})):c.id===t.id&&(r=!0),r&&(e=p.findById(t.id))&&e.getType&&\"combo\"===e.getType()&&(h=h.concat(e.getNodes()),l=l.concat(e.getCombos())),!0);var e})}),f={},d={},e.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var e,n=t.getSource(),r=t.getTarget(),i=n.get(\"id\"),o=r.get(\"id\");if((h.includes(n)||l.includes(n))&&!h.includes(r)&&!l.includes(r)||i===c.id){if(t.getModel().isVEdge)return void p.removeItem(t,!1);for(var a=r.getModel();!r.isVisible();){if(!(r=p.findById(a.comboId||a.parentId))||!a.parentId&&!a.comboId)return;a=r.getModel()}o=a.id;for(var s=n.getModel();!n.isVisible();){if(!(n=p.findById(s.comboId||s.parentId))||!s.parentId&&!s.comboId)return;if(s.comboId===c.id||s.parentId===c.id)break;s=n.getModel()}if(i=s.id,o){if(f[e=i+\"-\"+o])return f[e]+=t.getModel().size||1,void p.updateItem(d[e],{size:f[e]},!1);var u=p.addItem(\"vedge\",{source:i,target:o,isVEdge:!0},!1);f[e]=t.getModel().size||1,d[e]=u}}else if(!h.includes(n)&&!l.includes(n)&&(h.includes(r)||l.includes(r))||o===c.id){if(t.getModel().isVEdge)return void p.removeItem(t,!1);for(s=n.getModel();!n.isVisible();){if(!(n=p.findById(s.comboId||s.parentId))||!s.parentId&&!s.comboId)return;s=n.getModel()}for(i=s.id,a=r.getModel();!r.isVisible();){if(!(r=p.findById(a.comboId||a.parentId))||!a.parentId&&!a.comboId)return;if(a.comboId===c.id||a.parentId===c.id)break;a=r.getModel()}if(o=a.id,i){if(f[e=i+\"-\"+o])return f[e]+=t.getModel().size||1,void p.updateItem(d[e],{size:f[e]},!1);u=p.addItem(\"vedge\",{target:o,source:i,isVEdge:!0},!1),f[e]=t.getModel().size||1,d[e]=u}}else(h.includes(n)||l.includes(n))&&(h.includes(r)||l.includes(r))&&n.isVisible()&&r.isVisible()&&t.show()}}))},Qo.prototype.collapseExpandCombo=function(t){if(Object(ot.isString)(t)&&(t=this.findById(t)),!t.getType||\"combo\"===t.getType()){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var r=n.getModel();if(r.collapsed)return void console.warn(\"Fail to expand the combo since it's ancestor combo is collapsed.\");n=this.findById(r.parentId)}e.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},Qo.prototype.collapseGroup=function(t){this.get(\"customGroupControll\").collapseGroup(t)},Qo.prototype.expandGroup=function(t){this.get(\"customGroupControll\").expandGroup(t)},Qo.prototype.addPlugin=function(t){t.destroyed||(this.get(\"plugins\").push(t),t.initPlugin(this))},Qo.prototype.removePlugin=function(t){var e=this.get(\"plugins\"),n=e.indexOf(t);0<=n&&(t.destroyPlugin(),e.splice(n,1))},Qo.prototype.sortCombos=function(){var o,a,r=this;this.get(\"comboSorted\")||(this.set(\"comboSorted\",!0),o=[],a={},(this.get(\"comboTrees\")||[]).forEach(function(t){yn(t,function(t){return o[t.depth]?o[t.depth].push(t.id):o[t.depth]=[t.id],a[t.id]=t.depth,!0})}),(this.getEdges().concat(this.get(\"vedges\"))||[]).forEach(function(t){var e=t.getModel(),n=a[e.source]||0,r=a[e.target]||0,i=Math.max(n,r);o[i]?o[i].push(e.id):o[i]=[e.id]}),o.forEach(function(t){if(t&&t.length)for(var e=t.length-1;0<=e;e--){var n=r.findById(t[e]);null==n||n.toFront()}}))},Qo.prototype.getNeighbors=function(t,e){var n=t;return Object(ot.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},Qo.prototype.getNodeDegree=function(t,e){void 0===e&&(e=void 0);var n=t;Object(ot.isString)(t)&&(n=this.findById(t));var r=(r=this.get(\"degrees\"))||Mo(this);this.set(\"degees\",r);var i,o=r[n.getID()];switch(e){case\"in\":i=o.inDegree;break;case\"out\":i=o.outDegree;break;case\"all\":i=o;break;default:i=o.degree}return i},Qo.prototype.getUndoStack=function(){return this.undoStack},Qo.prototype.getRedoStack=function(){return this.redoStack},Qo.prototype.getStackData=function(){return this.get(\"enabledStack\")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},Qo.prototype.clearStack=function(){this.get(\"enabledStack\")&&(this.undoStack.clear(),this.redoStack.clear())},Qo.prototype.pushStack=function(t,e,n){var r;void 0===t&&(t=\"update\"),void 0===n&&(n=\"undo\"),this.get(\"enabledStack\")?(r=e?Object(ot.clone)(e):{before:{},after:Object(ot.clone)(this.save())},\"redo\"===n?this.redoStack.push({action:t,data:r}):this.undoStack.push({action:t,data:r}),this.emit(\"stackchange\",{undoStack:this.undoStack,redoStack:this.redoStack})):console.warn(\"请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !\")},Qo.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get(\"directed\"));var n=this.get(\"adjMatrix\");return n&&t||(n=ko(this,e),this.set(\"adjMatrix\",n)),n},Qo.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get(\"directed\"));var n=this.get(\"adjMatrix\"),r=this.get(\"shortestPathMatrix\");return n&&t||(n=ko(this,e),this.set(\"adjMatrix\",n)),r&&t||(r=Eo(this,e),this.set(\"shortestPathMatrix\",r)),r},Qo.prototype.destroy=function(){this.clear(),this.clearStack(),Object(ot.each)(this.get(\"plugins\"),function(t){t.destroyPlugin()});var t=this.get(\"tooltips\");if(t)for(var e=0;e<t.length;e++){var n,r=t[e];!r||(n=r.parentElement)&&n.removeChild(r)}this.get(\"eventController\").destroy(),this.get(\"itemController\").destroy(),this.get(\"modeController\").destroy(),this.get(\"viewController\").destroy(),this.get(\"stateController\").destroy(),this.get(\"layoutController\").destroy(),this.get(\"customGroupControll\").destroy(),this.get(\"canvas\").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},Qo.prototype.createHull=function(t){var e=this.get(\"hullGroup\"),n=this.get(\"hullMap\");if(n||(n={},this.set(\"hullMap\",n)),e||((e=this.get(\"group\").addGroup({id:\"hullGroup\"})).toBack(),this.set(\"hullGroup\",e)),n[t.id])return console.warn(\"Existed hull id.\"),n[t.id];var r=e.addGroup({id:t.id+\"-container\"}),i=new Xo(this,Object(L.__assign)(Object(L.__assign)({},t),{group:r}));return n[i.id]=i},Qo.prototype.getHulls=function(){return this.get(\"hullMap\")},Qo.prototype.getHullById=function(t){return this.get(\"hullMap\")[t]},Qo.prototype.removeHull=function(t){var e=Object(ot.isString)(t)?this.getHullById(t):t;delete this.get(\"hullMap\")[e.id],e.destroy()},Qo),Vo=n(153),qo=n.n(Vo),Ho=(Yo=Go,Object(L.__extends)(Ko,Yo),Ko.prototype.getLayout=function(){var n=this.get(\"layout\");return n?\"function\"==typeof n?n:(n.type||(n.type=\"dendrogram\"),n.direction||(n.direction=\"TB\"),n.radial?function(t){var e=qo.a[n.type](t,n);return bn(e),e}:function(t){return qo.a[n.type](t,n)}):null},Ko.indexOfChild=function(t,n){var r=-1;return Object(y.each)(t,function(t,e){if(n===t.id)return r=e,!1}),r},Ko.prototype.getDefaultCfg=function(){var t=Yo.prototype.getDefaultCfg.call(this);return t.animate=!0,t},Ko.prototype.innerAddChild=function(t,e,n){var r=this,i=t.data;i&&(i.x=t.x,i.y=t.y,i.depth=t.depth);var o,a,s,u=r.addItem(\"node\",i,!1);return e&&(u.set(\"parent\",e),n&&((o=e.get(\"originAttrs\"))?u.set(\"originAttrs\",o):(a=e.getModel(),u.set(\"originAttrs\",{x:a.x,y:a.y}))),(s=e.get(\"children\"))?s.push(u):e.set(\"children\",[u]),r.addItem(\"edge\",{source:e,target:u,id:e.get(\"id\")+\":\"+u.get(\"id\")},!1)),Object(y.each)(t.children||[],function(t){r.innerAddChild(t,u,n)}),r.emit(\"afteraddchild\",{item:u,parent:e}),u},Ko.prototype.innerUpdateChild=function(t,e,n){var r=this,i=r.findById(t.id);if(i){Object(y.each)(t.children||[],function(t){r.innerUpdateChild(t,i,n)});var o,a,s=i.get(\"children\");if(s&&0<s.length)for(var u=s.length-1;0<=u;u--){var c=s[u].getModel();-1===Ko.indexOfChild(t.children||[],c.id)&&(r.innerRemoveChild(c.id,{x:t.x,y:t.y},n),s.splice(u,1))}i.get(\"originAttrs\")&&(o=i.get(\"originAttrs\").x,a=i.get(\"originAttrs\").y);var h=i.getModel();n&&i.set(\"originAttrs\",{x:h.x,y:h.y}),i.set(\"model\",t.data),o===t.x&&a===t.y||i.updatePosition({x:t.x,y:t.y})}else r.innerAddChild(t,e,n)},Ko.prototype.innerRemoveChild=function(t,e,n){var r,i=this,o=i.findById(t);o&&(Object(y.each)(o.get(\"children\"),function(t){i.innerRemoveChild(t.getModel().id,e,n)}),n?(r=o.getModel(),o.set(\"to\",e),o.set(\"originAttrs\",{x:r.x,y:r.y}),i.get(\"removeList\").push(o)):i.removeItem(o))},Ko.prototype.changeData=function(t){t?(this.data(t),this.render()):this.layout(this.get(\"fitView\"))},Ko.prototype.changeLayout=function(t){console.warn(\"Please call updateLayout instead of changeLayout. changeLayout will be discarded soon\"),this.updateLayout(t)},Ko.prototype.updateLayout=function(t){t?(this.set(\"layout\",t),this.set(\"layoutMethod\",this.getLayout()),this.layout()):console.warn(\"layout cannot be null\")},Ko.prototype.refreshLayout=function(t){console.warn(\"Please call layout instead of refreshLayout. refreshLayout will be discarded soon\"),this.layout(t)},Ko.prototype.layout=function(t){var e=this.get(\"data\"),n=this.get(\"layoutMethod\")(e,this.get(\"layout\")),r=this.get(\"animate\");this.emit(\"beforerefreshlayout\",{data:e,layoutData:n}),this.emit(\"beforelayout\"),this.innerUpdateChild(n,void 0,r),t&&this.get(\"viewController\").fitView(),r?this.layoutAnimate(n):(this.refresh(),this.paint()),this.emit(\"afterrefreshlayout\",{data:e,layoutData:n}),this.emit(\"afterlayout\")},Ko.prototype.addChild=function(t,e){this.emit(\"beforeaddchild\",{model:t,parent:e}),Object(y.isString)(e)||(e=e.get(\"id\"));var n=this.findDataById(e);n&&(n.children||(n.children=[]),n.children.push(t),this.changeData())},Ko.prototype.updateChild=function(t,e){var n,r,i;e&&this.findById(e)?(n=this.findById(e).getModel(),r=this.findById(t.id),n.children||(n.children=[]),r?(i=Ko.indexOfChild(n.children,t.id),n.children[i]=t):n.children.push(t),this.changeData()):this.changeData(t)},Ko.prototype.removeChild=function(t){var e,n,r,i,o,a=this.findById(t);a&&((e=a.get(\"parent\"))&&!e.destroyed&&(r=(n=this.findDataById(e.get(\"id\")))&&n.children||[],i=a.getModel(),o=Ko.indexOfChild(r,i.id),r.splice(o,1)),this.changeData())},Ko.prototype.findDataById=function(e,t){var n=this;if(t=t||n.get(\"data\"),e===t.id)return t;var r=null;return Object(y.each)(t.children||[],function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0}),r},Ko.prototype.layoutAnimate=function(a,s){var u=this,t=this.get(\"animateCfg\");u.emit(\"beforeanimate\",{data:a}),u.getEdges().forEach(function(t){var e=t.get(\"model\");e.sourceAnchor||(e.sourceAnchor=t.get(\"sourceAnchorIndex\"))}),this.get(\"canvas\").animate(function(o){yn(a,function(t){var e,n,r,i=u.findById(t.id);return i&&(e=i.get(\"originAttrs\"),n=i.get(\"model\"),e||(e={x:n.x,y:n.y},i.set(\"originAttrs\",e)),s?(r=s(i,o,e,a),i.set(\"model\",Object.assign(n,r))):(n.x=e.x+(t.x-e.x)*o,n.y=e.y+(t.y-e.y)*o)),!0}),Object(y.each)(u.get(\"removeList\"),function(t){var e=t.getModel(),n=t.get(\"originAttrs\"),r=t.get(\"to\");e.x=n.x+(r.x-n.x)*o,e.y=n.y+(r.y-n.y)*o}),u.refreshPositions()},{duration:t.duration,easing:t.ease,callback:function(){Object(y.each)(u.getNodes(),function(t){t.set(\"originAttrs\",null)}),Object(y.each)(u.get(\"removeList\"),function(t){u.removeItem(t)}),u.set(\"removeList\",[]),t.callback&&t.callback(),u.emit(\"afteranimate\",{data:a})},delay:t.delay})},Ko.prototype.stopLayoutAnimate=function(){this.get(\"canvas\").stopAnimate(),this.emit(\"layoutanimateend\",{data:this.get(\"data\")}),this.layoutAnimating=!1},Ko.prototype.isLayoutAnimating=function(){return this.layoutAnimating},Ko.prototype.render=function(){if(!this.get(\"data\"))throw new Error(\"data must be defined first\");this.clear(),this.emit(\"beforerender\"),this.layout(this.get(\"fitView\")),this.emit(\"afterrender\")},Ko.prototype.save=function(){return this.get(\"data\")},Ko),Wo=[\"startArrow\",\"endArrow\"],Uo={options:{},itemType:\"\",type:\"\",getCustomConfig:function(t){return{}},getOptions:function(t){return Object(ot.deepMix)({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){var n=this.drawShape(t,e);return n.set(\"className\",this.itemType+\"-shape\"),t.label&&this.drawLabel(t,e).set(\"className\",this.itemType+\"-label\"),n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=this.getOptions(t).labelCfg||{},r=this.getLabelStyle(t,n,e),i=r.rotate;delete r.rotate;var o,a,s=e.addShape(\"text\",{attrs:r,draggable:!0,className:\"text-shape\",name:\"text-shape\"});if(i){var u=s.getBBox(),c=(c=s.getMatrix())||[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case\"center\":c=et(c,[[\"t\",-u.width/2,-u.height/2],[\"r\",i],[\"t\",u.width/2,u.height/2]]);break;case\"lefttop\":c=et(c,[[\"t\",-r.x,-r.y],[\"r\",i],[\"t\",r.x,r.y]]);break;case\"leftcenter\":c=et(c,[[\"t\",-r.x,-r.y-u.height/2],[\"r\",i],[\"t\",r.x,r.y+u.height/2]]);break;default:c=et(c,[[\"t\",-u.width/2,-u.height/2],[\"r\",i],[\"t\",u.width/2,u.height/2]])}else c=et(c,[[\"t\",-r.x,-r.y-u.height/2],[\"r\",i],[\"t\",r.x,r.y+u.height/2]]);s.setMatrix(c)}return r.background&&(o=this.drawLabelBg(t,e,s),a=this.itemType+\"-label-bg\",o.set(\"classname\",a),s.toFront()),s},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(ot.mix)({},r,t.labelCfg),o=this.getLabelBgStyleByPosition(n,t,i,e);return e.addShape(\"rect\",{name:\"text-bg-shape\",attrs:o})},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e,n,r){return{}},getLabelStyle:function(t,e,n){var r=this.getLabelStyleByPosition(t,e,n),i=this.itemType+\"Label\",o=F[i]?F[i].style:null;return Object(L.__assign)(Object(L.__assign)(Object(L.__assign)({},o),r),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e){this.updateShapeStyle(t,e),this.updateLabel(t,e)},updateShapeStyle:function(t,e){var n,i=e.getContainer(),o=e.getKeyShape(),a=Object(ot.mix)({},o.attr(),t.style);for(n in a)!function(e){var t,n,r=a[e];Object(ot.isPlainObject)(r)?(n=i.find(function(t){return t.get(\"name\")===e}))&&n.attr(r):o.attr(((t={})[e]=r,t))}(n)},updateLabel:function(t,e){var n,r,i,o,a,s,u,c,h,l,f=e.getContainer(),d=this.getOptions({}).labelCfg,p=this.itemType+\"-label\",g=f.find(function(t){return t.get(\"className\")===p}),v=this.itemType+\"-label-bg\",y=f.find(function(t){return t.get(\"classname\")===v});!t.label&&\"\"!==t.label||(g?(n={},e.getModel&&(n=e.getModel().labelCfg),r=Object(ot.deepMix)({},d,n,t.labelCfg),i=this.getLabelStyleByPosition(t,r,f),o=t.labelCfg?t.labelCfg.style:void 0,a=r.style&&r.style.background,u=(s=Object(L.__assign)(Object(L.__assign)(Object(L.__assign)({},g.attr()),i),o)).rotate,delete s.rotate,u?(c=et(c=[1,0,0,0,1,0,0,0,1],[[\"t\",-s.x,-s.y],[\"r\",u],[\"t\",s.x,s.y]]),g.resetMatrix(),g.attr(Object(L.__assign)(Object(L.__assign)({},s),{matrix:c}))):(g.resetMatrix(),g.attr(s)),y?s.background?(h=this.getLabelBgStyleByPosition(g,t,r,f),l=Object(L.__assign)(Object(L.__assign)({},h),a),y.resetMatrix(),u&&y.rotateAtStart(u),y.attr(l)):f.removeChild(y):s.background&&((y=this.drawLabelBg(t,f,g)).set(\"classname\",v),g.toFront())):this.drawLabel(t,f).set(\"className\",p))},afterUpdate:function(t,e){},setState:function(t,e,n){var r,i,o=n.get(\"keyShape\");if(o){var a=n.getType(),s=Object(ot.isBoolean)(e)?t:t+\":\"+e,u=this.getStateStyle(s,n),c=n.getStateStyle(s);if(c||u){var h=Object(ot.mix)({},c||u),l=n.getContainer();if(e){for(d in h)!function(e){var t,n,r=h[e];Object(ot.isPlainObject)(r)&&!Wo.includes(e)?(n=l.find(function(t){return t.get(\"name\")===e}))&&n.attr(r):o.attr(((t={})[e]=r,t))}(d)}else{var f,d,p=Object(ot.clone)(n.getCurrentStatesStyle()),g=n.getModel(),v=Object(ot.mix)({},g.style,Object(ot.clone)(n.getOriginStyle())),y=o.get(\"name\"),m=o.attr(),b={};for(f in h)!function(e){var t,n,r=h[e];Object(ot.isPlainObject)(r)&&!Wo.includes(e)?(t=l.find(function(t){return t.get(\"name\")===e}))&&(n=t.attr(),Object(ot.each)(r,function(t,e){!n[e]&&0!==n[e]||delete n[e]}),b[e]=n):m[e]&&!{x:1,y:1,cx:1,cy:1}[e]&&delete m[e]}(f);for(d in y?b[y]=m:Object(ot.mix)(b,m),p){var x=p[d];Object(ot.isPlainObject)(x)&&!Wo.includes(d)||(y?(Object(ot.mix)(v[y],((i={})[d]=x,i)),delete v[d]):Object(ot.mix)(v,((r={})[d]=x,r)),delete p[d])}var w={};Object(ot.deepMix)(w,v,b,p);for(var M in w)!function(e){var t,n,r,i=w[e];Object(ot.isPlainObject)(i)&&!Wo.includes(e)?(r=l.find(function(t){return t.get(\"name\")===e}))&&r.attr(i):\"combo\"===a?y||o.attr(((t={})[e]=i,t)):o.attr(((n={})[e]=i,n))}(M)}}}},getStateStyle:function(t,e){var n=e.getModel(),r=e.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[t]:o&&o[t];return\"combo\"===r?Object(ot.clone)(u):Object(ot.mix)({},s,u)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){return this.getOptions(t).anchorPoints}},Zo={itemType:\"node\",shapeType:\"single-node\",labelPosition:\"center\",offset:F.nodeLabel.offset,getSize:function(t){var e=t.size||this.getOptions({}).size||F.defaultNode.size;return Object(ot.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(ot.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if(\"center\"===n)return{x:0,y:0,text:t.label};var r=e.offset;Object(ot.isNil)(r)&&(r=this.offset);var i,o=this.getSize(t),a=o[0],s=o[1];switch(n){case\"top\":i={x:0,y:0-s/2-r,textBaseline:\"bottom\"};break;case\"bottom\":i={x:0,y:s/2+r,textBaseline:\"top\"};break;case\"left\":i={x:0-a/2-r,y:0,textAlign:\"right\"};break;default:i={x:a/2+r,y:0,textAlign:\"left\"}}return i.text=t.label,i},getLabelBgStyleByPosition:function(t,e,n,r){if(!t)return{};var i=t.getBBox(),o=n.style&&n.style.background;if(!o)return{};var a,s=E(o.padding),u=i.width+s[1]+s[3],c=i.height+s[0]+s[2],h=n.offset;return Object(ot.isNil)(h)&&this.offset,a={x:i.minX-s[3],y:i.minY-s[0]},Object(L.__assign)(Object(L.__assign)(Object(L.__assign)({},a),o),{width:u,height:c})},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:\"node-shape\"})},updateLinkPoints:function(t,e){var n,r=this.getOptions(t).linkPoints,i=e.find(function(t){return\"link-point-left\"===t.get(\"className\")}),o=e.find(function(t){return\"link-point-right\"===t.get(\"className\")}),a=e.find(function(t){return\"link-point-top\"===t.get(\"className\")}),s=e.find(function(t){return\"link-point-bottom\"===t.get(\"className\")});i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n=n||r;var u=Object(ot.mix)({},n,t.linkPoints),c=u.fill,h=u.stroke,l=u.lineWidth,f=(f=u.size/2)||u.r,d=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=d.left,g=d.right,v=d.top,y=d.bottom,m=this.getSize(t),b=m[0],x=m[1],w={r:f,fill:c,stroke:h,lineWidth:l};i?p||void 0===p?i.attr(Object(L.__assign)(Object(L.__assign)({},w),{x:-b/2,y:0})):i.remove():p&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},w),{x:-b/2,y:0}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),o?(g||void 0===g||o.remove(),o.attr(Object(L.__assign)(Object(L.__assign)({},w),{x:b/2,y:0}))):g&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},w),{x:b/2,y:0}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),a?(v||void 0===v||a.remove(),a.attr(Object(L.__assign)(Object(L.__assign)({},w),{x:0,y:-x/2}))):v&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},w),{x:0,y:-x/2}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),s?y||void 0===y?s.attr(Object(L.__assign)(Object(L.__assign)({},w),{x:0,y:x/2})):s.remove():y&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},w),{x:0,y:x/2}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0})},updateShape:function(t,e,n,r){e.get(\"keyShape\").attr(Object(L.__assign)({},n)),this.updateLabel(t,e),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n,r,i,o,a=this,s=e.getContainer(),u=this.getOptions(t).icon,c=(t.icon?t.icon:{show:void 0}).show,h=s.find(function(t){return t.get(\"className\")===a.type+\"-icon\"});h?c||void 0===c?(r=(n=Object(ot.mix)({},h.attr(),u)).width,i=n.height,h.attr(Object(L.__assign)(Object(L.__assign)({},n),{x:-r/2,y:-i/2}))):h.remove():c&&(r=u.width,i=u.height,s.addShape(\"image\",{attrs:Object(L.__assign)(Object(L.__assign)({},u),{x:-r/2,y:-i/2}),className:this.type+\"-icon\",name:this.type+\"-icon\"}),(o=s.find(function(t){return\"node-label\"===t.get(\"className\")}))&&o.toFront())}},$o=Object(L.__assign)(Object(L.__assign)({},Uo),Zo);function Ko(t){var e=Yo.call(this,t)||this;return e.layoutAnimating=!1,e.set(\"removeList\",[]),e.set(\"layoutMethod\",e.getLayout()),e}function Qo(t){var e=Fo.call(this)||this;return e.cfg=Object(ot.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Co(e.cfg.maxStep),e.redoStack=new Co(e.cfg.maxStep)),e}function Jo(e,t){this.cfg=Object(ot.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(t){return Object(ot.isString)(t)?e.findById(t):t}),this.nonMembers=this.cfg.nonMembers.map(function(t){return Object(ot.isString)(t)?e.findById(t):t}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}tn.registerNode(\"single-node\",$o);var ta={itemType:\"edge\",labelPosition:\"center\",refX:0,refY:0,labelAutoRotate:!1,getPath:function(t){var n=[];return Object(ot.each)(t,function(t,e){0===e?n.push([\"M\",t.x,t.y]):n.push([\"L\",t.x,t.y])}),n},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(ot.mix)({},e,n,t.style),i=t.size||F.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,s=this.getControlPoints(t),u=[o];s&&(u=u.concat(s)),u.push(a);var c=this.getPath(u);return Object(ot.mix)({},F.defaultEdge.style,{stroke:F.defaultEdge.color,lineWidth:i,path:c},r)},updateShapeStyle:function(t,e){var n=e.getContainer(),r={stroke:t.color},i=n.find(function(t){return\"edge-shape\"===t.get(\"className\")})||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),c=[a];u&&(c=c.concat(u)),c.push(s);var h=Object(ot.mix)({},r,i.attr(),t.style),l=t.sourceNode,f=t.targetNode,d={radius:h.radius};u||(d={source:l,target:f,offset:h.offset,radius:h.radius});var p=this.getPath(c,d),g=Object(ot.mix)(r,i.attr(),{lineWidth:o,path:p},t.style);i&&i.attr(g)},getLabelStyleByPosition:function(t,e,n){var r=e.position||this.labelPosition,i={},o=n&&n.find(function(t){return\"edge-shape\"===t.get(\"className\")}),a=\"start\"===r?0:\"end\"===r?1:.5,s=e.refX||this.refX,u=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return i.x=t.startPoint.x+s,i.y=t.startPoint.y+u,i.text=t.label,i;var c=Object(ot.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,h=pn(o,a,s,u,c);return i.x=h.x,i.y=h.y,i.rotate=h.rotate,i.textAlign=this._getTextAlign(r,h.angle),i.text=t.label,i},getLabelBgStyleByPosition:function(t,e,n,r){if(!t)return{};var i=t.getBBox(),o=n.style&&n.style.background;if(!o)return{};var a=o.padding,s=i.width+a[1]+a[3],u=i.height+a[0]+a[2],c=n.position||this.labelPosition,h=Object(L.__assign)(Object(L.__assign)({},o),{width:s,height:u,x:i.minX-a[2],y:i.minY-a[0],rotate:0}),l=Object(ot.isNil)(n.autoRotate)?this.labelAutoRotate:n.autoRotate,f=r&&r.find(function(t){return\"edge-shape\"===t.get(\"className\")}),d=\"start\"===c?0:\"end\"===c?1:.5,p=n.refX||this.refX,g=n.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return h.x=e.startPoint.x+p,h.y=e.startPoint.y+g,h;var v=pn(f,d,p-s/2,g+u/2,l),y=v.angle;return y>.5*Math.PI&&y<1.5*Math.PI&&(v=pn(f,d,p+s/2,g+u/2,l)),l&&(h.x=v.x,h.y=v.y),h.rotate=v.rotate,h},_getTextAlign:function(t,e){var n,r=\"center\";return e?(e%=2*Math.PI,\"center\"!==t&&(r=0<=e&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:(\"start\"===(n=t)?n=\"end\":\"end\"===t&&(n=\"start\"),n)),r):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape(\"path\",{className:\"edge-shape\",name:\"edge-shape\",attrs:n})},drawLabel:function(t,e){var n=this.options.labelCfg,r=Object(ot.deepMix)({},n,t.labelCfg),i=this.getLabelStyle(t,r,e),o=i.rotate;delete i.rotate;var a,s,u=e.addShape(\"text\",{attrs:i,name:\"text-shape\"});return o&&u.rotateAtStart(o),i.background&&(a=this.drawLabelBg(t,e,u),s=this.itemType+\"-label-bg\",a.set(\"classname\",s),u.toFront()),u},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(ot.deepMix)({},r,t.labelCfg),o=this.getLabelStyle(t,i,e).rotate,a=this.getLabelBgStyleByPosition(n,t,i,e);delete a.rotate;var s=e.addShape(\"rect\",{name:\"text-bg-shape\",attrs:a});return o&&s.rotateAtStart(o),s}},ea=Object(L.__assign)(Object(L.__assign)({},Uo),ta);tn.registerEdge(\"single-edge\",ea),tn.registerEdge(\"line\",{getControlPoints:function(){}},\"single-edge\"),tn.registerEdge(\"spline\",{getPath:function(t){return ae(t)}},\"single-edge\"),tn.registerEdge(\"arc\",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,i=(e.y+n.y)/2;if(void 0!==t.controlPoints){if(s=t.controlPoints[0],u=Tt(e,s,n),e.x<=n.x&&e.y>n.y?this.clockwise=u.x>s.x?0:1:e.x<=n.x&&e.y<n.y?this.clockwise=u.x>s.x?1:0:e.x>n.x&&e.y<=n.y?this.clockwise=u.y<s.y?0:1:this.clockwise=u.y<s.y?1:0,(s.x-e.x)/(s.y-e.y)==(n.x-e.x)/(n.y-e.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),I()(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var o={x:n.x-e.x,y:n.y-e.y},a=Math.atan2(o.y,o.x),s={x:t.curveOffset*Math.cos(-Math.PI/2+a)+r,y:t.curveOffset*Math.sin(-Math.PI/2+a)+i},u=Tt(e,s,n)}var c=Nt(e,u);return[{x:c,y:c}]},getPath:function(t){var e=[];return e.push([\"M\",t[0].x,t[0].y]),2===t.length?e.push([\"L\",t[1].x,t[1].y]):e.push([\"A\",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},\"single-edge\"),tn.registerEdge(\"quadratic\",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e,n,r=t.controlPoints;return r&&r.length||(e=t.startPoint,n=t.endPoint,void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),I()(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),I()(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),r=[se(e,n,t.curvePosition,t.curveOffset)]),r},getPath:function(t){var e=[];return e.push([\"M\",t[0].x,t[0].y]),e.push([\"Q\",t[1].x,t[1].y,t[2].x,t[2].y]),e}},\"single-edge\"),tn.registerEdge(\"cubic\",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e,n,r=t.controlPoints;return void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),A()(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),A()(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),r&&r.length&&!(r.length<2)||(e=t.startPoint,n=t.endPoint,r=[se(e,n,t.curvePosition[0],t.curveOffset[0]),se(e,n,t.curvePosition[1],t.curveOffset[1])]),r},getPath:function(t){var e=[];return e.push([\"M\",t[0].x,t[0].y]),e.push([\"C\",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},\"single-edge\"),tn.registerEdge(\"cubic-vertical\",{curvePosition:[.5,.5],getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;return void 0!==t.curvePosition&&(this.curvePosition=t.curvePosition),A()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:e.x,y:(n.y-e.y)*this.curvePosition[0]+e.y},{x:n.x,y:(n.y-e.y)*this.curvePosition[1]+e.y}]}},\"cubic\"),tn.registerEdge(\"cubic-horizontal\",{curvePosition:[.5,.5],getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;return void 0!==t.curvePosition&&(this.curvePosition=t.curvePosition),A()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(n.x-e.x)*this.curvePosition[0]+e.x,y:e.y},{x:(n.x-e.x)*this.curvePosition[1]+e.x,y:n.y}]}},\"cubic\"),tn.registerEdge(\"loop\",{getPathPoints:function(t){return dn(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},\"cubic\");var na={itemType:\"combo\",shapeType:\"single-combo\",labelPosition:\"top\",refX:F.comboLabel.refX,refY:F.comboLabel.refY,getSize:function(t){var e=Object(ot.clone)(t.size||this.options.size||F.defaultCombo.size);return Object(ot.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(ot.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(ot.isArray)(i)&&(i=i[0]);var o=e.refX,a=e.refY;Object(ot.isNil)(o)&&(o=this.refX),Object(ot.isNil)(a)&&(a=this.refY);var s,u=this.getSize(t),c=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case\"top\":s={x:0,y:-c-a,textBaseline:\"bottom\",textAlign:\"center\"};break;case\"bottom\":s={x:0,y:c+a,textBaseline:\"bottom\",textAlign:\"center\"};break;case\"left\":s={x:-c+o,y:0,textAlign:\"left\"};break;case\"center\":s={x:0,y:0,text:t.label,textAlign:\"center\"};break;default:s={x:c+o,y:0,textAlign:\"right\"}}return s.text=t.label,s},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:\"combo-shape\"})},updateShape:function(t,e,n){var r=e.get(\"keyShape\");(void 0===t.animate?this.options.animate:t.animate)&&r.animate?r.animate(n,{duration:200,easing:\"easeLinear\"}):r.attr(Object(L.__assign)({},n)),this.updateLabel(t,e)}},ra=Object(L.__assign)(Object(L.__assign)({},Uo),na);tn.registerCombo(\"single-combo\",ra),tn.registerCombo(\"circle\",{options:{size:[F.defaultCombo.size[0],F.defaultCombo.size[0]],padding:F.defaultCombo.padding[0],animate:!0,style:{stroke:F.defaultCombo.style.stroke,fill:F.defaultCombo.style.fill,lineWidth:F.defaultCombo.style.lineWidth,opacity:.8},labelCfg:{style:{fill:\"#595959\"},refX:0,refY:0}},shapeType:\"circle\",labelPosition:\"top\",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape(\"circle\",{attrs:n,className:\"circle-combo\",name:\"circle-combo\",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(ot.isArray)(n)&&(n=n[0]);var r={stroke:t.color},i=Object(ot.mix)({},e,r,t.style),o=this.getSize(t),a=!Object(ot.isNumber)(i.r)||isNaN(i.r)?o[0]/2||F.defaultCombo.style.r:Math.max(i.r,o[0]/2)||o[0]/2;i.r=a+n;var s=Object(L.__assign)({x:0,y:0},i);return t.style?t.style.r=a:t.style={r:a},s},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(ot.isArray)(r)&&(r=r[0]);var i=Object(ot.clone)(t.style),o=Math.max(i.r,n[0]/2)||n[0]/2;i.r=o+r;var a=e.get(\"sizeCache\");a&&(a.r=i.r);var s={stroke:t.color},u=e.get(\"keyShape\"),c=Object(ot.mix)({},u.attr(),s,i);t.style?t.style.r=o:t.style={r:o},this.updateShape(t,e,c,!0)}},\"single-combo\"),tn.registerCombo(\"rect\",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:F.defaultCombo.style.stroke,fill:F.defaultCombo.style.fill,lineWidth:F.defaultCombo.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:\"#595959\"}},anchorPoints:[[0,.5],[1,.5]]},shapeType:\"rect\",labelPosition:\"top\",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape(\"rect\",{attrs:n,className:\"rect-combo\",name:\"rect-combo\",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(ot.isNumber)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;Object(ot.isNil)(o)&&(o=this.refX),Object(ot.isNil)(a)&&(a=this.refY);var s,u=r.width/2+i[3],c=r.height/2+i[0];switch(n){case\"top\":s={x:0-u+o,y:0-c+a,textBaseline:\"top\",textAlign:\"left\"};break;case\"bottom\":s={x:0,y:c+a,textBaseline:\"bottom\",textAlign:\"center\"};break;case\"left\":s={x:0-u+a,y:0,textAlign:\"left\"};break;case\"center\":s={x:0,y:0,text:t.label,textAlign:\"center\"};break;default:s={x:u+o,y:0,textAlign:\"right\"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(ot.isNumber)(n)&&(n=[n,n,n,n]);var r={stroke:t.color},i=Object(ot.mix)({},e,r,t.style),o=this.getSize(t),a=!Object(ot.isNumber)(i.width)||isNaN(i.width)?o[0]||F.defaultCombo.style.width:Math.max(i.width,o[0])||o[0],s=!Object(ot.isNumber)(i.height)||isNaN(i.height)?o[1]||F.defaultCombo.style.height:Math.max(i.height,o[1])||o[1],u=-a/2-n[3],c=-s/2-n[0];i.width=a+n[1]+n[3],i.height=s+n[0]+n[2];var h=Object(L.__assign)({x:u,y:c},i);return t.style?(t.style.width=a,t.style.height=s):t.style={width:a,height:s},h},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(ot.isNumber)(r)&&(r=[r,r,r,r]);var i=Object(ot.clone)(t.style),o=Math.max(i.width,n[0])||n[0],a=Math.max(i.height,n[1])||n[1];i.width=o+r[1]+r[3],i.height=a+r[0]+r[2];var s=e.get(\"sizeCache\");s&&(s.width=i.width,s.height=i.height),i.x=-o/2-r[3],i.y=-a/2-r[0];var u={stroke:t.color},c=e.get(\"keyShape\"),h=Object(ot.mix)({},c.attr(),u,i);t.style?(t.style.width=o,t.style.height=a):t.style={width:o,height:a},this.updateShape(t,e,h,!1)},updateShape:function(t,e,n){var r=e.get(\"keyShape\");(void 0===t.animate?this.options.animate:t.animate)&&r.animate?r.animate(n,{duration:200,easing:\"easeLinear\"}):r.attr(Object(L.__assign)({},n)),this.updateLabel(t,e)}},\"single-combo\"),tn.registerNode(\"circle\",{options:{size:F.defaultNode.size,style:{x:0,y:0,stroke:F.defaultShapeStrokeColor,fill:F.defaultShapeFillColor,lineWidth:F.defaultNode.style.lineWidth},labelCfg:{style:{fill:\"#595959\"}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:\"#72CC4A\",stroke:\"#72CC4A\"},icon:{show:!1,img:\"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg\",width:16,height:16}},shapeType:\"circle\",labelPosition:\"center\",drawShape:function(t,e){var n=this.getOptions(t).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=gt()({},r,t.icon),a=e.addShape(\"circle\",{attrs:i,className:this.type+\"-keyShape\",draggable:!0}),s=o.width,u=o.height;return o.show&&e.addShape(\"image\",{attrs:Object(L.__assign)({x:-s/2,y:-u/2},o),className:this.type+\"-icon\",name:this.type+\"-icon\",draggable:!0}),this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,h=Object(L.__rest)(r,[\"top\",\"left\",\"right\",\"bottom\",\"size\",\"r\"]),l=this.getSize(t)[0]/2;o&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:-l,y:0,r:u/2||c||5}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),a&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:l,y:0,r:u/2||c||5}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),i&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:-l,r:u/2||c||5}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),s&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:l,r:u/2||c||5}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=gt()({},e,n),i=this.getSize(t)[0]/2;return Object(L.__assign)({x:0,y:0,r:i},r)},update:function(t,e){var n=e.getContainer(),r=this.getSize(t),i={stroke:t.color,r:r[0]/2},o=e.get(\"keyShape\"),a=gt()({},o.attr(),i,t.style);this.updateShape(t,e,a,!0),this.updateLinkPoints(t,n)}},\"single-node\"),tn.registerNode(\"rect\",{options:{size:[100,30],style:{radius:0,stroke:F.defaultShapeStrokeColor,fill:F.defaultShapeFillColor,lineWidth:F.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:\"#595959\",fontSize:12}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:\"#72CC4A\",stroke:\"#72CC4A\"},anchorPoints:[[0,.5],[1,.5]]},shapeType:\"rect\",labelPosition:\"center\",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape(\"rect\",{attrs:n,className:this.type+\"-keyShape\",name:this.type+\"-keyShape\",draggable:!0});return this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,h=Object(L.__rest)(r,[\"top\",\"left\",\"right\",\"bottom\",\"size\",\"r\"]),l=this.getSize(t),f=l[0],d=l[1];o&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:-f/2,y:0,r:u/2||c||5}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),a&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:f/2,y:0,r:u/2||c||5}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),i&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:-d/2,r:u/2||c||5}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),s&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:d/2,r:u/2||c||5}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(ot.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(L.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getSize(t),o=e.get(\"keyShape\");t.size||(i[0]=o.attr(\"width\")||r.width,i[1]=o.attr(\"height\")||r.height);var a={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=Object(ot.mix)({},r,o.attr(),a),s=Object(ot.mix)(s,t.style);this.updateShape(t,e,s,!1),this.updateLinkPoints(t,n)}},\"single-node\"),tn.registerNode(\"ellipse\",{options:{size:[120,60],style:{x:0,y:0,stroke:F.defaultShapeStrokeColor,fill:F.defaultShapeFillColor,lineWidth:1},labelCfg:{style:{fill:\"#595959\"}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:\"#72CC4A\",stroke:\"#72CC4A\"},icon:{show:!1,img:\"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg\",width:36,height:36}},shapeType:\"ellipse\",labelPosition:\"center\",drawShape:function(t,e){var n=this.getOptions(t).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape(\"ellipse\",{attrs:i,className:\"ellipse-keyShape\",name:\"ellipse-keyShape\",draggable:!0}),a=r.width,s=r.height;return r.show&&e.addShape(\"image\",{attrs:Object(L.__assign)({x:-a/2,y:-s/2},r),className:this.type+\"-icon\",name:this.type+\"-icon\",draggable:!0}),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,h=Object(L.__rest)(r,[\"top\",\"left\",\"right\",\"bottom\",\"size\",\"r\"]),l=this.getSize(t),f=l[0]/2,d=l[1]/2;o&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:-f,y:0,r:u/2||c||5}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),a&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:f,y:0,r:u/2||c||5}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),i&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:-d,r:u/2||c||5}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),s&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:d,r:u/2||c||5}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(ot.mix)({},e,n),i=this.getSize(t),o=i[0]/2,a=i[1]/2;return Object(L.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getSize(t),o={stroke:t.color,rx:i[0]/2,ry:i[1]/2},a=e.get(\"keyShape\"),s=Object(ot.mix)({},r,a.attr(),o),s=Object(ot.mix)(s,t.style);this.updateShape(t,e,s,!0),this.updateLinkPoints(t,n)}},\"single-node\"),tn.registerNode(\"diamond\",{options:{size:[100,100],style:{stroke:F.defaultShapeStrokeColor,fill:F.defaultShapeFillColor,lineWidth:F.defaultNode.style.lineWidth},labelCfg:{style:{fill:\"#595959\"}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:\"#72CC4A\",stroke:\"#72CC4A\"},icon:{show:!1,img:\"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg\",width:16,height:16}},shapeType:\"circle\",labelPosition:\"center\",drawShape:function(t,e){var n=this.getOptions(t).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape(\"path\",{attrs:i,className:this.type+\"-keyShape\",name:this.type+\"-keyShape\",draggable:!0}),a=r.width,s=r.height;return r.show&&e.addShape(\"image\",{attrs:Object(L.__assign)({x:-a/2,y:-s/2},r),className:this.type+\"-icon\",name:this.type+\"-icon\",draggable:!0}),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,h=Object(L.__rest)(r,[\"top\",\"left\",\"right\",\"bottom\",\"size\",\"r\"]),l=this.getSize(t),f=l[0],d=l[1];o&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:-f/2,y:0,r:u/2||c||5}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),a&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:f/2,y:0,r:u/2||c||5}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),i&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:-d/2,r:u/2||c||5}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),s&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:d/2,r:u/2||c||5}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0})},getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1];return[[\"M\",0,-r/2],[\"L\",n/2,0],[\"L\",0,r/2],[\"L\",-n/2,0],[\"Z\"]]},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(ot.mix)({},e,n),i=this.getPath(t);return Object(L.__assign)({path:i},r)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=e.get(\"keyShape\"),s=Object(ot.mix)({},r,a.attr(),o),s=Object(ot.mix)(s,t.style);this.updateShape(t,e,s,!0),this.updateLinkPoints(t,n)}},\"single-node\"),tn.registerNode(\"triangle\",{options:{size:40,direction:\"up\",style:{stroke:F.defaultShapeStrokeColor,fill:F.defaultShapeFillColor,lineWidth:F.defaultNode.style.lineWidth},labelCfg:{style:{fill:\"#595959\"},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:\"#fff\",stroke:\"#72CC4A\"},icon:{show:!1,img:\"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg\",width:16,height:16,offset:6}},shapeType:\"triangle\",labelPosition:\"bottom\",drawShape:function(t,e){var n,r,i=this.getOptions(t),o=i.icon,a=void 0===o?{}:o,s=i.direction,u=this.getShapeStyle(t),c=t.direction||s,h=e.addShape(\"path\",{attrs:u,className:this.type+\"-keyShape\",name:this.type+\"-keyShape\",draggable:!0}),l=a.width,f=a.height,d=a.show,p=a.offset;return d&&(n=-l/2,r=-f/2,\"up\"!==c&&\"down\"!==c||(r+=p),\"left\"!==c&&\"right\"!==c||(n+=p),e.addShape(\"image\",{attrs:Object(L.__assign)({x:n,y:r},a),className:this.type+\"-icon\",name:this.type+\"-icon\",draggable:!0})),this.drawLinkPoints(t,e),h},drawLinkPoints:function(t,e){var n,r,i,o,a,s,u=this.getOptions(t),c=u.linkPoints,h=void 0===c?{}:c,l=u.direction,f=t.direction||l,d=h.top,p=h.left,g=h.right,v=h.bottom,y=h.size,m=h.r,b=Object(L.__rest)(h,[\"top\",\"left\",\"right\",\"bottom\",\"size\",\"r\"]),x=this.getSize(t)[0];p&&(n=null,i=x*Math.sin(1/3*Math.PI),o=x*Math.sin(1/3*Math.PI),\"up\"===f?n=[-o,i]:\"down\"===f?n=[-o,-i]:\"left\"===f&&(n=[-o,o-i]),n&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},b),{x:n[0],y:n[1],r:y/2||m||5}),className:\"link-point-left\",name:\"link-point-left\"})),g&&(r=null,i=x*Math.sin(1/3*Math.PI),o=x*Math.sin(1/3*Math.PI),\"up\"===f?r=[o,i]:\"down\"===f?r=[o,-i]:\"right\"===f&&(r=[o,o-i]),r&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},b),{x:r[0],y:r[1],r:y/2||m||5}),className:\"link-point-right\",name:\"link-point-right\"})),d&&(a=null,i=x*Math.sin(1/3*Math.PI),o=x*Math.sin(1/3*Math.PI),\"up\"===f?a=[o-i,-i]:\"left\"===f?a=[o,-i]:\"right\"===f&&(a=[-o,-i]),a&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},b),{x:a[0],y:a[1],r:y/2||m||5}),className:\"link-point-top\",name:\"link-point-top\"})),v&&(s=null,i=x*Math.sin(1/3*Math.PI),o=x*Math.sin(1/3*Math.PI),\"down\"===f?s=[-o+i,i]:\"left\"===f?s=[o,i]:\"right\"===f&&(s=[-o,i]),s&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},b),{x:s[0],y:s[1],r:y/2||m||5}),className:\"link-point-bottom\",name:\"link-point-bottom\"}))},getPath:function(t){var e=this.getOptions(t).direction,n=t.direction||e,r=this.getSize(t)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[[\"M\",-o,i],[\"L\",0,-i],[\"L\",o,i],[\"Z\"]];return\"down\"===n?a=[[\"M\",-o,-i],[\"L\",o,-i],[\"L\",0,i],[\"Z\"]]:\"left\"===n?a=[[\"M\",-o,o-i],[\"L\",o,-o],[\"L\",o,o],[\"Z\"]]:\"right\"===n&&(a=[[\"M\",o,o-i],[\"L\",-o,o],[\"L\",-o,-o],[\"Z\"]]),a},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(ot.mix)({},e,n),i=this.getPath(t);return Object(L.__assign)({path:i},r)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=e.get(\"keyShape\"),s=Object(ot.mix)({},r,a.attr(),o),s=Object(ot.mix)(s,t.style);this.updateShape(t,e,s,!0),this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=t.direction||i,a=e.find(function(t){return\"link-point-left\"===t.get(\"className\")}),s=e.find(function(t){return\"link-point-right\"===t.get(\"className\")}),u=e.find(function(t){return\"link-point-top\"===t.get(\"className\")}),c=e.find(function(t){return\"link-point-bottom\"===t.get(\"className\")}),h=r,l=a||s||u||c;l&&(h=l.attr());var f=Object(ot.mix)({},h,t.linkPoints),d=f.fill,p=f.stroke,g=f.lineWidth,v=(v=f.size/2)||f.r,y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},m=y.left,b=y.right,x=y.top,w=y.bottom,M=this.getSize(t)[0],S={r:v,fill:d,stroke:p,lineWidth:g},_=null,O=M*Math.sin(1/3*Math.PI),C=M*Math.sin(1/3*Math.PI);\"up\"===o?_=[-C,O]:\"down\"===o?_=[-C,-O]:\"left\"===o&&(_=[-C,C-O]),_&&(a?m||void 0===m?a.attr(Object(L.__assign)(Object(L.__assign)({},S),{x:_[0],y:_[1]})):a.remove():m&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},S),{x:_[0],y:_[1]}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}));var k=null;\"up\"===o?k=[C,O]:\"down\"===o?k=[C,-O]:\"right\"===o&&(k=[C,C-O]),k&&(s?b||void 0===b?s.attr(Object(L.__assign)(Object(L.__assign)({},S),{x:k[0],y:k[1]})):s.remove():b&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},S),{x:k[0],y:k[1]}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}));var E=null;\"up\"===o?E=[C-O,-O]:\"left\"===o?E=[C,-O]:\"right\"===o&&(E=[-C,-O]),E&&(u?x||void 0===x?u.attr(Object(L.__assign)(Object(L.__assign)({},S),{x:E[0],y:E[1]})):u.remove():x&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},S),{x:E[0],y:E[1]}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}));var j=null;\"down\"===o?j=[O-C,O]:\"left\"===o?j=[C,O]:\"right\"===o&&(j=[-C,O]),j&&(c?w||void 0===w?c.attr(Object(L.__assign)(Object(L.__assign)({},S),{x:j[0],y:j[1]})):c.remove():w&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},S),{x:j[0],y:j[1]}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0}))}},\"single-node\"),tn.registerNode(\"modelRect\",{options:{size:[185,70],style:{radius:5,stroke:\"#69c0ff\",fill:\"#ffffff\",lineWidth:F.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:\"#595959\",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:\"#bfbfbf\"},paddingTop:0},preRect:{show:!0,width:4,fill:\"#40a9ff\",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:\"#72CC4A\",stroke:\"#72CC4A\"},logoIcon:{show:!0,x:0,y:0,img:\"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg\",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:\"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg\",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:\"modelRect\",drawShape:function(t,e){var n=this.getOptions(t).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=this.getSize(t),a=o[0],s=o[1],u=e.addShape(\"rect\",{attrs:i,className:this.type+\"-keyShape\",name:this.type+\"-keyShape\",draggable:!0}),c=r.show,h=Object(L.__rest)(r,[\"show\"]);return c&&e.addShape(\"rect\",{attrs:Object(L.__assign)({x:-a/2,y:-s/2,height:s},h),className:\"pre-rect\",name:\"pre-rect\",draggable:!0}),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),u},drawLogoIcon:function(t,e){var n,r,i,o,a,s,u=this.getOptions(t).logoIcon,c=this.getSize(t)[0];u.show&&(n=u.width,r=u.height,i=u.x,o=u.y,a=u.offset,s=Object(L.__rest)(u,[\"width\",\"height\",\"x\",\"y\",\"offset\"]),e.addShape(\"image\",{attrs:Object(L.__assign)(Object(L.__assign)({},s),{x:i||-c/2+n+a,y:o||-r/2,width:n,height:r}),className:\"rect-logo-icon\",name:\"rect-logo-icon\",draggable:!0}))},drawStateIcon:function(t,e){var n,r,i,o,a,s,u=this.getOptions(t).stateIcon,c=this.getSize(t)[0];u.show&&(n=u.width,r=u.height,i=u.x,o=u.y,a=u.offset,s=Object(L.__rest)(u,[\"width\",\"height\",\"x\",\"y\",\"offset\"]),e.addShape(\"image\",{attrs:Object(L.__assign)(Object(L.__assign)({},s),{x:i||c/2-n+a,y:o||-r/2,width:n,height:r}),className:\"rect-state-icon\",name:\"rect-state-icon\",draggable:!0}))},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,h=Object(L.__rest)(r,[\"top\",\"left\",\"right\",\"bottom\",\"size\",\"r\"]),l=this.getSize(t),f=l[0],d=l[1];o&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:-f/2,y:0,r:u/2||c||5}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),a&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:f/2,y:0,r:u/2||c||5}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),i&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:-d/2,r:u/2||c||5}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),s&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},h),{x:0,y:d/2,r:u/2||c||5}),className:\"link-point-bottom\",name:\"link-point-bottom\",isAnchorPoint:!0})},drawLabel:function(t,e){var n=this.getOptions(t),r=n.labelCfg,i=n.logoIcon,o=n.descriptionCfg,a=this.getSize(t)[0],s=null,u=i.show,c=i.width,h=-a/2+r.offset;u&&(h=-a/2+c+r.offset);var l=r.style,f=o.style,d=o.paddingTop;return Object(ot.isString)(t.description)?(s=e.addShape(\"text\",{attrs:Object(L.__assign)(Object(L.__assign)({},l),{x:h,y:-5,text:t.label}),className:\"text-shape\",name:\"text-shape\",draggable:!0}),e.addShape(\"text\",{attrs:Object(L.__assign)(Object(L.__assign)({},f),{x:h,y:17+d,text:t.description}),className:\"rect-description\",name:\"rect-description\",draggable:!0})):s=e.addShape(\"text\",{attrs:Object(L.__assign)(Object(L.__assign)({},l),{x:h,y:7,text:t.label}),draggable:!0}),s},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(ot.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(L.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e){var n=this.getOptions(t),r=n.style,i=n.labelCfg,o=n.descriptionCfg,a=this.getSize(t),s=a[0],u=a[1];e.get(\"keyShape\").attr(Object(L.__assign)(Object(L.__assign)({},r),{x:-s/2,y:-u/2,width:s,height:u}));var c=e.getContainer(),h=c.find(function(t){return\"rect-logo-icon\"===t.get(\"className\")}),l=h?h.attr():{},f=Object(ot.mix)({},l,t.logoIcon),d=f.width;void 0===d&&(d=this.options.logoIcon.width);var p=t.logoIcon?t.logoIcon.show:void 0,g=i.offset,v=-s/2+d+g;p||void 0===p||(v=-s/2+g);var y,m,b,x,w=c.find(function(t){return\"node-label\"===t.get(\"className\")}),M=c.find(function(t){return\"rect-description\"===t.get(\"className\")});t.label&&(w?(y=t.labelCfg?t.labelCfg.style:{},m=Object(ot.mix)({},w.attr(),y),t.label&&(m.text=t.label),m.x=v,Object(ot.isString)(t.description)&&(m.y=-5),M&&(M.resetMatrix(),M.attr({x:v})),w.resetMatrix(),w.attr(m)):c.addShape(\"text\",{attrs:Object(L.__assign)(Object(L.__assign)({},i.style),{x:v,y:t.description?-5:7,text:t.label}),className:\"node-label\",name:\"node-label\",draggable:!0})),Object(ot.isString)(t.description)&&(b=o.paddingTop,M?(y=t.descriptionCfg?t.descriptionCfg.style:{},x=Object(ot.mix)({},M.attr(),y),Object(ot.isString)(t.description)&&(x.text=t.description),x.x=v,M.resetMatrix(),M.attr(Object(L.__assign)(Object(L.__assign)({},x),{y:17+b}))):c.addShape(\"text\",{attrs:Object(L.__assign)(Object(L.__assign)({},o.style),{x:v,y:17+b,text:t.description}),className:\"rect-description\",name:\"rect-description\",draggable:!0}));var S,_,O,C,k,E,j,P=c.find(function(t){return\"pre-rect\"===t.get(\"className\")});P&&(S=Object(ot.mix)({},P.attr(),t.preRect),P.attr(Object(L.__assign)(Object(L.__assign)({},S),{x:-s/2,y:-u/2,height:u}))),h?p||void 0===p?(_=f.width,O=f.height,C=f.x,k=f.y,E=f.offset,j=Object(L.__rest)(f,[\"width\",\"height\",\"x\",\"y\",\"offset\"]),h.attr(Object(L.__assign)(Object(L.__assign)({},j),{x:C||-s/2+_+E,y:k||-O/2,width:_,height:O}))):h.remove():p&&this.drawLogoIcon(t,c);var I,A,T,N=c.find(function(t){return\"rect-state-icon\"===t.get(\"className\")}),B=N?N.attr():{},D=Object(ot.mix)({},B,t.stateIcon);N?(D.show||void 0===D.show||N.remove(),I=D.width,O=D.height,C=D.x,k=D.y,A=D.offset,T=Object(L.__rest)(D,[\"width\",\"height\",\"x\",\"y\",\"offset\"]),N.attr(Object(L.__assign)(Object(L.__assign)({},T),{x:C||s/2-I+A,y:k||-O/2,width:I,height:O}))):D.show&&this.drawStateIcon(t,c),this.updateLinkPoints(t,c)}},\"single-node\"),tn.registerNode(\"star\",{options:{size:60,style:{stroke:F.defaultShapeStrokeColor,fill:F.defaultShapeFillColor,lineWidth:F.defaultNode.style.lineWidth},labelCfg:{style:{fill:\"#595959\"}},linkPoints:{top:!1,right:!1,left:!1,leftBottom:!1,rightBottom:!1,size:10,lineWidth:1,fill:\"#fff\",stroke:\"#72CC4A\"},icon:{show:!1,img:\"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg\",width:16,height:16}},shapeType:\"star\",labelPosition:\"center\",drawShape:function(t,e){var n=this.getOptions(t).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape(\"path\",{attrs:i,className:this.type+\"-keyShape\",name:this.type+\"-keyShape\",draggable:!0}),a=r.width,s=r.height;return r.show&&e.addShape(\"image\",{attrs:Object(L.__assign)({x:-a/2,y:-s/2},r),className:this.type+\"-icon\",name:this.type+\"-icon\",draggable:!0}),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n,r,i=this.getOptions(t).linkPoints,o=void 0===i?{}:i,a=o.top,s=o.left,u=o.right,c=o.leftBottom,h=o.rightBottom,l=o.size,f=o.r,d=Object(L.__rest)(o,[\"top\",\"left\",\"right\",\"leftBottom\",\"rightBottom\",\"size\",\"r\"]),p=this.getSize(t)[0];u&&(n=Math.cos(.1*Math.PI)*p,r=Math.sin(.1*Math.PI)*p,e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},d),{x:n,y:-r,r:l/2||f||5}),className:\"link-point-right\",name:\"link-point-right\"})),a&&(n=Math.cos(.5*Math.PI)*p,r=Math.sin(.5*Math.PI)*p,e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},d),{x:n,y:-r,r:l/2||f||5}),className:\"link-point-top\",name:\"link-point-top\"})),s&&(n=Math.cos(.9*Math.PI)*p,r=Math.sin(.9*Math.PI)*p,e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},d),{x:n,y:-r,r:l/2||f||5}),className:\"link-point-left\",name:\"link-point-left\"})),c&&(n=Math.cos(1.3*Math.PI)*p,r=Math.sin(1.3*Math.PI)*p,e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},d),{x:n,y:-r,r:l/2||f||5}),className:\"link-point-left-bottom\",name:\"link-point-left-bottom\"})),h&&(n=Math.cos(1.7*Math.PI)*p,r=Math.sin(1.7*Math.PI)*p,e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},d),{x:n,y:-r,r:l/2||f||5}),className:\"link-point-right-bottom\",name:\"link-point-right-bottom\"}))},getPath:function(t){for(var e=this.getSize(t)[0],n=3*e/8,r=t.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*e,s=Math.sin((18+72*o)/180*Math.PI)*e,u=Math.cos((54+72*o)/180*Math.PI)*r,c=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push([\"M\",a,-s]):i.push([\"L\",a,-s]),i.push([\"L\",u,-c])}return i.push([\"Z\"]),i},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(ot.mix)({},e,n),i=this.getPath(t);return Object(L.__assign)({path:i},r)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=e.get(\"keyShape\"),s=Object(ot.mix)({},r,a.attr(),o),s=Object(ot.mix)(s,t.style);this.updateShape(t,e,s,!0),this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,r=e.find(function(t){return\"link-point-left\"===t.get(\"className\")}),i=e.find(function(t){return\"link-point-right\"===t.get(\"className\")}),o=e.find(function(t){return\"link-point-top\"===t.get(\"className\")}),a=e.find(function(t){return\"link-point-left-bottom\"===t.get(\"className\")}),s=e.find(function(t){return\"link-point-right-bottom\"===t.get(\"className\")}),u=n,c=r||i||o||a||s;c&&(u=c.attr());var h=Object(ot.mix)({},u,t.linkPoints),l=h.fill,f=h.stroke,d=h.lineWidth,p=(p=h.size/2)||h.r,g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,y=g.right,m=g.top,b=g.leftBottom,x=g.rightBottom,w=this.getSize(t)[0],M={r:p,fill:l,stroke:f,lineWidth:d},S=Math.cos(.1*Math.PI)*w,_=Math.sin(.1*Math.PI)*w;i?y||void 0===y?i.attr(Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_})):i.remove():y&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_}),className:\"link-point-right\",name:\"link-point-right\",isAnchorPoint:!0}),S=Math.cos(.5*Math.PI)*w,_=Math.sin(.5*Math.PI)*w,o?m||void 0===m?o.attr(Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_})):o.remove():m&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_}),className:\"link-point-top\",name:\"link-point-top\",isAnchorPoint:!0}),S=Math.cos(.9*Math.PI)*w,_=Math.sin(.9*Math.PI)*w,r?v||void 0===v?r.attr(Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_})):r.remove():v&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_}),className:\"link-point-left\",name:\"link-point-left\",isAnchorPoint:!0}),S=Math.cos(1.3*Math.PI)*w,_=Math.sin(1.3*Math.PI)*w,a?b||void 0===b?a.attr(Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_})):a.remove():b&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_}),className:\"link-point-left-bottom\",name:\"link-point-left-bottom\",isAnchorPoint:!0}),S=Math.cos(1.7*Math.PI)*w,_=Math.sin(1.7*Math.PI)*w,s?x||void 0===x?s.attr(Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_})):a.remove():x&&e.addShape(\"circle\",{attrs:Object(L.__assign)(Object(L.__assign)({},M),{x:S,y:-_}),className:\"link-point-right-bottom\",name:\"link-point-right-bottom\",isAnchorPoint:!0})}},\"single-node\"),tn.registerNode(\"image\",{options:{img:\"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ\",size:200,clipCfg:{show:!1,type:\"circle\",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[[\"M\",25,25],[\"L\",50,25],[\"A\",12.5,12.5,0,1,1,50,50],[\"A\",12.5,12.5,0,1,0,50,50],[\"L\",25,75],[\"Z\"]],x:0,y:0}},shapeType:\"image\",labelPosition:\"bottom\",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);delete r.fill;var i=e.addShape(n,{attrs:r,className:this.type+\"-keyShape\",name:this.type+\"-keyShape\",draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var n,r,i,o,a,s,u,c,h,l,f,d,p,g=this.getOptions(t).clipCfg;g.show&&(n=g.type,r=g.x,i=g.y,o=g.style,\"circle\"===n?(a=g.r,e.setClip({type:\"circle\",attrs:Object(L.__assign)({r:a,x:r,y:i},o)})):\"rect\"===n?(c=r-(s=g.width)/2,h=i-(u=g.height)/2,e.setClip({type:\"rect\",attrs:Object(L.__assign)({x:c,y:h,width:s,height:u},o)})):\"ellipse\"===n?(l=g.rx,f=g.ry,e.setClip({type:\"ellipse\",attrs:Object(L.__assign)({x:r,y:i,rx:l,ry:f},o)})):\"polygon\"===n?(d=g.points,e.setClip({type:\"polygon\",attrs:Object(L.__assign)({points:d},o)})):\"path\"===n&&(p=g.path,e.setClip({type:\"path\",attrs:Object(L.__assign)({path:p},o)})))},getShapeStyle:function(t){var e=this.getOptions(t).style,n=this.getSize(t),r=this.getOptions(t).img,i=n[0],o=n[1];return e&&(i=e.width||n[0],o=e.height||n[1]),Object(L.__assign)({x:-i/2,y:-o/2,width:i,height:o,img:r},e)},updateShapeStyle:function(t,e){var n=e.getContainer(),r=this.itemType+\"-shape\",i=n.find(function(t){return t.get(\"className\")===r})||e.getKeyShape(),o=this.getShapeStyle(t);i&&i.attr(o)}},\"single-node\");function ia(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}}function oa(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height}function aa(t){var e=[],n={};return t.forEach(function(t){var e=t.x+\"-\"+t.y;t.id=e,n[e]=t}),Object(ot.each)(n,function(t){e.push(t)}),e}function sa(t,e){return[t,{x:t.x,y:e.y},e]}function ua(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}}function ca(t,e){return n=e,r=t,i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY),i/r.width>o/r.height?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY};var n,r,i,o}function ha(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}}function la(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]}function fa(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY}function da(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function pa(t,e,n,r,i){return da(t,e)+da(t,n)+(o=t,a=0,[e,n,r,i].forEach(function(t){t&&(o.x===t.x&&(a+=-2),o.y===t.y&&(a+=-2))}),a);var o,a}function ga(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,s=r.y-n.y,u=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*s),c=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+i*s);return 0<=u&&u<=1&&0<=c&&c<=1}function va(t,e,n){if(0!==n.width||0!==n.height){var r=la(n),i=r[0],o=r[1],a=r[2],s=r[3];return ga(t,e,i,o)||ga(t,e,i,s)||ga(t,e,o,a)||ga(t,e,a,s)}}function ya(c,h,l,f,d,p,g){var v=[],y=[h],m={},b={},x={};b[h.id]=0,x[h.id]=pa(h,l,h);var w={};for(c.forEach(function(t){w[t.id]=t});y.length;){var t=function(){var n,t,e,r,i,o,a,s=1/0;if(y.forEach(function(t){x[t.id]<s&&(s=x[t.id],n=t)}),n===l){var u=[];return wa(u,w,m,l.id),{value:u}}-1<(e=(t=y).indexOf(n))&&t.splice(e,1),v.push(n),r=n,i=f,o=d,a=[],c.forEach(function(t){t!==r&&(t.x!==r.x&&t.y!==r.y||va(t,r,i)||va(t,r,o)||a.push(t))}),aa(a).forEach(function(t){var e;-1===v.indexOf(t)&&(-1===y.indexOf(t)&&y.push(t),e=x[n.id]+da(n,t),b[t.id]&&e>=b[t.id]||(m[t.id]=n.id,b[t.id]=e,x[t.id]=b[t.id]+pa(t,l,h,p,g)))})}();if(\"object\"==typeof t)return t.value}return[h,l]}function ma(d,p){var g=[],t=d[0];return g.push(\"M\"+t.x+\" \"+t.y),d.forEach(function(t,e){var n,r,i,o,a,s,u,c,h,l=d[e+1],f=d[e+2];l&&f?t.x===l.x&&l.x===f.x||t.y===l.y&&l.y===f.y?g.push(\"L\"+l.x+\" \"+l.y):(r=(n=(s=f,u=p,c=da(o=t,a=l),h=da(s,a),c<u&&(u=c),h<u&&(u=h),[{x:a.x-u/c*(a.x-o.x),y:a.y-u/c*(a.y-o.y)},{x:a.x-u/h*(a.x-s.x),y:a.y-u/h*(a.y-s.y)}]))[0],i=n[1],g.push(\"L\"+r.x+\" \"+r.y),g.push(\"Q\"+l.x+\" \"+l.y+\" \"+i.x+\" \"+i.y),g.push(\"L\"+i.x+\" \"+i.y)):l&&g.push(\"L\"+l.x+\" \"+l.y)}),g.join(\"\")}function ba(t,e,n,r,i){var o,a;if(n&&n.getType()?\"combo\"===n.getType()?((o=n.getKeyShape().getCanvasBBox()||ia(t)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2):o=n.getBBox():o=ia(t),r&&r.getType()?\"combo\"===r.getType()?((a=r.getKeyShape().getCanvasBBox()||ia(e)).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2):a=r&&r.getBBox():a=ia(e),oa(o,a))return xa(sa(t,e));var s=ua(o,i),u=ua(a,i);if(oa(s,u))return xa(sa(t,e));var c=ca(s,t),h=ca(u,e),l=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach(function(t){e.push(t.x),n.push(t.y)});var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([c,h]),f=(ha(s,u),ha(s,l)),d=ha(u,l),p=(p=(p=[]).concat(la(f))).concat(la(d)),g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[l,f,d].forEach(function(t){var e,n,r;p=p.concat(((r=g.x)<(e=t).minX||r>e.maxX?[]:[{x:r,y:e.minY},{x:r,y:e.maxY}]).concat((n=g.y)<e.minY||n>e.maxY?[]:[{x:e.minX,y:n},{x:e.maxX,y:n}]).filter(function(t){return fa(t,s)&&fa(t,u)}))}),[{x:c.x,y:h.y},{x:h.x,y:c.y}].forEach(function(t){fa(t,s)&&fa(t,u)&&p.push(t)}),p.unshift(c),p.push(h),p=aa(p);var v=ya(p,c,h,o,a,t,e);return v.unshift(t),v.push(e),xa(v)}var xa=aa,wa=function(t,e,n,r,i){void 0===i&&(i=0),t.unshift(e[r]),n[r]&&n[r]!==r&&i<=100&&wa(t,e,n,n[r],i+1)};tn.registerEdge(\"polyline\",{options:{color:F.defaultEdge.color,style:{radius:0,offset:5,x:0,y:0},labelCfg:{style:{fill:\"#595959\"}}},shapeType:\"polyline\",labelPosition:\"center\",drawShape:function(t,e){var n=this.getShapeStyle(t);return 0===n.radius&&delete n.radius,e.addShape(\"path\",{className:\"edge-shape\",name:\"edge-shape\",attrs:n})},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(ot.mix)({},e,n,t.style);t=this.getPathPoints(t),this.radius=r.radius,this.offset=r.offset;var i=t.startPoint,o=t.endPoint,a=this.getControlPoints(t),s=[i];a&&(s=s.concat(a)),s.push(o);var u=t.sourceNode,c=t.targetNode,h={radius:r.radius};a||(h={source:u,target:c,offset:r.offset,radius:r.radius});var l=this.getPath(s,h);return(Object(ot.isArray)(l)&&l.length<=1||Object(ot.isString)(l)&&-1===l.indexOf(\"L\"))&&(l=\"M0 0, L0 0\"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(l=\"M0 0, L0 0\"),Object(ot.mix)({},F.defaultEdge.style,r,{lineWidth:t.size,path:l})},getPath:function(t,e){var n,r=e.source,i=e.target,o=e.offset,a=e.radius;if(!o||2<t.length){if(a)return ma(t,a);var s=[];return Object(ot.each)(t,function(t,e){0===e?s.push([\"M\",t.x,t.y]):s.push([\"L\",t.x,t.y])}),s}return a?(n=xa(ba(t[0],t[t.length-1],r,i,o)),ma(n,a)):(n=ba(t[0],t[t.length-1],r,i,o),ue(n))}},\"single-edge\");var Ma,Sa={collapse:function(t,e,n){return[[\"M\",t-n,e],[\"a\",n,n,0,1,0,2*n,0],[\"a\",n,n,0,1,0,2*-n,0],[\"M\",t-n+4,e],[\"L\",t+n-4,e]]},expand:function(t,e,n){return[[\"M\",t-n,e],[\"a\",n,n,0,1,0,2*n,0],[\"a\",n,n,0,1,0,2*-n,0],[\"M\",t-n+4,e],[\"L\",t-n+2*n-4,e],[\"M\",t-n+n,e-n+4],[\"L\",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[[\"M\",t-r,e+i],[\"L\",t+r,e+i],[\"L\",t,e-n],[\"Z\"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[[\"M\",t-r,e-i],[\"L\",t+r,e-i],[\"L\",t,e+n],[\"Z\"]]}},_a=tn,Oa={mat3:Ce.mat3,mix:Pn.a,deepMix:gt.a,transform:Ce.transform},Ca=Object(L.__assign)(Object(L.__assign)(Object(L.__assign)(Object(L.__assign)(Object(L.__assign)({},Oa),r),a),o),i),ka=(Ta.prototype.getDefaultCfgs=function(){return{}},Ta.prototype.initPlugin=function(r){var i=this;i.set(\"graph\",r);var t=i.getEvents(),o={};m()(t,function(t,e){var n=Ne()(i,t);o[e]=n,r.on(e,n)}),this._events=o,this.init()},Ta.prototype.init=function(){},Ta.prototype.getEvents=function(){return{}},Ta.prototype.get=function(t){return this._cfgs[t]},Ta.prototype.set=function(t,e){this._cfgs[t]=e},Ta.prototype.destroy=function(){},Ta.prototype.destroyPlugin=function(){this.destroy();var n=this.get(\"graph\"),t=this._events;m()(t,function(t,e){n.off(e,t)}),this._events=null,this._cfgs=null,this.destroyed=!0},Ta),Ea=\"url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)\",ja=(Ma=ka,Object(L.__extends)(Aa,Ma),Aa.prototype.getDefaultCfgs=function(){return{img:Ea}},Aa.prototype.init=function(){var t=this.get(\"graph\"),e=t.get(\"minZoom\"),n=t.get(\"container\"),r=t.get(\"canvas\").get(\"el\"),i=t.get(\"width\"),o=t.get(\"height\"),a=this.get(\"img\")||Ea,s=ht()(\"<div class='g6-grid-container' style=\\\"position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;\\\"></div>\"),u=ht()(\"<div \\n        class='g6-grid' \\n        style='position:absolute;\\n        transform-origin: 0% 0% 0px;\\n        background-image: \"+a+\";\\n        user-select: none\\n        '></div>\");s.appendChild(u),ut()(s,{width:i+\"px\",height:o+\"px\",left:n.offsetLeft+\"px\",top:n.offsetTop+\"px\"}),ut()(u,{width:i/e+\"px\",height:o/e+\"px\",left:\"0px\",top:\"0px\"}),n.insertBefore(s,r),this.set(\"container\",s),this.set(\"gridContainer\",u)},Aa.prototype.getEvents=function(){return{viewportchange:\"updateGrid\"}},Aa.prototype.updateGrid=function(t){var e=this.get(\"gridContainer\"),n=t.matrix,r=\"matrix(\"+(n=n||[1,0,0,0,1,0,0,0,1])[0]+\", \"+n[1]+\", \"+n[3]+\", \"+n[4]+\", 0, 0)\";ut()(e,{transform:r})},Aa.prototype.getContainer=function(){return this.get(\"container\")},Aa.prototype.destroy=function(){var t=this.get(\"graph\").get(\"container\"),e=this.get(\"container\");t.removeChild(e)},Aa),Pa=n(66),Ia=n.n(Pa);function Aa(){return null!==Ma&&Ma.apply(this,arguments)||this}function Ta(t){this._cfgs=gt()(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}Ia()(\"\\n  .g6-component-contextmenu {\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    padding: 10px 8px;\\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\\n  }\\n  .g6-contextmenu-ul {\\n    padding: 0;\\n    margin: 0;\\n    list-style: none;\\n  }\\n\\n\");var Na,Ba,Da=(Ba=ka,Object(L.__extends)(Ya,Ba),Ya.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return\"\\n          <ul class='g6-contextmenu-ul'>\\n            <li>菜单项1</li>\\n            <li>菜单项2</li>\\n          </ul>\\n        \"},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:[\"node\",\"edge\",\"combo\"]}},Ya.prototype.getEvents=function(){return{contextmenu:\"onMenuShow\"}},Ya.prototype.init=function(){var t=this.get(\"className\"),e=ht()(\"<div class=\"+(t||\"g6-component-contextmenu\")+\"></div>\");ut()(e,{top:\"0px\",position:\"absolute\",visibility:\"hidden\"}),(this.get(\"container\")||this.get(\"graph\").get(\"container\")).appendChild(e),this.set(\"menu\",e)},Ya.prototype.onMenuShow=function(e){var t,n,r,i,o,a,s,u,c,h,l,f,d,p,g,v,y=this;e.preventDefault(),e.stopPropagation(),e.item&&this.get(\"shouldBegin\")(e)&&(t=this.get(\"itemTypes\"),e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())?y.onMenuHide():e.item&&(n=this.get(\"menu\"),r=this.get(\"getContent\")(e),T()(r)?n.innerHTML=r:n.innerHTML=r.outerHTML,this.removeMenuEventListener(),(i=this.get(\"handleMenuClick\"))&&(o=function(t){i(t.target,e.item)},this.set(\"handleMenuClickWrapper\",o),n.addEventListener(\"click\",o)),s=(a=this.get(\"graph\")).get(\"width\"),u=a.get(\"height\"),c=n.getBoundingClientRect(),h=this.get(\"offsetX\")||0,l=this.get(\"offsetY\")||0,f=a.getContainer().offsetTop,d=a.getContainer().offsetLeft,p=e.canvasX+d+h,g=e.canvasY+f+l,p+c.width>s&&(p=e.canvasX-c.width-h+d),g+c.height>u&&(g=e.canvasY-c.height-l+f),ut()(n,{top:g+\"px\",left:p+\"px\",visibility:\"visible\"}),v=function(t){y.onMenuHide()},document.body.addEventListener(\"click\",v),this.set(\"handler\",v)))},Ya.prototype.removeMenuEventListener=function(){var t=this.get(\"handleMenuClickWrapper\"),e=this.get(\"handler\");t&&(this.get(\"menu\").removeEventListener(\"click\",t),this.set(\"handleMenuClickWrapper\",null)),e&&document.body.removeEventListener(\"click\",e)},Ya.prototype.onMenuHide=function(){var t=this.get(\"menu\");t&&ut()(t,{visibility:\"hidden\"}),this.removeMenuEventListener()},Ya.prototype.destroy=function(){var t=this.get(\"menu\");this.removeMenuEventListener(),t&&(this.get(\"container\")||this.get(\"graph\").get(\"container\")).removeChild(t)},Ya),La=Math.max,Ra=(Na=ka,Object(L.__extends)(za,Na),za.prototype.getDefaultCfgs=function(){return{container:null,className:\"g6-minimap\",viewportClassName:\"g6-minimap-viewport\",type:\"default\",padding:50,size:[200,120],delegateStyle:{fill:\"#40a9ff\",stroke:\"#096dd9\"},refresh:!0}},za.prototype.getEvents=function(){return{beforepaint:\"updateViewport\",beforeanimate:\"disableRefresh\",afteranimate:\"enableRefresh\",viewportchange:\"disableOneRefresh\"}},za.prototype.disableRefresh=function(){this.set(\"refresh\",!1)},za.prototype.enableRefresh=function(){this.set(\"refresh\",!0),this.updateCanvas()},za.prototype.disableOneRefresh=function(){this.set(\"viewportChange\",!0)},za.prototype.initViewport=function(){var t,r,i,o,a,s,u,c,h,l,f,n=this,d=this._cfgs,p=d.size,g=d.graph;this.destroyed||(t=this.get(\"canvas\").get(\"container\"),r=ht()(\"<div class=\"+d.viewportClassName+\"\\n      style='position:absolute;\\n        left:0;\\n        top:0;\\n        box-sizing:border-box;\\n        border: 2px solid #1980ff'></div>\"),a=!1,f=l=h=c=u=s=o=i=0,t.addEventListener(\"mousedown\",function(t){var e;d.refresh=!1,t.target===r&&(e=r.style,s=parseInt(e.left,10),u=parseInt(e.top,10),c=parseInt(e.width,10),h=parseInt(e.height,10),c>p[0]||h>p[1]||(f=g.getZoom(),l=n.get(\"ratio\"),a=!0,i=t.clientX,o=t.clientY))},!1),t.addEventListener(\"mousemove\",function(t){var e,n;!a||S()(t.clientX)||S()(t.clientY)||(e=i-t.clientX,n=o-t.clientY,(s-e<0||s-e+c>=p[0])&&(e=0),(u-n<0||u-n+h>=p[1])&&(n=0),s-=e,u-=n,ut()(r,{left:s+\"px\",top:u+\"px\"}),g.translate(e*f/l,n*f/l),i=t.clientX,o=t.clientY)},!1),t.addEventListener(\"mouseleave\",function(){a=!1,d.refresh=!0},!1),t.addEventListener(\"mouseup\",function(){a=!1,d.refresh=!0},!1),this.set(\"viewport\",r),t.appendChild(r))},za.prototype.updateViewport=function(){var t,e,n,r,i,o,a,s,u,c,h,l,f,d,p,g,v,y;this.destroyed||(t=this.get(\"ratio\"),this.get(\"dx\"),this.get(\"dy\"),e=this.get(\"totaldx\"),n=this.get(\"totaldy\"),r=this.get(\"graph\"),i=this.get(\"size\"),o=r.get(\"width\"),a=r.get(\"height\"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(o,a),(c=this.get(\"viewport\"))||this.initViewport(),r.getZoom(),h=(u.x-s.x)*t,l=(u.y-s.y)*t,p=(f=s.x*t+e)+h,g=(d=s.y*t+n)+l,f<0&&(h+=f,f=0),p>i[0]&&(h-=p-i[0]),d<0&&(l+=d,d=0),g>i[1]&&(l-=g-i[1]),this.set(\"ratio\",t),v=f+\"px\",y=d+\"px\",ut()(c,{left:v,top:y,width:h+\"px\",height:l+\"px\"}))},za.prototype.updateGraphShapes=function(){var t,e=this._cfgs.graph,n=this.get(\"canvas\"),r=e.get(\"group\");r.destroyed||((t=r.clone()).resetMatrix(),n.clear(),n.add(t))},za.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph;m()(t.getEdges(),function(t){e.updateOneEdgeKeyShape(t)}),m()(t.getNodes(),function(t){e.updateOneNodeKeyShape(t)}),this.clearDestroyedShapes()},za.prototype.updateOneNodeKeyShape=function(t){var e=this.get(\"canvas\"),n=e.get(\"children\")[0]||e.addGroup(),r=this.get(\"itemMap\")||{},i=r[t.get(\"id\")],o=t.getBBox(),a=t.get(\"keyShape\").clone(),s=a.attr(),u={x:o.centerX,y:o.centerY};i?u=Object.assign(s,u):(i=a,n.add(i));var c=i.get(\"type\");\"rect\"!==c&&\"image\"!==c||(u.x=o.minX,u.y=o.minY),i.attr(u),t.isVisible()||i.hide(),i.exist=!0,r[t.get(\"id\")]=i,this.set(\"itemMap\",r)},za.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph;m()(t.getEdges(),function(t){e.updateOneEdgeKeyShape(t)}),m()(t.getNodes(),function(t){e.updateOneNodeDelegateShape(t)}),this.clearDestroyedShapes()},za.prototype.clearDestroyedShapes=function(){var t=this.get(\"itemMap\")||{},e=Object.keys(t);if(e&&0!==e.length)for(var n=e.length-1;0<=n;n--){var r=t[e[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete t[e[n]])}},za.prototype.updateOneEdgeKeyShape=function(t){var e,n=this.get(\"canvas\"),r=n.get(\"children\")[0]||n.addGroup(),i=this.get(\"itemMap\")||{},o=i[t.get(\"id\")];o?(e=t.get(\"keyShape\").attr(\"path\"),o.attr(\"path\",e)):(o=t.get(\"keyShape\").clone(),r.add(o),o.toBack()),t.isVisible()||o.hide(),o.exist=!0,i[t.get(\"id\")]=o,this.set(\"itemMap\",i)},za.prototype.updateOneNodeDelegateShape=function(t){var e,n=this.get(\"canvas\"),r=n.get(\"children\")[0]||n.addGroup(),i=this.get(\"delegateStyle\"),o=this.get(\"itemMap\")||{},a=o[t.get(\"id\")],s=t.getBBox();a?(e={x:s.minX,y:s.minY,width:s.width,height:s.height},a.attr(e)):a=r.addShape(\"rect\",{attrs:Object(L.__assign)({x:s.minX,y:s.minY,width:s.width,height:s.height},i),name:\"minimap-node-shape\"}),t.isVisible()||a.hide(),a.exist=!0,o[t.get(\"id\")]=a,this.set(\"itemMap\",o)},za.prototype.init=function(){this.initContainer(),this.get(\"graph\").on(\"afterupdateitem\",this.handleUpdateCanvas),this.get(\"graph\").on(\"afteritemstatechange\",this.handleUpdateCanvas),this.get(\"graph\").on(\"afteradditem\",this.handleUpdateCanvas),this.get(\"graph\").on(\"afterremoveitem\",this.handleUpdateCanvas),this.get(\"graph\").on(\"afterrender\",this.handleUpdateCanvas),this.get(\"graph\").on(\"afterlayout\",this.handleUpdateCanvas)},za.prototype.initContainer=function(){var t=this.get(\"graph\"),e=this.get(\"size\"),n=this.get(\"className\"),r=this.get(\"container\"),i=ht()(\"<div class='\"+n+\"' style='width: \"+e[0]+\"px; height: \"+e[1]+\"px; overflow: hidden'></div>\");T()(r)&&(r=document.getElementById(r)),r?r.appendChild(i):t.get(\"container\").appendChild(i),this.set(\"container\",i);var o,a=ht()('<div class=\"g6-minimap-container\" style=\"position: relative;\"></div>');i.appendChild(a),o=\"svg\"===t.get(\"renderer\")?new Oe.a({container:a,width:e[0],height:e[1]}):new Se.a({container:a,width:e[0],height:e[1]}),this.set(\"canvas\",o),this.updateCanvas()},za.prototype.updateCanvas=function(){if(this.get(\"refresh\")){var t=this.get(\"graph\");if(!t.get(\"destroyed\")){this.get(\"viewportChange\")&&(this.set(\"viewportChange\",!1),this.updateViewport());var e=this.get(\"size\"),n=this.get(\"canvas\"),r=this.get(\"type\"),i=this.get(\"padding\");if(!n.destroyed){switch(r){case\"default\":this.updateGraphShapes();break;case\"keyShape\":this.updateKeyShapes();break;case\"delegate\":this.updateDelegateShapes()}var o,a,s,u,c,h,l,f,d,p,g=n.get(\"children\")[0];g&&(g.resetMatrix(),o=g.getCanvasBBox(),s=(a=t.get(\"canvas\").getBBox()).width,u=a.height,Number.isFinite(o.width)&&(s=La(o.width,s),u=La(o.height,u)),s+=2*i,u+=2*i,c=Math.min(e[0]/s,e[1]/u),p=[1,0,0,0,1,0,0,0,1],l=h=0,Number.isFinite(o.minX)&&(h=-o.minX),Number.isFinite(o.minY)&&(l=-o.minY),f=(e[0]-(s-2*i)*c)/2,d=(e[1]-(u-2*i)*c)/2,p=et(p,[[\"t\",h,l],[\"s\",c,c],[\"t\",f,d]]),g.setMatrix(p),this.set(\"ratio\",c),this.set(\"totaldx\",f+h*c),this.set(\"totaldy\",d+l*c),this.set(\"dx\",f),this.set(\"dy\",d),this.updateViewport())}}}},za.prototype.getCanvas=function(){return this.get(\"canvas\")},za.prototype.getViewport=function(){return this.get(\"viewport\")},za.prototype.getContainer=function(){return this.get(\"container\")},za.prototype.destroy=function(){this.get(\"canvas\").destroy();var t=this.get(\"container\");t.parentNode.removeChild(t)},za);function za(){var e=null!==Na&&Na.apply(this,arguments)||this;return e.handleUpdateCanvas=Object(ot.debounce)(function(t){e.destroyed||e.updateCanvas()},100,!1),e}function Ya(){return null!==Ba&&Ba.apply(this,arguments)||this}function Fa(t,e,n){var r=t.x-e.x,i=t.y-e.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function Xa(t,e){var n=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(n*n*e.source.x+n*(t.y-e.source.y)+t.x)/(n*n+1);return{x:r,y:n*(r-e.source.x)+e.source.y}}var Ga,Va,qa=(Va=ka,Object(L.__extends)(Za,Va),Za.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},Za.prototype.init=function(){var t=this.get(\"graph\"),e=this.get(\"onTick\");this.set(\"tick\",function(){e&&e(),t.refreshPositions()})},Za.prototype.bundling=function(t){var a=this;if(a.set(\"data\",t),!a.isTicking()){var e=t.edges||[],n=t.nodes||[],s={},r=!1;if(n.forEach(function(t){null!==t.x&&null!==!t.y&&void 0!==t.x?t.y:r=!0,s[t.id]=t}),r)throw new Error(\"please layout the graph or assign x and y for nodes first\");a.set(\"nodeIdMap\",s);var u=a.get(\"divisions\"),i=a.get(\"divRate\"),c=a.divideEdges(u);a.set(\"edgePoints\",c);var o=a.getEdgeBundles();a.set(\"edgeBundles\",o);for(var h=a.get(\"cycles\"),l=a.get(\"iterations\"),f=a.get(\"iterRate\"),d=a.get(\"lambda\"),p=0;p<h;p++){for(var g=0;g<l;g++)!function(){var o=[];e.forEach(function(t,e){if(t.source!==t.target){var n=s[t.source],r=s[t.target];o[e]=a.getEdgeForces({source:n,target:r},e,u,d);for(var i=0;i<u+1;i++)c[e][i].x+=o[e][i].x,c[e][i].y+=o[e][i].y}})}();d/=2,u*=i,l*=f,c=a.divideEdges(u),a.set(\"edgePoints\",c)}e.forEach(function(t,e){t.source!==t.target&&(t.shape=\"polyline\",t.type=\"polyline\",t.controlPoints=c[e].slice(1,c[e].length-1))}),a.get(\"graph\").refresh()}},Za.prototype.updateBundling=function(e){var t,n=this,r=e.data;r&&n.set(\"data\",r),n.get(\"ticking\")&&n.set(\"ticking\",!1),Object.keys(e).forEach(function(t){n.set(t,e[t])}),e.onTick&&(t=this.get(\"graph\"),n.set(\"tick\",function(){e.onTick(),t.refresh()})),n.bundling(r)},Za.prototype.divideEdges=function(r){var i=this,t=i.get(\"data\").edges,c=i.get(\"nodeIdMap\"),h=i.get(\"edgePoints\");return h&&void 0!==h||(h=[]),t.forEach(function(t,o){h[o]&&void 0!==h[o]||(h[o]=[]);var a,s,u,e=c[t.source],n=c[t.target];1===r?(h[o].push({x:e.x,y:e.y}),h[o].push({x:.5*(e.x+n.x),y:.5*(e.y+n.y)}),h[o].push({x:n.x,y:n.y})):(a=(h[o]&&h[o]!==[]?i.getEdgeLength(h[o]):Fa({x:e.x,y:e.y},{x:n.x,y:n.y}))/(r+1),s=a,u=[{x:e.x,y:e.y}],h[o].forEach(function(t,e){if(0!==e){for(var n=Fa(t,h[o][e-1]);s<n;){var r=s/n,i={x:h[o][e-1].x,y:h[o][e-1].y};i.x+=r*(t.x-h[o][e-1].x),i.y+=r*(t.y-h[o][e-1].y),u.push(i),n-=s,s=a}s-=n}}),u.push({x:n.x,y:n.y}),h[o]=u)}),h},Za.prototype.getEdgeLength=function(n){var r=0;return n.forEach(function(t,e){0!==e&&(r+=Fa(t,n[e-1]))}),r},Za.prototype.getEdgeBundles=function(){var s=this,e=s.get(\"data\").edges||[],u=s.get(\"bundleThreshold\"),c=s.get(\"nodeIdMap\"),h=(h=s.get(\"edgeBundles\"))||[];return e.forEach(function(t,e){h[e]&&void 0!==h[e]||(h[e]=[])}),e.forEach(function(t,i){var o=c[t.source],a=c[t.target];e.forEach(function(t,e){var n,r;e<=i||(n=c[t.source],r=c[t.target],s.getBundleScore({source:o,target:a},{source:n,target:r})>=u&&(h[i].push(e),h[e].push(i)))})}),h},Za.prototype.getBundleScore=function(t,e){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Fa({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Fa({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),this.getAngleScore(t,e)*this.getScaleScore(t,e)*this.getPositionScore(t,e)*this.getVisibilityScore(t,e)},Za.prototype.getAngleScore=function(t,e){return n={x:t.vx,y:t.vy},r={x:e.vx,y:e.vy},(n.x*r.x+n.y*r.y)/(t.length*e.length);var n,r},Za.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)},Za.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2;return n/(n+Fa({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2}))},Za.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),r=this.getEdgeVisibility(e,t);return n<r?n:r},Za.prototype.getEdgeVisibility=function(t,e){var n=Xa(e.source,t),r=Xa(e.target,t),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Fa(i,o)/Fa(n,r))},Za.prototype.getEdgeForces=function(t,e,n,r){for(var i=this.get(\"edgePoints\"),o=this.get(\"K\")/(Fa(t.source,t.target)*(n+1)),a=[{x:0,y:0}],s=1;s<n;s++){var u={x:0,y:0},c=this.getSpringForce({pre:i[e][s-1],cur:i[e][s],next:i[e][s+1]},o),h=this.getElectrostaticForce(s,e);u.x=r*(c.x+h.x),u.y=r*(c.y+h.y),a.push(u)}return a.push({x:0,y:0}),a},Za.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,r=t.pre.y+t.next.y-2*t.cur.y;return{x:n*=e,y:r*=e}},Za.prototype.getElectrostaticForce=function(r,i){var o=this.get(\"eps\"),t=this.get(\"edgeBundles\"),a=this.get(\"edgePoints\"),e=t[i],s={x:0,y:0};return e.forEach(function(t){var e,n={x:a[t][r].x-a[i][r].x,y:a[t][r].y-a[i][r].y};(Math.abs(n.x)>o||Math.abs(n.y)>o)&&(e=1/Fa(a[t][r],a[i][r]),s.x+=n.x*e,s.y+=n.y*e)}),s},Za.prototype.isTicking=function(){return this.get(\"ticking\")},Za.prototype.getSimulation=function(){return this.get(\"forceSimulation\")},Za.prototype.destroy=function(){this.get(\"ticking\")&&this.getSimulation().stop(),Va.prototype.destroy.call(this)},Za),Ha={stroke:\"#000\",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:\"#ccc\"},Wa=(Ga=ka,Object(L.__extends)(Ua,Ga),Ua.prototype.getDefaultCfgs=function(){return{trigger:\"mousemove\",d:1.5,r:300,delegateStyle:Object(y.clone)(Ha),showLabel:!1,maxD:5,minD:0,scaleRBy:\"unset\",scaleDBy:\"unset\",showDPercent:!0}},Ua.prototype.getEvents=function(){var t;switch(this.get(\"trigger\")){case\"click\":t={click:\"magnify\"};break;case\"drag\":t={click:\"createDelegate\"};break;default:t={mousemove:\"magnify\"}}return t},Ua.prototype.init=function(){var t=this.get(\"r\");this.set(\"cachedMagnifiedModels\",[]),this.set(\"cachedOriginPositions\",{}),this.set(\"r2\",t*t);var e=this.get(\"d\");this.set(\"molecularParam\",(e+1)*t)},Ua.prototype.createDelegate=function(t){var e=this,n=this,r=n.get(\"delegate\");r&&!r.destroyed||(n.magnify(t),(r=n.get(\"delegate\")).on(\"dragstart\",function(t){n.set(\"delegateCenterDiff\",{x:r.attr(\"x\")-t.x,y:r.attr(\"y\")-t.y})}),r.on(\"drag\",function(t){n.magnify(t)}),\"wheel\"===this.get(\"scaleDBy\")&&r.on(\"mousewheel\",function(t){e.scaleDByWheel(t)}),\"wheel\"===this.get(\"scaleRBy\")&&r.on(\"mousewheel\",function(t){n.scaleRByWheel(t)}))},Ua.prototype.scaleRByWheel=function(t){var e,n,r,i,o,a,s,u;t&&t.originalEvent&&(t.preventDefault&&t.preventDefault(),e=this.get(\"graph\"),r=((n=this.get(\"delegate\"))?{x:n.attr(\"x\"),y:n.attr(\"y\")}:void 0)||e.getPointByClient(t.clientX,t.clientY),i=t.originalEvent.wheelDelta<0?.95:1/.95,o=this.get(\"maxR\"),a=this.get(\"minR\"),((s=this.get(\"r\"))>(o||e.get(\"height\"))&&1<i||s<(a||.05*e.get(\"height\"))&&i<1)&&(i=1),s*=i,this.set(\"r\",s),this.set(\"r2\",s*s),u=this.get(\"d\"),this.set(\"molecularParam\",(u+1)*s),this.set(\"delegateCenterDiff\",void 0),this.magnify(t,r))},Ua.prototype.scaleRByDrag=function(t){var e,n,r,i,o,a,s,u;t&&(e=this.get(\"dragPrePos\"),r=(n=this.get(\"graph\")).getPointByClient(t.clientX,t.clientY),i=t.x-e.x<0?.95:1/.95,o=this.get(\"maxR\"),a=this.get(\"minR\"),((s=this.get(\"r\"))>(o||n.get(\"height\"))&&1<i||s<(a||.05*n.get(\"height\"))&&i<1)&&(i=1),s*=i,this.set(\"r\",s),this.set(\"r2\",s*s),u=this.get(\"d\"),this.set(\"molecularParam\",(u+1)*s),this.magnify(t,r),this.set(\"dragPrePos\",{x:t.x,y:t.y}))},Ua.prototype.scaleDByWheel=function(t){var e,n,r,i,o,a,s;(t||t.originalEvent)&&(t.preventDefault&&t.preventDefault(),e=0,e=t.originalEvent.wheelDelta<0?-.1:.1,n=this.get(\"d\")+e,r=this.get(\"maxD\"),i=this.get(\"minD\"),n<r&&i<n&&(this.set(\"d\",n),o=this.get(\"r\"),this.set(\"molecularParam\",(n+1)*o),s=(a=this.get(\"delegate\"))?{x:a.attr(\"x\"),y:a.attr(\"y\")}:void 0,this.set(\"delegateCenterDiff\",void 0),this.magnify(t,s)))},Ua.prototype.scaleDByDrag=function(t){var e,n=this.get(\"dragPrePos\"),r=0<t.x-n.x?.1:-.1,i=this.get(\"d\")+r,o=this.get(\"maxD\"),a=this.get(\"minD\");i<o&&a<i&&(this.set(\"d\",i),e=this.get(\"r\"),this.set(\"molecularParam\",(i+1)*e),this.magnify(t)),this.set(\"dragPrePos\",{x:t.x,y:t.y})},Ua.prototype.magnify=function(t,e){this.restoreCache();var n=this.get(\"graph\"),r=this.get(\"cachedMagnifiedModels\"),i=this.get(\"cachedOriginPositions\"),o=this.get(\"showLabel\"),a=this.get(\"r\"),s=this.get(\"r2\"),u=this.get(\"d\"),c=this.get(\"molecularParam\"),h=n.getNodes(),l=h.length,f=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!this.get(\"dragging\")||\"mousemove\"!==this.get(\"trigger\")&&\"click\"!==this.get(\"trigger\")||(f=this.get(\"cacheCenter\"));var d=this.get(\"delegateCenterDiff\");d&&(f.x+=d.x,f.y+=d.y),this.updateDelegate(f,a);for(var p=0;p<l;p++){var g=h[p].getModel(),v=g.x,y=g.y;if(!isNaN(v)&&!isNaN(y)){var m=(v-f.x)*(v-f.x)+(y-f.y)*(y-f.y);if(!isNaN(m)&&m<s&&0!=m){var b=Math.sqrt(m),x=c*b/(u*b+a),w=(v-f.x)/b,M=(y-f.y)/b;if(g.x=w*x+f.x,g.y=M*x+f.y,i[g.id]||(i[g.id]={x:v,y:y,texts:[]}),r.push(g),o&&2*b<a)for(var S=h[p].getContainer().getChildren(),_=S.length,O=0;O<_;O++){var C=S[O];\"text\"===C.get(\"type\")&&(i[g.id].texts.push({visible:C.get(\"visible\"),shape:C}),C.set(\"visible\",!0))}}}}n.refreshPositions()},Ua.prototype.restoreCache=function(){for(var t=this.get(\"cachedMagnifiedModels\"),e=this.get(\"cachedOriginPositions\"),n=t.length,r=0;r<n;r++){var i=t[r],o=e[i.id];i.x=o.x,i.y=o.y;for(var a=o.texts.length,s=0;s<a;s++){var u=o.texts[s];u.shape.set(\"visible\",u.visible)}}this.set(\"cachedMagnifiedModels\",[]),this.set(\"cachedOriginPositions\",{})},Ua.prototype.updateParams=function(t){var e=t.r,n=t.d,r=t.trigger,i=t.minD,o=t.maxD,a=t.minR,s=t.maxR,u=t.scaleDBy,c=t.scaleRBy;isNaN(t.r)||(this.set(\"r\",e),this.set(\"r2\",e*e)),isNaN(n)||this.set(\"d\",n),isNaN(o)||this.set(\"maxD\",o),isNaN(i)||this.set(\"minD\",i),isNaN(s)||this.set(\"maxR\",s),isNaN(a)||this.set(\"minR\",a);var h,l=this.get(\"d\"),f=this.get(\"r\");this.set(\"molecularParam\",(l+1)*f),\"mousemove\"!==r&&\"click\"!==r&&\"drag\"!==r||this.set(\"trigger\",r),\"drag\"!==u&&\"wheel\"!==u&&\"unset\"!==u||(this.set(\"scaleDBy\",u),this.get(\"delegate\").remove(),this.get(\"delegate\").destroy(),(h=this.get(\"dPercentText\"))&&(h.remove(),h.destroy())),\"drag\"!==c&&\"wheel\"!==c&&\"unset\"!==c||(this.set(\"scaleRBy\",c),this.get(\"delegate\").remove(),this.get(\"delegate\").destroy(),(h=this.get(\"dPercentText\"))&&(h.remove(),h.destroy()))},Ua.prototype.updateDelegate=function(t,e){var n,r,i,o,a,s=this,u=this,c=u.get(\"graph\"),h=u.get(\"delegate\");!h||h.destroyed?(n=c.get(\"group\"),r=u.get(\"delegateStyle\")||Ha,h=n.addShape(\"circle\",{attrs:Object(L.__assign)({r:e/1.5,x:t.x,y:t.y},r),name:\"lens-shape\",draggable:!0}),\"drag\"!==this.get(\"trigger\")&&(\"wheel\"===this.get(\"scaleRBy\")?h.on(\"mousewheel\",function(t){u.scaleRByWheel(t)}):\"drag\"===this.get(\"scaleRBy\")&&(h.on(\"dragstart\",function(t){u.set(\"dragging\",!0),u.set(\"cacheCenter\",{x:t.x,y:t.y}),u.set(\"dragPrePos\",{x:t.x,y:t.y})}),h.on(\"drag\",function(t){u.scaleRByDrag(t)}),h.on(\"dragend\",function(t){u.set(\"dragging\",!1)})),\"wheel\"===this.get(\"scaleDBy\")?h.on(\"mousewheel\",function(t){s.scaleDByWheel(t)}):\"drag\"===this.get(\"scaleDBy\")&&(h.on(\"dragstart\",function(t){u.set(\"dragging\",!0),u.set(\"cacheCenter\",{x:t.x,y:t.y}),u.set(\"dragPrePos\",{x:t.x,y:t.y})}),h.on(\"drag\",function(t){s.scaleDByDrag(t)}),h.on(\"dragend\",function(t){u.set(\"dragging\",!1)})))):h.attr({x:t.x,y:t.y,r:e/1.5}),u.get(\"showDPercent\")&&(i=Math.round((u.get(\"d\")-u.get(\"minD\"))/(u.get(\"maxD\")-u.get(\"minD\"))*100),o=u.get(\"dPercentText\"),a=t.y+e/1.5+16,!o||o.destroyed?(o=(n=c.get(\"group\")).addShape(\"text\",{attrs:{text:i+\"%\",x:t.x,y:a,fill:\"#aaa\",stroke:\"#fff\",lineWidth:1,fontSize:12}}),u.set(\"dPercentText\",o)):o.attr({text:i+\"%\",x:t.x,y:a})),u.set(\"delegate\",h)},Ua.prototype.clear=function(){var t=this.get(\"graph\");this.restoreCache(),t.refreshPositions();var e=this.get(\"delegate\");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get(\"dPercentText\");n&&!n.destroyed&&(n.remove(),n.destroy())},Ua.prototype.destroy=function(){this.clear()},Ua);function Ua(){return null!==Ga&&Ga.apply(this,arguments)||this}function Za(){return null!==Va&&Va.apply(this,arguments)||this}Ia()(\"\\n  .g6-component-toolbar {\\n    position: absolute;\\n    list-style-type: none;\\n    padding: 6px;\\n    left: 0px;\\n    top: 0px;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    margin: 0;\\n  }\\n  .g6-component-toolbar li {\\n    float: left;\\n    text-align: center;\\n    width: 35px;\\n    height: 24px;\\n    cursor: pointer;\\n\\t\\tlist-style-type:none;\\n    list-style: none;\\n    margin-left: 0px;\\n  }\\n  .g6-component-toolbar li .icon {\\n    opacity: 0.7;\\n  }\\n  .g6-component-toolbar li .icon:hover {\\n    opacity: 1;\\n  }\\n\");var $a,Ka=($a=ka,Object(L.__extends)(Qa,$a),Qa.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\\n          <ul class=\\'g6-component-toolbar\\'>\\n            <li code=\\'redo\\'>\\n              <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\\n                <path d=\"M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z\" fill=\"\" p-id=\"2041\"></path>\\n              </svg>\\n            </li>\\n            <li code=\\'undo\\'>\\n              <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\\n                <path d=\"M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z\" fill=\"\" p-id=\"2764\"></path>\\n              </svg>\\n            </li>\\n            <li  code=\\'zoomOut\\'>\\n              <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\\n                <path d=\"M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z\"></path>\\n              </svg>\\n            </li>\\n            <li code=\\'zoomIn\\'>\\n              <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\\n                <path d=\"M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z\" p-id=\"3853\"></path>\\n              </svg>\\n            </li>\\n            <li code=\\'realZoom\\'>\\n              <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"24\">\\n                <path d=\"M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z\"></path>\\n              </svg>\\n            </li>\\n            <li code=\\'autoZoom\\'>\\n              <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"24\">\\n                <path d=\"M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z\"></path>\\n              </svg>\\n            </li>\\n          </ul>\\n        '}}},Qa.prototype.init=function(){var r=this,i=this.get(\"graph\"),t=this.get(\"getContent\")(i),e=t;Object(y.isString)(t)&&(e=ht()(t));var n=this.get(\"className\");e.setAttribute(\"class\",n||\"g6-component-toolbar\"),(this.get(\"container\")||this.get(\"graph\").get(\"container\")).appendChild(e),this.set(\"toolBar\",e);var o=this.get(\"handleClick\");e.addEventListener(\"click\",function(t){var e,n=t.path.filter(function(t){return\"LI\"===t.nodeName});0===n.length||(e=n[0].getAttribute(\"code\"))&&(o?o(e,i):r.handleDefaultOperator(e,i))});var a=this.get(\"position\");a&&ut()(e,{top:a.y+\"px\",left:a.x+\"px\"}),this.bindUndoRedo()},Qa.prototype.bindUndoRedo=function(){var t=this.get(\"graph\"),o=document.querySelector('.g6-component-toolbar li[code=\"undo\"]'),a=document.querySelector('.g6-component-toolbar li[code=\"undo\"] svg'),s=document.querySelector('.g6-component-toolbar li[code=\"redo\"]'),u=document.querySelector('.g6-component-toolbar li[code=\"redo\"] svg');o&&a&&s&&u&&t.on(\"stackchange\",function(t){var e=t.undoStack,n=t.redoStack,r=e.length,i=n.length;1===r?(o.setAttribute(\"style\",\"cursor: not-allowed\"),a.setAttribute(\"style\",\"opacity: 0.4\")):(o.removeAttribute(\"style\"),a.removeAttribute(\"style\")),0===i?(s.setAttribute(\"style\",\"cursor: not-allowed\"),u.setAttribute(\"style\",\"opacity: 0.4\")):(s.removeAttribute(\"style\"),u.removeAttribute(\"style\"))})},Qa.prototype.undo=function(){var n=this.get(\"graph\"),t=n.getUndoStack();if(t&&0!==t.length){var e=t.pop();if(e){var r=e.action;n.pushStack(r,Object(y.clone)(e.data),\"redo\");var i=e.data.before;if(\"add\"===r&&(i=e.data.after),!i)return;switch(r){case\"visible\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){var e=n.findById(t.id);t.visible?n.showItem(e,!1):n.hideItem(e,!1)})});break;case\"render\":case\"update\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){n.updateItem(t.id,t,!1)})});break;case\"changedata\":n.changeData(i,!1);break;case\"delete\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){var e=t.itemType;delete t.itemType,n.addItem(e,t,!1)})});break;case\"add\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){n.removeItem(t.id,!1)})})}}}},Qa.prototype.redo=function(){var n=this.get(\"graph\"),t=n.getRedoStack();if(t&&0!==t.length){var e=t.pop();if(e){var r=e.action,i=e.data.after;if(n.pushStack(r,Object(y.clone)(e.data)),\"delete\"===r&&(i=e.data.before),!i)return;switch(r){case\"visible\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){var e=n.findById(t.id);t.visible?n.showItem(e,!1):n.hideItem(e,!1)})});break;case\"render\":case\"update\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){n.updateItem(t.id,t,!1)})});break;case\"changedata\":n.changeData(i,!1);break;case\"delete\":i.edges&&i.edges.forEach(function(t){n.removeItem(t.id,!1)}),i.nodes&&i.nodes.forEach(function(t){n.removeItem(t.id,!1)}),i.combos&&i.combos.forEach(function(t){n.removeItem(t.id,!1)});break;case\"add\":Object.keys(i).forEach(function(t){var e=i[t];e&&e.forEach(function(t){var e=t.itemType;delete t.itemType,n.addItem(e,t,!1)})})}}}},Qa.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case\"redo\":this.redo();break;case\"undo\":this.undo();break;case\"zoomOut\":if(5<1.25*n)return;e.zoomTo(1.1*n);break;case\"zoomIn\":if(.75*n<.3)return;e.zoomTo(.9*n);break;case\"realZoom\":e.zoomTo(1);break;case\"autoZoom\":e.fitView([20,20])}},Qa.prototype.destroy=function(){var t=this.get(\"toolBar\");t&&(this.get(\"container\")||this.get(\"graph\").get(\"container\")).removeChild(t);var e=this.get(\"handleClick\");e&&t.removeEventListener(\"click\",e)},Qa);function Qa(){return null!==$a&&$a.apply(this,arguments)||this}Ia()(\"\\n  .g6-component-tooltip {\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    padding: 10px 8px;\\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\\n  }\\n  .tooltip-type {\\n    padding: 0;\\n    margin: 0;\\n  }\\n  .tooltip-id {\\n    color: #531dab;\\n  }\\n\");var Ja,ts=(Ja=ka,Object(L.__extends)(ns,Ja),ns.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return\"\\n          <h4 class='tooltip-type'>类型：\"+t.item.getType()+\"</h4>\\n          <span class='tooltip-id'>ID：\"+t.item.getID()+\"</span>\\n        \"},shouldBegin:function(t){return!0},itemTypes:[\"node\",\"edge\",\"combo\"]}},ns.prototype.getEvents=function(){return{\"node:mouseenter\":\"onMouseEnter\",\"node:mouseleave\":\"onMouseLeave\",\"node:mousemove\":\"onMouseMove\",\"edge:mouseenter\":\"onMouseEnter\",\"edge:mouseleave\":\"onMouseLeave\",\"edge:mousemove\":\"onMouseMove\",afterremoveitem:\"onMouseLeave\",contextmenu:\"onMouseLeave\",\"node:drag\":\"onMouseLeave\"}},ns.prototype.init=function(){var t=this.get(\"className\"),e=ht()(\"<div class=\"+(t||\"g6-component-tooltip\")+\"></div>\"),n=(n=this.get(\"container\"))||this.get(\"graph\").get(\"container\");ut()(e,{position:\"absolute\",visibility:\"hidden\"}),n.appendChild(e),this.set(\"tooltip\",e)},ns.prototype.onMouseEnter=function(t){var e,n,r=this.get(\"itemTypes\");t.item&&t.item.getType&&-1===r.indexOf(t.item.getType())||(e=t.item,n=this.get(\"graph\"),this.currentTarget=e,this.showTooltip(t),n.emit(\"tooltipchange\",{item:t.item,action:\"show\"}))},ns.prototype.onMouseMove=function(t){var e=this.get(\"itemTypes\");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t)},ns.prototype.onMouseLeave=function(){this.hideTooltip(),this.get(\"graph\").emit(\"tooltipchange\",{item:this.currentTarget,action:\"hide\"}),this.currentTarget=null},ns.prototype.showTooltip=function(t){var e,n,r;t.item&&(e=this.get(\"itemTypes\"),t.item.getType&&-1===e.indexOf(t.item.getType())||(n=this.get(\"tooltip\"),r=this.get(\"getContent\")(t),T()(r)?n.innerHTML=r:n.innerHTML=r.outerHTML,this.updatePosition(t)))},ns.prototype.hideTooltip=function(){var t=this.get(\"tooltip\");t&&ut()(t,{visibility:\"hidden\"})},ns.prototype.updatePosition=function(t){var e,n,r,i,o,a,s,u,c,h,l=this.get(\"shouldBegin\"),f=this.get(\"tooltip\");l(t)?(n=(e=this.get(\"graph\")).get(\"width\"),r=e.get(\"height\"),i=this.get(\"offsetX\")||0,o=this.get(\"offsetY\")||0,a=e.getPointByClient(t.clientX,t.clientY),u=(s=e.getCanvasByPoint(a.x,a.y)).x,c=s.y,c+=o,(u+=i)+(h=f.getBoundingClientRect()).width>n&&(u=u-h.width-i),c+h.height>r&&(c=c-h.height-o),ut()(f,{left:u+\"px\",top:c+\"px\",visibility:\"visible\"})):ut()(f,{visibility:\"hidden\"})},ns.prototype.hide=function(){this.onMouseLeave()},ns.prototype.destroy=function(){var t=this.get(\"tooltip\");t&&(this.get(\"container\")||this.get(\"graph\").get(\"container\")).removeChild(t)},ns),es=n(243);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function ns(){return null!==Ja&&Ja.apply(this,arguments)||this}var rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function is(t,e){function n(){this.constructor=t}rs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var os=function(){return(os=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function as(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}var ss=n(244),us=n.n(ss),cs=n(16),hs=[1,0,0,0,1,0,0,0,1];function ls(t,e,n){return void 0===n&&(n=hs),e?cs.ext.transform(n,[[\"t\",-t.x,-t.y],[\"r\",e],[\"t\",t.x,t.y]]):null}function fs(t,e){return t.x||t.y?cs.ext.transform(e||hs,[[\"t\",t.x,t.y]]):null}function ds(t,e){var n=[0,0];return cs.vec2.transformMat3(n,e,t),n}function ps(t,e,n,r){var i;e&&(i=ls({x:n,y:r},e,t.getMatrix()),t.setMatrix(i))}function gs(t,e,n){var r=fs({x:e,y:n});t.attr(\"matrix\",r)}function vs(t){var e=0,n=0,r=0,i=0;return Object(ot.isNumber)(t)?e=n=r=i=t:Object(ot.isArray)(t)&&(e=t[0],r=Object(ot.isNil)(t[1])?t[0]:t[1],i=Object(ot.isNil)(t[2])?t[0]:t[2],n=Object(ot.isNil)(t[3])?r:t[3]),[e,r,i,n]}function ys(t){for(var e=t.childNodes,n=e.length-1;0<=n;n--)t.removeChild(e[n])}function ms(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}}function bs(t,e,n,r){return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:t+n,maxY:e+r}}function xs(t,e,n){return(1-n)*t+e*n}function ws(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}function Ms(t){return t+\"px\"}function Ss(t,e,n,r){var i,o,a=r/(i=e.x-t.x,o=e.y-t.y,Math.sqrt(i*i+o*o)),s=0;return\"start\"===n?s=0-a:\"end\"===n&&(s=1+a),{x:xs(t.x,e.x,s),y:xs(t.y,e.y,s)}}var _s=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\",Os=new RegExp(\"([a-z])[\"+_s+\",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\"+_s+\"]*,?[\"+_s+\"]*)+)\",\"ig\"),Cs=new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\"+_s+\"]*,?[\"+_s+\"]*\",\"ig\"),ks=function(o){if(!o)return null;if(Object(ot.isArray)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(Os,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(Cs,function(t,e){e&&r.push(+e)}),\"m\"===i&&2<r.length&&(s.push([e].concat(r.splice(0,2))),i=\"l\",e=\"m\"===e?\"l\":\"L\"),\"o\"===i&&1===r.length&&s.push([e,r[0]]),\"r\"===i)s.push([e].concat(r));else for(;r.length>=a[i]&&(s.push([e].concat(r.splice(0,a[i]))),a[i]););return o}),s};var Es=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length;if(0===i||0===o)return null;for(var a=[],s=0;s<=i;s++)a[s]=[],a[s][0]={min:s};for(var u,c,h,l,f=0;f<=o;f++)a[0][f]={min:f};for(s=1;s<=i;s++)for(n=t[s-1],f=1;f<=o;f++){r=function(t,n){if(t.length!==n.length)return!1;var r=!0;return Object(ot.each)(t,function(t,e){if(t!==n[e])return r=!1}),r}(n,e[f-1])?0:1;var d=a[s-1][f].min+1,p=a[s][f-1].min+1,g=a[s-1][f-1].min+r;a[s][f]=(l=h=void 0,h=null,(c=p)<(l=g)&&(l=c,h=\"add\"),(u=d)<l&&(l=u,h=\"del\"),{type:h,min:l})}return a}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){for(var c=n[u][u].min,s=u,h=a;h<=i;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;0<=u;u--)a=o[u].index,\"add\"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var l=i-(r=t.length);if(r<i)for(u=0;u<l;u++)\"z\"===t[r-1][0]||\"Z\"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function js(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=Ps(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function Ps(t){var e=[];switch(t[0]){case\"M\":case\"L\":e.push([t[1],t[2]]);break;case\"A\":e.push([t[6],t[7]]);break;case\"Q\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"T\":e.push([t[1],t[2]]);break;case\"C\":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case\"S\":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case\"H\":case\"V\":e.push([t[1],t[1]])}return e}var Is=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=Ps(t[r]),e[r][0]){case\"M\":t[r]=[\"M\"].concat(n[0]);break;case\"L\":t[r]=[\"L\"].concat(n[0]);break;case\"A\":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case\"Q\":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=js(n,t[r-1],1)}t[r]=[\"Q\"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case\"T\":t[r]=[\"T\"].concat(n[0]);break;case\"C\":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=js(n,t[r-1],2)}t[r]=[\"C\"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case\"S\":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=js(n,t[r-1],1)}t[r]=[\"S\"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t},As=(Ts.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Ts.prototype.stopPropagation=function(){this.propagationStopped=!0},Ts.prototype.toString=function(){return\"[Event (type=\"+this.type+\")]\"},Ts.prototype.save=function(){},Ts.prototype.restore=function(){},Ts);function Ts(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}function Ns(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var Bs=\"undefined\"!=typeof window&&void 0!==window.document;function Ds(t,e){if(t.isCanvas())return 1;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function Ls(t){return t.cfg.visible&&t.cfg.capture}var Rs,zs=(Rs=we.a,Object(L.__extends)(Fs,Rs),Fs.prototype.getDefaultCfg=function(){return{}},Fs.prototype.get=function(t){return this.cfg[t]},Fs.prototype.set=function(t,e){this.cfg[t]=e},Fs.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Fs),Ys=n(84);function Fs(t){var e=Rs.call(this)||this;e.destroyed=!1;var n=e.getDefaultCfg();return e.cfg=Pn()(n,t),e}function Xs(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*h,n[2]=f*o+d*u+p*l,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*h,n[5]=g*o+v*u+y*l,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*h,n[8]=m*o+b*u+x*l,n}function Gs(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}var Vs=[\"zIndex\",\"capture\",\"visible\",\"type\"],qs=[\"repeat\"];var Hs,Ws=(Hs=zs,Object(L.__extends)(Zs,Hs),Zs.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Zs.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Zs.prototype.onCanvasChange=function(t){},Zs.prototype.initAttrs=function(t){},Zs.prototype.initAnimate=function(){this.set(\"animable\",!0),this.set(\"animating\",!1)},Zs.prototype.isGroup=function(){return!1},Zs.prototype.getParent=function(){return this.get(\"parent\")},Zs.prototype.getCanvas=function(){return this.get(\"canvas\")},Zs.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(ot.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},Zs.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},Zs.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},Zs.prototype.onAttrChange=function(t,e,n){\"matrix\"===t&&this.set(\"totalMatrix\",null)},Zs.prototype.afterAttrsChange=function(t){this.onCanvasChange(\"attr\")},Zs.prototype.show=function(){return this.set(\"visible\",!0),this.onCanvasChange(\"show\"),this},Zs.prototype.hide=function(){return this.set(\"visible\",!1),this.onCanvasChange(\"hide\"),this},Zs.prototype.setZIndex=function(t){this.set(\"zIndex\",t);var e=this.getParent();return e&&e.sort(),this},Zs.prototype.toFront=function(){var t,e,n=this.getParent();n&&(t=n.getChildren(),this.get(\"el\"),e=t.indexOf(this),t.splice(e,1),t.push(this),this.onCanvasChange(\"zIndex\"))},Zs.prototype.toBack=function(){var t,e,n=this.getParent();n&&(t=n.getChildren(),this.get(\"el\"),e=t.indexOf(this),t.splice(e,1),t.unshift(this),this.onCanvasChange(\"zIndex\"))},Zs.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Ns(e.getChildren(),this),e.get(\"clearing\")||this.onCanvasChange(\"remove\")):this.onCanvasChange(\"remove\"),t&&this.destroy()},Zs.prototype.resetMatrix=function(){this.attr(\"matrix\",this.getDefaultMatrix()),this.onCanvasChange(\"matrix\")},Zs.prototype.getMatrix=function(){return this.attr(\"matrix\")},Zs.prototype.setMatrix=function(t){this.attr(\"matrix\",t),this.onCanvasChange(\"matrix\")},Zs.prototype.getTotalMatrix=function(){var t,e,n=this.get(\"totalMatrix\");return n||(t=this.attr(\"matrix\"),n=(e=this.get(\"parentMatrix\"))&&t?Xs(e,t):t||e,this.set(\"totalMatrix\",n)),n},Zs.prototype.applyMatrix=function(t){var e=this.attr(\"matrix\"),n=t&&e?Xs(t,e):e||t;this.set(\"totalMatrix\",n),this.set(\"parentMatrix\",t)},Zs.prototype.getDefaultMatrix=function(){return null},Zs.prototype.applyToMatrix=function(t){var e=this.attr(\"matrix\");return e?Gs(e,t):t},Zs.prototype.invertFromMatrix=function(t){var e,n,r,i,o,a,s,u,c,h,l,f,d,p,g=this.attr(\"matrix\");if(g){var v=(e=[],n=g[0],r=g[1],i=g[2],o=g[3],a=g[4],s=g[5],u=g[6],c=g[7],(p=n*(l=(h=g[8])*a-s*c)+r*(f=-h*o+s*u)+i*(d=c*o-a*u))?(p=1/p,e[0]=l*p,e[1]=(-h*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(h*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null);if(v)return Gs(v,t)}return t},Zs.prototype.setClip=function(t){var e,n=this.getCanvas(),r=null;return!t||(e=this.getShapeBase()[Object(ot.upperFirst)(t.type)])&&(r=new e({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:n})),this.set(\"clipShape\",r),this.onCanvasChange(\"clip\"),r},Zs.prototype.getClip=function(){return this.cfg.clipShape||null},Zs.prototype.clone=function(){var e=this,n=this.attrs,r={};Object(ot.each)(n,function(t,e){Object(ot.isArray)(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)Object(ot.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]});var i=new this.constructor({attrs:r});return Object(ot.each)(Vs,function(t){i.set(t,e.get(t))}),i},Zs.prototype.destroy=function(){this.destroyed||(this.attrs={},Hs.prototype.destroy.call(this))},Zs.prototype.isAnimatePaused=function(){return this.get(\"_pause\").isPaused},Zs.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set(\"animating\",!0);var n=this.get(\"timeline\");n||(n=this.get(\"canvas\").get(\"timeline\"),this.set(\"timeline\",n));var r=this.get(\"animations\")||[];n.timer||n.initTimer();var i,o,a,s,u,c=t[0],h=t[1],l=t[2],f=void 0===l?\"easeLinear\":l,d=t[3],p=void 0===d?ot.noop:d,g=t[4],v=void 0===g?0:g;Object(ot.isFunction)(c)?(i=c,c={}):Object(ot.isObject)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),Object(ot.isObject)(h)?(h=(u=h).duration,f=u.easing||\"easeLinear\",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||ot.noop,a=u.pauseCallback||ot.noop,s=u.resumeCallback||ot.noop):(Object(ot.isNumber)(p)&&(v=p,p=null),f=Object(ot.isFunction)(f)?(p=f,\"easeLinear\"):f||\"easeLinear\");var y,m,b,x=(y=c,m={},b=this.attr(),Object(ot.each)(y,function(t,e){-1!==qs.indexOf(e)||Object(ot.isEqual)(b[e],t)||(m[e]=t)}),m),w={fromAttrs:function(t,e){var n,r={},i=e.attrs;for(n in t)r[n]=i[n];return r}(x,this),toAttrs:x,duration:h,easing:f,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:Object(ot.uniqueId)(),onFrame:i,pathFormatted:!1};0<r.length?r=function(t,e){if(e.onFrame)return t;var r=e.startTime,i=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(ot.each)(t,function(n){r+i<n.startTime+n.delay+n.duration&&o>n.delay&&Object(ot.each)(e.toAttrs,function(t,e){a.call(n.toAttrs,e)&&(delete n.toAttrs[e],delete n.fromAttrs[e])})}),t}(r,w):n.addAnimator(this),r.push(w),this.set(\"animations\",r),this.set(\"_pause\",{isPaused:!1})},Zs.prototype.stopAnimate=function(e){var n=this;void 0===e&&(e=!0);var t=this.get(\"animations\");Object(ot.each)(t,function(t){e&&(t.onFrame?n.attr(t.onFrame(1)):n.attr(t.toAttrs)),t.callback&&t.callback()}),this.set(\"animating\",!1),this.set(\"animations\",[])},Zs.prototype.pauseAnimate=function(){var t=this.get(\"timeline\"),e=this.get(\"animations\"),n=t.getTime();return Object(ot.each)(e,function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()}),this.set(\"_pause\",{isPaused:!0,pauseTime:n}),this},Zs.prototype.resumeAnimate=function(){var e=this.get(\"timeline\").getTime(),t=this.get(\"animations\"),n=this.get(\"_pause\").pauseTime;return Object(ot.each)(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set(\"_pause\",{isPaused:!1}),this.set(\"animations\",t),this},Zs.prototype.emitDelegation=function(t,r){var i,o=this,a=r.propagationPath;this.getEvents(),\"mouseenter\"===t?i=r.fromShape:\"mouseleave\"===t&&(i=r.toShape);for(var s=this,e=0;e<a.length&&\"break\"!==function(t){var e=a[t],n=e.get(\"name\");if(n){if((e.isGroup()||e.isCanvas&&e.isCanvas())&&i&&Ds(e,i))return\"break\";Object(ot.isArray)(n)?Object(ot.each)(n,function(t){o.emitDelegateEvent(e,t,r)}):s.emitDelegateEvent(e,n,r)}}(e);e++);},Zs.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+\":\"+n.type;(r[i]||r[\"*\"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get(\"delegateObject\"),this.emit(i,n))},Zs.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=cs.ext.transform(n,[[\"t\",t,e]]);return this.setMatrix(r),this},Zs.prototype.move=function(t,e){var n=this.attr(\"x\")||0,r=this.attr(\"y\")||0;return this.translate(t-n,e-r),this},Zs.prototype.moveTo=function(t,e){return this.move(t,e)},Zs.prototype.scale=function(t,e){var n=this.getMatrix(),r=cs.ext.transform(n,[[\"s\",t,e||t]]);return this.setMatrix(r),this},Zs.prototype.rotate=function(t){var e=this.getMatrix(),n=cs.ext.transform(e,[[\"r\",t]]);return this.setMatrix(n),this},Zs.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=cs.ext.transform(i,[[\"t\",-n,-r],[\"r\",t],[\"t\",n,r]]);return this.setMatrix(o),this},Zs.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=cs.ext.transform(r,[[\"t\",-t,-e],[\"r\",n],[\"t\",t,e]]);return this.setMatrix(i),this},Zs),Us={};function Zs(t){var e=Hs.call(this,t)||this;e.attrs={};var n=e.getDefaultAttrs();return Object(ot.mix)(n,t.attrs),e.attrs=n,e.initAttrs(n),e.initAnimate(),e}var $s,Ks=($s=Ws,Object(L.__extends)(ru,$s),ru.prototype.isCanvas=function(){return!1},ru.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),r=0<a.length?(m()(a,function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,i),e=Math.max.apply(null,i),n=Math.min.apply(null,o),Math.max.apply(null,o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},ru.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(t){return t.get(\"visible\")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),r=0<a.length?(m()(a,function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,i),e=Math.max.apply(null,i),n=Math.min.apply(null,o),Math.max.apply(null,o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},ru.prototype.getDefaultCfg=function(){var t=$s.prototype.getDefaultCfg.call(this);return t.children=[],t},ru.prototype.onAttrChange=function(t,e,n){var r;$s.prototype.onAttrChange.call(this,t,e,n),\"matrix\"===t&&(r=this.getTotalMatrix(),this._applyChildrenMarix(r))},ru.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();$s.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==e&&this._applyChildrenMarix(n)},ru.prototype._applyChildrenMarix=function(e){var t=this.getChildren();m()(t,function(t){t.applyMatrix(e)})},ru.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];ze()(n)?r=n:r.type=n;var i=Us[r.type];i||(i=Fe()(r.type),Us[r.type]=i);var o=new(this.getShapeBase()[i])(r);return this.add(o),o},ru.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=t[0],o=t[1];return r=Hr()(i)?new i(o||{parent:this}):(n=i||{},new(this.getGroupBase())(n)),this.add(r),r},ru.prototype.getCanvas=function(){return this.isCanvas()?this:this.get(\"canvas\")},ru.prototype.getShape=function(t,e,n){if(!Ls(this))return null;var r,i,o=this.getChildren();return this.isCanvas()?r=this._findShape(o,t,e,n):(i=[t,e,1],i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(r=this._findShape(o,i[0],i[1],n))),r},ru.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;0<=o;o--){var a=t[o];if(Ls(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},ru.prototype.add=function(t){var e,n,r,i,o=this.getCanvas(),a=this.getChildren(),s=this.get(\"timeline\"),u=t.getParent();u&&(n=u,r=t,void 0===(i=!1)&&(i=!0),i?r.destroy():(r.set(\"parent\",null),r.set(\"canvas\",null)),Ns(n.getChildren(),r)),t.set(\"parent\",this),o&&function e(t,n){var r;t.set(\"canvas\",n),t.isGroup()&&(r=t.get(\"children\")).length&&r.forEach(function(t){e(t,n)})}(t,o),s&&function e(t,n){var r;t.set(\"timeline\",n),t.isGroup()&&(r=t.get(\"children\")).length&&r.forEach(function(t){e(t,n)})}(t,s),a.push(t),(e=t).isGroup()&&!e.isEntityGroup()&&!e.get(\"children\").length||e.onCanvasChange(\"add\"),this._applyElementMatrix(t)},ru.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},ru.prototype.getChildren=function(){return this.get(\"children\")},ru.prototype.sort=function(){var r,t=this.getChildren();m()(t,function(t,e){return t._INDEX=e,t}),t.sort((r=function(t,e){return t.get(\"zIndex\")-e.get(\"zIndex\")},function(t,e){var n=r(t,e);return 0===n?t._INDEX-e._INDEX:n})),this.onCanvasChange(\"sort\")},ru.prototype.clear=function(){if(this.set(\"clearing\",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set(\"children\",[]),this.onCanvasChange(\"clear\"),this.set(\"clearing\",!1)}},ru.prototype.destroy=function(){this.get(\"destroyed\")||(this.clear(),$s.prototype.destroy.call(this))},ru.prototype.getFirst=function(){return this.getChildByIndex(0)},ru.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},ru.prototype.getChildByIndex=function(t){return this.getChildren()[t]},ru.prototype.getCount=function(){return this.getChildren().length},ru.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},ru.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},ru.prototype.findAll=function(e){var n=[],t=this.getChildren();return m()(t,function(t){e(t)&&n.push(t),t.isGroup()&&(n=n.concat(t.findAll(e)))}),n},ru.prototype.find=function(e){var n=null,t=this.getChildren();return m()(t,function(t){if(e(t)?n=t:t.isGroup()&&(n=t.find(e)),n)return!1}),n},ru.prototype.findById=function(e){return this.find(function(t){return t.get(\"id\")===e})},ru.prototype.findByClassName=function(e){return this.find(function(t){return t.get(\"className\")===e})},ru.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get(\"name\")===e})},ru),Qs=n(568),Js=n(70),tu=n(245),eu=n(241),nu=[1,0,0,0,1,0,0,0,1];function ru(){return null!==$s&&$s.apply(this,arguments)||this}var iu=(au.prototype.initTimer=function(){var r,i,o,a=this;this.timer=Qs.a(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((r=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!r.isAnimatePaused())for(var n=(i=r.get(\"animations\")).length-1;0<=n;n--)o=i[n],function(t,e,n){var r,i=e.startTime;if(!(n<i+e.delay||e._paused)){var o,a=e.duration,s=e.easing;if(n=n-i-e.delay,e.repeat)r=n%a/a,r=Js[s](r);else{if(!((r=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),1;r=Js[s](r)}e.onFrame?(o=e.onFrame(r),t.attr(o)):function(t,e,n){var r,i,o,a,s={},u=e.fromAttrs,c=e.toAttrs;if(!t.destroyed){for(o in c)if(!Object(ot.isEqual)(u[o],c[o]))if(\"path\"===o){var h=c[o],l=u[o];h.length>l.length?(h=ks(c[o]),l=ks(u[o]),l=Es(l,h),l=Is(l,h),e.fromAttrs.path=l,e.toAttrs.path=h):e.pathFormatted||(h=ks(c[o]),l=ks(u[o]),l=Is(l,h),e.fromAttrs.path=l,e.toAttrs.path=h,e.pathFormatted=!0),s[o]=[];for(var f=0;f<h.length;f++){for(var d=h[f],p=l[f],g=[],v=0;v<d.length;v++)Object(ot.isNumber)(d[v])&&p&&Object(ot.isNumber)(p[v])?(r=Object(tu.a)(p[v],d[v]),g.push(r(n))):g.push(d[v]);s[o].push(g)}}else{\"matrix\"===o?(a=Object(eu.a)(u[o]||nu,c[o]||nu)(n),s[o]=a):[\"fill\",\"stroke\",\"fillStyle\",\"strokeStyle\"].includes(o)&&(i=c[o],/^[r,R,L,l]{1}[\\s]*\\(/.test(i))?s[o]=c[o]:Object(ot.isFunction)(c[o])||(r=Object(tu.a)(u[o],c[o]),s[o]=r(n))}t.attr(s)}}(t,e,r)}}(r,o,t)&&(i.splice(n,1),o.callback&&o.callback());0===i.length&&a.removeAnimator(e)}a.canvas.get(\"autoDraw\")||a.canvas.draw()}})},au.prototype.addAnimator=function(t){this.animators.push(t)},au.prototype.removeAnimator=function(t){this.animators.splice(t,1)},au.prototype.isAnimating=function(){return!!this.animators.length},au.prototype.stop=function(){this.timer&&this.timer.stop()},au.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},au.prototype.getTime=function(){return this.current},au),ou=[\"mousedown\",\"mouseup\",\"dblclick\",\"mouseout\",\"mouseover\",\"mousemove\",\"mouseleave\",\"mouseenter\",\"touchstart\",\"touchmove\",\"touchend\",\"dragenter\",\"dragover\",\"dragleave\",\"drop\",\"contextmenu\",\"mousewheel\"];function au(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}function su(t,e,n){n.name=e,n.target=t,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}var uu,cu,hu,lu,fu,du=(Cu.prototype.init=function(){this._bindEvents()},Cu.prototype._bindEvents=function(){var e=this,n=this.canvas.get(\"el\");m()(ou,function(t){n.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener(\"mousemove\",this._onDocumentMove),document.addEventListener(\"mouseup\",this._onDocumentMouseUp))},Cu.prototype._clearEvents=function(){var e=this,n=this.canvas.get(\"el\");m()(ou,function(t){n.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener(\"mousemove\",this._onDocumentMove),document.removeEventListener(\"mouseup\",this._onDocumentMouseUp))},Cu.prototype._getEventObj=function(t,e,n,r,i,o){var a=new As(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},Cu.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},Cu.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},Cu.prototype._triggerEvent=function(t,e){var n,r,i=this._getPointInfo(e),o=this._getShape(i,e),a=this[\"_on\"+t],s=!1;a?a.call(this,i,o,e):(n=this.currentShape,\"mouseenter\"===t||\"dragenter\"===t||\"mouseover\"===t?(this._emitEvent(t,e,i,null,null,o),o&&this._emitEvent(t,e,i,o,null,o),\"mouseenter\"===t&&this.draggingShape&&this._emitEvent(\"dragenter\",e,i,null)):\"mouseleave\"===t||\"dragleave\"===t||\"mouseout\"===t?(s=!0,n&&this._emitEvent(t,e,i,n,n,null),this._emitEvent(t,e,i,null,n,null),\"mouseleave\"===t&&this.draggingShape&&this._emitEvent(\"dragleave\",e,i,null)):this._emitEvent(t,e,i,o,null,null)),s||(this.currentShape=o),o&&!o.get(\"destroyed\")&&((r=this.canvas).get(\"el\").style.cursor=o.attr(\"cursor\")||r.get(\"cursor\"))},Cu.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent(\"mousedown\",n,t,e,null,null)},Cu.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get(\"el\");n!==r&&(n&&(this._emitEvent(\"mouseout\",t,e,n,n,r),this._emitEvent(\"mouseleave\",t,e,n,n,r),r&&!r.get(\"destroyed\")||(i.style.cursor=this.canvas.get(\"cursor\"))),r&&(this._emitEvent(\"mouseover\",t,e,r,n,r),this._emitEvent(\"mouseenter\",t,e,r,n,r)))},Cu.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent(\"dragleave\",t,e,n,n,r),this._emitEvent(\"dragenter\",t,e,r,n,r)),i||this._emitEvent(\"dragover\",t,e,r)):n&&this._emitEvent(\"dragleave\",t,e,n,n,r),i&&this._emitEvent(\"dragover\",t,e,r)},Cu.prototype._afterDrag=function(t,e,n){t&&(t.set(\"capture\",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},Cu.prototype._onmouseup=function(t,e,n){var r;0===n.button&&(r=this.draggingShape,this.dragging?(r&&this._emitEvent(\"drop\",n,t,e),this._emitEvent(\"dragend\",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent(\"mouseup\",n,t,e),e===this.mousedownShape&&this._emitEvent(\"click\",n,t,e),this.mousedownShape=null,this.mousedownPoint=null))},Cu.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},Cu.prototype._onmousemove=function(t,e,n){var r,i,o,a,s,u=this.canvas,c=this.currentShape,h=this.draggingShape;this.dragging?(h&&this._emitDragoverEvents(n,t,c,e,!1),this._emitEvent(\"drag\",n,t,h)):(r=this.mousedownPoint)?(i=this.mousedownShape,o=n.timeStamp-this.mousedownTimeStamp,a=r.clientX-t.clientX,s=r.clientY-t.clientY,120<o||40<a*a+s*s?i&&i.get(\"draggable\")?((h=this.mousedownShape).set(\"capture\",!1),this.draggingShape=h,this.dragging=!0,this._emitEvent(\"dragstart\",n,t,h),this.mousedownShape=null,this.mousedownPoint=null):!i&&u.get(\"draggable\")?(this.dragging=!0,this._emitEvent(\"dragstart\",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent(\"mousemove\",n,t,e)):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent(\"mousemove\",n,t,e))):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent(\"mousemove\",n,t,e))},Cu.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){su(a.shape=r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||function(t,e,n){if(n.bubbles){var r=void 0,i=!1;if(\"mouseenter\"===e?(r=n.fromShape,i=!0):\"mouseleave\"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Ds(t,r))return n.bubbles=!1;n.name=e,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}}(s,t,a),a.propagationPath.push(s),s=s.getParent()}else su(this.canvas,t,a)},Cu.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Cu),pu=Object(Ys.detect)(),gu=pu&&\"firefox\"===pu.name,vu=(fu=Ks,Object(L.__extends)(Ou,fu),Ou.prototype.getDefaultCfg=function(){var t=fu.prototype.getDefaultCfg.call(this);return t.cursor=\"default\",t.supportCSSTransform=!1,t},Ou.prototype.initContainer=function(){var t=this.get(\"container\");T()(t)&&(t=document.getElementById(t),this.set(\"container\",t))},Ou.prototype.initDom=function(){var t=this.createDom();this.set(\"el\",t),this.get(\"container\").appendChild(t),this.setDOMSize(this.get(\"width\"),this.get(\"height\"))},Ou.prototype.initEvents=function(){var t=new du({canvas:this});t.init(),this.set(\"eventController\",t)},Ou.prototype.initTimeline=function(){var t=new iu(this);this.set(\"timeline\",t)},Ou.prototype.setDOMSize=function(t,e){var n=this.get(\"el\");Bs&&(n.style.width=t+\"px\",n.style.height=e+\"px\")},Ou.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set(\"width\",t),this.set(\"height\",e),this.onCanvasChange(\"changeSize\")},Ou.prototype.getRenderer=function(){return this.get(\"renderer\")},Ou.prototype.getCursor=function(){return this.get(\"cursor\")},Ou.prototype.setCursor=function(t){this.set(\"cursor\",t);var e=this.get(\"el\");Bs&&e&&(e.style.cursor=t)},Ou.prototype.getPointByEvent=function(t){if(this.get(\"supportCSSTransform\")){if(gu&&!S()(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!S()(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},Ou.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e=\"touchend\"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},Ou.prototype.getPointByClient=function(t,e){var n=this.get(\"el\").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},Ou.prototype.getClientByPoint=function(t,e){var n=this.get(\"el\").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},Ou.prototype.draw=function(){},Ou.prototype.removeDom=function(){var t=this.get(\"el\");t.parentNode.removeChild(t)},Ou.prototype.clearEvents=function(){this.get(\"eventController\").destroy()},Ou.prototype.isCanvas=function(){return!0},Ou.prototype.getParent=function(){return null},Ou.prototype.destroy=function(){var t=this.get(\"timeline\");this.get(\"destroyed\")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),fu.prototype.destroy.call(this))},lu=Ks,Object(L.__extends)(_u,lu),_u.prototype.isGroup=function(){return!0},_u.prototype.isEntityGroup=function(){return!1},_u.prototype.clone=function(){for(var t=lu.prototype.clone.call(this),e=this.getChildren(),n=0;n<e.length;n++){var r=e[n];t.add(r.clone())}return t},hu=Ws,Object(L.__extends)(Su,hu),Su.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},Su.prototype.afterAttrsChange=function(t){hu.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},Su.prototype.getBBox=function(){var t=this.get(\"bbox\");return t||(t=this.calculateBBox(),this.set(\"bbox\",t)),t},Su.prototype.getCanvasBBox=function(){var t=this.get(\"canvasBox\");return t||(t=this.calculateCanvasBBox(),this.set(\"canvasBox\",t)),t},Su.prototype.applyMatrix=function(t){hu.prototype.applyMatrix.call(this,t),this.set(\"canvasBox\",null)},Su.prototype.calculateCanvasBBox=function(){var t,e,n,r,i=this.getBBox(),o=this.getTotalMatrix(),a=i.minX,s=i.minY,u=i.maxX,c=i.maxY;o&&(t=Gs(o,[i.minX,i.minY]),e=Gs(o,[i.maxX,i.minY]),n=Gs(o,[i.minX,i.maxY]),r=Gs(o,[i.maxX,i.maxY]),a=Math.min(t[0],e[0],n[0],r[0]),u=Math.max(t[0],e[0],n[0],r[0]),s=Math.min(t[1],e[1],n[1],r[1]),c=Math.max(t[1],e[1],n[1],r[1]));var h,l,f,d,p,g,v,y,m,b,x=this.attrs;return x.shadowColor&&(v=a-(l=void 0===(h=x.shadowBlur)?0:h)+(d=void 0===(f=x.shadowOffsetX)?0:f),y=u+l+d,m=s-l+(g=void 0===(p=x.shadowOffsetY)?0:p),b=c+l+g,a=Math.min(a,v),u=Math.max(u,y),s=Math.min(s,m),c=Math.max(c,b)),{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},Su.prototype.clearCacheBBox=function(){this.set(\"bbox\",null),this.set(\"canvasBox\",null)},Su.prototype.isClipShape=function(){return this.get(\"isClipShape\")},Su.prototype.isInShape=function(t,e){return!1},Su.prototype.isOnlyHitBox=function(){return!1},Su.prototype.isHit=function(t,e){var n=this.get(\"startArrowShape\"),r=this.get(\"endArrowShape\"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},n(563).version,{none:[],point:[\"x\",\"y\"],region:[\"start\",\"end\"],points:[\"points\"],circle:[\"center\",\"radius\",\"startAngle\",\"endAngle\"]}),yu=(is(Mu,cu=zs),Mu.prototype.getDefaultCfg=function(){return{id:\"\",name:\"\",type:\"\",locationType:\"none\",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:\"easeQuadInOut\"},enter:{duration:400,easing:\"easeQuadInOut\"},leave:{duration:350,easing:\"easeQuadIn\"}},events:null,defaultCfg:{},visible:!0}},Mu.prototype.clear=function(){},Mu.prototype.update=function(t){var r=this,i=this.get(\"defaultCfg\");Object(ot.each)(t,function(t,e){var n=t;r.get(e)!==t&&(Object(ot.isObject)(t)&&i[e]&&(n=Object(ot.deepMix)({},i[e],t)),r.set(e,n))}),this.updateInner(t),this.afterUpdate(t)},Mu.prototype.updateInner=function(t){},Mu.prototype.afterUpdate=function(t){Object(ot.hasKey)(t,\"visible\")&&(t.visible?this.show():this.hide()),Object(ot.hasKey)(t,\"capture\")&&this.setCapture(t.capture)},Mu.prototype.getLayoutBBox=function(){return this.getBBox()},Mu.prototype.getLocationType=function(){return this.get(\"locationType\")},Mu.prototype.getOffset=function(){return{offsetX:this.get(\"offsetX\"),offsetY:this.get(\"offsetY\")}},Mu.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},Mu.prototype.setLocation=function(t){var e=os({},t);this.update(e)},Mu.prototype.getLocation=function(){var e=this,n={},t=this.get(\"locationType\"),r=vu[t];return Object(ot.each)(r,function(t){n[t]=e.get(t)}),n},Mu.prototype.isList=function(){return!1},Mu.prototype.isSlider=function(){return!1},Mu.prototype.init=function(){},Mu.prototype.initCfg=function(){var i=this,t=this.get(\"defaultCfg\");Object(ot.each)(t,function(t,e){var n,r=i.get(e);Object(ot.isObject)(r)&&(n=Object(ot.deepMix)({},t,r),i.set(e,n))})},Mu),mu=[\"visible\",\"tip\",\"delegateObject\"],bu=[\"container\",\"group\",\"shapesMap\",\"isRegister\",\"isUpdating\",\"destroyed\"],xu=(is(wu,uu=yu),wu.prototype.getDefaultCfg=function(){var t=uu.prototype.getDefaultCfg.call(this);return os(os({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},wu.prototype.remove=function(){this.clear(),this.get(\"group\").remove()},wu.prototype.clear=function(){this.get(\"group\").clear(),this.set(\"shapesMap\",{}),this.clearOffScreenCache(),this.set(\"isInit\",!0)},wu.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get(\"component\")},wu.prototype.getElementById=function(t){return this.get(\"shapesMap\")[t]},wu.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},wu.prototype.getElementsByName=function(e){var n=[];return Object(ot.each)(this.get(\"shapesMap\"),function(t){t.get(\"name\")===e&&n.push(t)}),n},wu.prototype.getContainer=function(){return this.get(\"container\")},wu.prototype.updateInner=function(t){this.offScreenRender(),this.get(\"updateAutoRender\")&&this.render()},wu.prototype.render=function(){var t=(t=this.get(\"offScreenGroup\"))||this.offScreenRender(),e=this.get(\"group\");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get(\"eventInitted\")||(this.initEvent(),this.set(\"eventInitted\",!0)),this.set(\"isInit\",!1)},wu.prototype.show=function(){this.get(\"group\").show(),this.set(\"visible\",!0)},wu.prototype.hide=function(){this.get(\"group\").hide(),this.set(\"visible\",!1)},wu.prototype.setCapture=function(t){this.get(\"group\").set(\"capture\",t),this.set(\"capture\",t)},wu.prototype.destroy=function(){this.removeEvent(),this.remove(),uu.prototype.destroy.call(this)},wu.prototype.getBBox=function(){return this.get(\"group\").getCanvasBBox()},wu.prototype.getLayoutBBox=function(){var t,e,n,r,i,o,a,s,u,c,h=this.get(\"group\"),l=this.getInnerLayoutBBox(),f=h.getTotalMatrix();return f&&(n=ds(t=f,[(e=l).minX,e.minY]),r=ds(t,[e.maxX,e.minY]),i=ds(t,[e.minX,e.maxY]),o=ds(t,[e.maxX,e.maxY]),a=Math.min(n[0],r[0],i[0],o[0]),s=Math.max(n[0],r[0],i[0],o[0]),u=Math.min(n[1],r[1],i[1],o[1]),c=Math.max(n[1],r[1],i[1],o[1]),l={x:a,y:u,minX:a,minY:u,maxX:s,maxY:c,width:s-a,height:c-u}),l},wu.prototype.on=function(t,e,n){return this.get(\"group\").on(t,e,n),this},wu.prototype.off=function(t,e){var n=this.get(\"group\");return n&&n.off(t,e),this},wu.prototype.emit=function(t,e){this.get(\"group\").emit(t,e)},wu.prototype.init=function(){uu.prototype.init.call(this),this.get(\"group\")||this.initGroup(),this.offScreenRender()},wu.prototype.getInnerLayoutBBox=function(){return this.get(\"offScreenBBox\")||this.get(\"group\").getBBox()},wu.prototype.delegateEmit=function(t,i){var e=this.get(\"group\");(i.target=e).emit(t,i),function(t,e){var n=new us.a(e,i);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var r=t.getParent();r;)r.emitDelegation(e,n),n.propagationPath.push(r),r=r.getParent()}(e,t)},wu.prototype.createOffScreenGroup=function(){return new(this.get(\"group\").getGroupBase())({delegateObject:this.getDelegateObject()})},wu.prototype.applyOffset=function(){var t=this.get(\"offsetX\"),e=this.get(\"offsetY\");this.moveElementTo(this.get(\"group\"),{x:t,y:e})},wu.prototype.initGroup=function(){var t=this.get(\"container\");this.set(\"group\",t.addGroup({id:this.get(\"id\"),name:this.get(\"name\"),capture:this.get(\"capture\"),visible:this.get(\"visible\"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},wu.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set(\"offScreenGroup\",t),this.set(\"offScreenBBox\",function h(t){var e,n,r,i,l,f,d,p,o,a=t.getClip(),s=a&&a.getBBox(),u=t.isGroup()?(d=l=1/0,p=f=-1/0,0<(o=t.getChildren()).length?Object(ot.each)(o,function(t){if(t.get(\"visible\")){if(t.isGroup()&&0===t.get(\"children\").length)return!0;var e=h(t),n=t.applyToMatrix([e.minX,e.minY,1]),r=t.applyToMatrix([e.minX,e.maxY,1]),i=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(n[0],r[0],i[0],o[0]),s=Math.max(n[0],r[0],i[0],o[0]),u=Math.min(n[1],r[1],i[1],o[1]),c=Math.max(n[1],r[1],i[1],o[1]);a<l&&(l=a),f<s&&(f=s),u<d&&(d=u),p<c&&(p=c)}}):p=d=f=l=0,bs(l,d,f-l,p-d)):t.getBBox();return s?(e=u,n=s,bs(r=Math.max(e.minX,n.minX),i=Math.max(e.minY,n.minY),Math.min(e.maxX,n.maxX)-r,Math.min(e.maxY,n.maxY)-i)):u}(t)),t},wu.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get(\"isRegister\")&&this.registerElement(n),n},wu.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get(\"isRegister\")&&this.registerElement(n),n},wu.prototype.addComponent=function(t,e){var n=e.id,r=e.component,i=as(e,[\"id\",\"component\"]),o=new r(os(os({},i),{id:n,container:t,updateAutoRender:this.get(\"updateAutoRender\")}));return o.init(),o.render(),this.get(\"isRegister\")&&this.registerElement(o.get(\"group\")),o},wu.prototype.initEvent=function(){},wu.prototype.removeEvent=function(){this.get(\"group\").off()},wu.prototype.getElementId=function(t){return this.get(\"id\")+\"-\"+this.get(\"name\")+\"-\"+t},wu.prototype.registerElement=function(t){var e=t.get(\"id\");this.get(\"shapesMap\")[e]=t},wu.prototype.unregisterElement=function(t){var e=t.get(\"id\");delete this.get(\"shapesMap\")[e]},wu.prototype.moveElementTo=function(t,e){var n=fs(e);t.attr(\"matrix\",n)},wu.prototype.addAnimation=function(t,e,n){var r=e.attr(\"opacity\");Object(ot.isNil)(r)&&(r=1),e.attr(\"opacity\",0),e.animate({opacity:r},n)},wu.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},wu.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},wu.prototype.updateElements=function(t,g){var v,y=this,m=this.get(\"animate\"),b=this.get(\"animateOption\"),e=t.getChildren().slice(0);Object(ot.each)(e,function(e){var t,n,r,i,o,a,s,u,c,h,l,f=e.get(\"id\"),d=y.getElementById(f),p=e.get(\"name\");d?e.get(\"isComponent\")?(t=e.get(\"component\"),n=d.get(\"component\"),r=Object(ot.pick)(t.cfg,Object(ot.difference)(Object(ot.keys)(t.cfg),bu)),n.update(r),d.set(\"update_status\",\"update\")):(i=y.getReplaceAttrs(d,e),m&&b.update?y.updateAnimation(p,d,i,b.update):d.attr(i),e.isGroup()&&y.updateElements(e,d),Object(ot.each)(mu,function(t){d.set(t,e.get(t))}),c=e,((u=d).getClip()||c.getClip())&&((h=c.getClip())?(l={type:h.get(\"type\"),attrs:h.attr()},u.setClip(l)):u.setClip(null)),(v=d).set(\"update_status\",\"update\")):(g.add(e),(o=g.getChildren()).splice(o.length-1,1),v?(a=o.indexOf(v),o.splice(a+1,0,e)):o.unshift(e),y.registerElement(e),e.set(\"update_status\",\"add\"),e.get(\"isComponent\")?(t=e.get(\"component\")).set(\"container\",g):e.isGroup()&&y.registerNewGroup(e),v=e,m&&(s=y.get(\"isInit\")?b.appear:b.enter)&&y.addAnimation(p,e,s))})},wu.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(ot.each)(e,function(t){t.set(\"update_status\",null)})},wu.prototype.clearOffScreenCache=function(){var t=this.get(\"offScreenGroup\");t&&t.destroy(),this.set(\"offScreenGroup\",null),this.set(\"offScreenBBox\",null)},wu.prototype.getDelegateObject=function(){var t;return(t={})[this.get(\"name\")]=this,t.component=this,t},wu.prototype.appendDelegateObject=function(t,e){var n=t.get(\"delegateObject\");e.delegateObject||(e.delegateObject={}),Object(ot.mix)(e.delegateObject,n)},wu.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return Object(ot.each)(n,function(t,e){void 0===r[e]&&(r[e]=void 0)}),r},wu.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();Object(ot.each)(n,function(t){e.registerElement(t),t.set(\"update_status\",\"add\"),t.isGroup()&&e.registerNewGroup(t)})},wu.prototype.deleteElements=function(){var o=this,a=this.get(\"shapesMap\"),n=[];Object(ot.each)(a,function(t,e){!t.get(\"update_status\")||t.destroyed?n.push([e,t]):t.set(\"update_status\",null)});var s=this.get(\"animate\"),u=this.get(\"animateOption\");Object(ot.each)(n,function(t){var e,n,r=t[0],i=t[1];i.destroyed||(e=i.get(\"name\"),s&&u.leave?(n=Object(ot.mix)({callback:function(){o.removeElement(i)}},u.leave),o.removeAnimation(e,i,n)):o.removeElement(i)),delete a[r]})},wu.prototype.removeElement=function(t){var e;!t.get(\"isGroup\")||(e=t.get(\"component\"))&&e.destroy(),t.remove()},wu);function wu(){return null!==uu&&uu.apply(this,arguments)||this}function Mu(t){var e=cu.call(this,t)||this;return e.initCfg(),e}function Su(t){return hu.call(this,t)||this}function _u(){return null!==lu&&lu.apply(this,arguments)||this}function Ou(t){var e=fu.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}function Cu(t){var n=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;n._triggerEvent(e,t)},this._onDocumentMove=function(t){var e;n.canvas.get(\"el\")!==t.target&&(n.dragging||n.currentShape)&&(e=n._getPointInfo(t),n.dragging&&n._emitEvent(\"drag\",t,e,n.draggingShape))},this._onDocumentMouseUp=function(t){var e;n.canvas.get(\"el\")!==t.target&&n.dragging&&(e=n._getPointInfo(t),n.draggingShape&&n._emitEvent(\"drop\",t,e,null),n._emitEvent(\"dragend\",t,e,n.draggingShape),n._afterDrag(n.draggingShape,e,t))},this.canvas=t.canvas}function ku(t,e){return 0<t.charCodeAt(e)&&t.charCodeAt(e)<128?1:2}function Eu(t){var n=0;return Object(ot.each)(t,function(t){var e=t.getBBox().width;n<e&&(n=e)}),n}function ju(t,e,n,r){void 0===r&&(r=\"tail\");var i,o,a,s,u=e.attr(\"text\"),c=(i=t,o=e.getCanvasBBox(),i?o.width:o.height),h=function(t){for(var e=0,n=0;n<t.length;n++)e+=ku(t,n);return e}(u),l=!1;return n<c&&(s=void 0,(s=0<=(a=Math.floor(n/c*h)-2)?function(t,e,n){void 0===n&&(n=\"tail\");var r=t.length,i=\"\";if(\"tail\"===n){for(var o=0,a=0;o<e&&o+ku(t,a)<=e;)i+=t[a],o+=ku(t,a),a++;i+=\"…\"}else if(\"head\"===n){for(o=0,a=r-1;o<e&&o+ku(t,a)<=e;)i+=t[a],o+=ku(t,a),a--;i=\"…\"+i}else{for(var s=\"\",u=\"\",c=o=0,h=r-1;o<e;){var l=ku(t,c),f=!1;l+o<=e&&(s+=t[c],c++,o+=l,f=!0);var d=ku(t,h);if(d+o<=e&&(u=t[h]+u,o+=d,h--,f=!0),!f)break}i=s+\"…\"+u}return i}(u,a,r):\"…\")&&(e.attr(\"text\",s),l=!0)),l?e.set(\"tip\",u):e.set(\"tip\",null),l}function Pu(t,e){var n,r,i,o,a,s,u=e.x,c=e.y,h=e.content,l=e.style,f=e.id,d=e.name,p=e.rotate,g=e.maxLength,v=e.autoEllipsis,y=e.isVertical,m=e.ellipsisPosition,b=e.background,x=t.addGroup({id:f+\"-group\",name:d+\"-group\",attrs:{x:u,y:c}}),w=x.addShape({type:\"text\",id:f,name:d,attrs:os({x:0,y:0,text:h},l)}),M=vs(Object(ot.get)(b,\"padding\",0));g&&v&&ju(!y,w,g-(M[1]+M[3]),m),b&&(n=Object(ot.get)(b,\"style\",{}),i=(r=w.getCanvasBBox()).minX,o=r.minY,a=r.width,s=r.height,x.addShape(\"rect\",{id:f+\"-bg\",name:f+\"-bg\",attrs:os({x:i-M[3],y:o-M[0],width:a+M[1]+M[3],height:s+M[0]+M[2]},n)}).toBack()),gs(x,u,c),ps(x,p,u,c)}var Iu,Au,Tu,Nu,Bu,Du,Lu,Ru,zu={fontFamily:'\\n  \"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\",\\n  Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",\\n  SimSun, \"sans-serif\"',textColor:\"#2C3542\",activeTextColor:\"#333333\",uncheckedColor:\"#D8D8D8\",lineColor:\"#416180\",regionColor:\"#CCD7EB\",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4};function Yu(){return null!==Iu&&Iu.apply(this,arguments)||this}function Fu(){return null!==Au&&Au.apply(this,arguments)||this}function Xu(){return null!==Tu&&Tu.apply(this,arguments)||this}function Gu(){return null!==Nu&&Nu.apply(this,arguments)||this}function Vu(){return null!==Bu&&Bu.apply(this,arguments)||this}function qu(){return null!==Du&&Du.apply(this,arguments)||this}function Hu(){return null!==Lu&&Lu.apply(this,arguments)||this}function Wu(){return null!==Ru&&Ru.apply(this,arguments)||this}function Uu(n,t,e){var r=t+\"Style\",i=null;return Object(ot.each)(e,function(t,e){n[e]&&t[r]&&(i=i||{},Object(ot.mix)(i,t[r]))}),i}is(Wu,Ru=xu),Wu.prototype.getDefaultCfg=function(){var t=Ru.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"line\",locationType:\"region\",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:zu.textColor,fontSize:12,textAlign:\"center\",textBaseline:\"bottom\",fontFamily:zu.fontFamily},text:{position:\"center\",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:zu.lineColor,lineWidth:1}}}})},Wu.prototype.renderInner=function(t){this.renderLine(t),this.get(\"text\")&&this.renderLabel(t)},Wu.prototype.renderLine=function(t){var e=this.get(\"start\"),n=this.get(\"end\"),r=this.get(\"style\");this.addShape(t,{type:\"line\",id:this.getElementId(\"line\"),name:\"annotation-line\",attrs:os({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},Wu.prototype.getLabelPoint=function(t,e,n){var r;return(1<(r=\"start\"===n?0:\"center\"===n?.5:Object(ot.isString)(n)&&-1!==n.indexOf(\"%\")?parseInt(n,10)/100:Object(ot.isNumber)(n)?n:1)||r<0)&&(r=1),{x:xs(t.x,e.x,r),y:xs(t.y,e.y,r)}},Wu.prototype.renderLabel=function(t){var e,n=this.get(\"text\"),r=this.get(\"start\"),i=this.get(\"end\"),o=n.position,a=n.content,s=n.style,u=n.offsetX,c=n.offsetY,h=n.autoRotate,l=n.maxLength,f=n.autoEllipsis,d=n.ellipsisPosition,p=n.background,g=n.isVertical,v=void 0!==g&&g,y=this.getLabelPoint(r,i,o),m=y.x+u,b=y.y+c,x={id:this.getElementId(\"line-text\"),name:\"annotation-line-text\",x:m,y:b,content:a,style:s,maxLength:l,autoEllipsis:f,ellipsisPosition:d,background:p,isVertical:v};h&&(e=[i.x-r.x,i.y-r.y],x.rotate=Math.atan2(e[1],e[0])),Pu(t,x)},is(Hu,Lu=xu),Hu.prototype.getDefaultCfg=function(){var t=Lu.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"text\",locationType:\"point\",x:0,y:0,content:\"\",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:\"tail\",defaultCfg:{style:{fill:zu.textColor,fontSize:12,textAlign:\"center\",textBaseline:\"middle\",fontFamily:zu.fontFamily}}})},Hu.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetLocation()},Hu.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get(\"content\"),o=this.get(\"style\");Pu(t,{id:this.getElementId(\"text\"),name:this.get(\"name\")+\"-text\",x:n,y:r,content:i,style:o,maxLength:this.get(\"maxLength\"),autoEllipsis:this.get(\"autoEllipsis\"),isVertical:this.get(\"isVertical\"),ellipsisPosition:this.get(\"ellipsisPosition\"),background:this.get(\"background\"),rotate:this.get(\"rotate\")})},Hu.prototype.resetLocation=function(){var t,e,n,r,i=this.getElementByLocalId(\"text-group\");i&&(e=(t=this.getLocation()).x,n=t.y,r=this.get(\"rotate\"),gs(i,e,n),ps(i,r,e,n))},is(qu,Du=xu),qu.prototype.getDefaultCfg=function(){var t=Du.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"arc\",locationType:\"circle\",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:\"#999\",lineWidth:1}})},qu.prototype.renderInner=function(t){this.renderArc(t)},qu.prototype.getArcPath=function(){var t,e=this.getLocation(),n=e.center,r=e.radius,i=e.startAngle,o=e.endAngle,a=ws(n,r,i),s=ws(n,r,o),u=o-i>Math.PI?1:0,c=[[\"M\",a.x,a.y]];return o-i==2*Math.PI&&(t=ws(n,r,i+Math.PI),c.push([\"A\",r,r,0,u,1,t.x,t.y])),c.push([\"A\",r,r,0,u,1,s.x,s.y]),c},qu.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get(\"style\");this.addShape(t,{type:\"path\",id:this.getElementId(\"arc\"),name:\"annotation-arc\",attrs:os({path:e},n)})},is(Vu,Bu=xu),Vu.prototype.getDefaultCfg=function(){var t=Bu.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"region\",locationType:\"region\",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:zu.regionColor,opacity:.4}}})},Vu.prototype.renderInner=function(t){this.renderRegion(t)},Vu.prototype.renderRegion=function(t){var e=this.get(\"start\"),n=this.get(\"end\"),r=this.get(\"style\"),i=ms({start:e,end:n});this.addShape(t,{type:\"rect\",id:this.getElementId(\"region\"),name:\"annotation-region\",attrs:os({x:i.x,y:i.y,width:i.width,height:i.height},r)})},is(Gu,Nu=xu),Gu.prototype.getDefaultCfg=function(){var t=Nu.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"image\",locationType:\"region\",start:null,end:null,src:null,style:{}})},Gu.prototype.renderInner=function(t){this.renderImage(t)},Gu.prototype.getImageAttrs=function(){var t=this.get(\"start\"),e=this.get(\"end\"),n=this.get(\"style\"),r=ms({start:t,end:e}),i=this.get(\"src\");return os({x:r.x,y:r.y,img:i,width:r.width,height:r.height},n)},Gu.prototype.renderImage=function(t){this.addShape(t,{type:\"image\",id:this.getElementId(\"image\"),name:\"annotation-image\",attrs:this.getImageAttrs()})},is(Xu,Tu=xu),Xu.prototype.getDefaultCfg=function(){var t=Tu.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"dataMarker\",locationType:\"point\",x:0,y:0,point:{},line:{},text:{},direction:\"upward\",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:\"#FFFFFF\",stroke:\"#1890FF\",lineWidth:2}},line:{display:!0,length:20,style:{stroke:zu.lineColor,lineWidth:1}},text:{content:\"\",display:!0,style:{fill:zu.textColor,opacity:.65,fontSize:12,textAlign:\"start\",fontFamily:zu.fontFamily}}}})},Xu.prototype.renderInner=function(t){Object(ot.get)(this.get(\"line\"),\"display\")&&this.renderLine(t),Object(ot.get)(this.get(\"text\"),\"display\")&&this.renderText(t),Object(ot.get)(this.get(\"point\"),\"display\")&&this.renderPoint(t),this.get(\"autoAdjust\")&&this.autoAdjust(t)},Xu.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\")+this.get(\"offsetX\"),y:this.get(\"y\")+this.get(\"offsetY\")})},Xu.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:\"circle\",id:this.getElementId(\"point\"),name:\"annotation-point\",attrs:e})},Xu.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:\"path\",id:this.getElementId(\"line\"),name:\"annotation-line\",attrs:e})},Xu.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,i=e.text,o=as(e,[\"x\",\"y\",\"text\"]),a=this.get(\"text\"),s=a.background,u=a.maxLength,c=a.autoEllipsis,h=a.isVertival,l=a.ellipsisPosition;Pu(t,{x:n,y:r,id:this.getElementId(\"text\"),name:\"annotation-text\",content:i,style:o,background:s,maxLength:u,autoEllipsis:c,isVertival:h,ellipsisPosition:l})},Xu.prototype.autoAdjust=function(t){var e,n,r,i=this.get(\"direction\"),o=this.get(\"x\"),a=this.get(\"y\"),s=Object(ot.get)(this.get(\"line\"),\"length\",0),u=this.get(\"coordinateBBox\"),c=t.getBBox(),h=c.minX,l=c.maxX,f=c.minY,d=c.maxY,p=t.findById(this.getElementId(\"text-group\")),g=t.findById(this.getElementId(\"text\")),v=t.findById(this.getElementId(\"line\"));u&&(p&&(o+h<=u.minX&&(e=u.minX-(o+h),gs(p,p.attr(\"x\")+e,p.attr(\"y\"))),o+l>=u.maxX&&(e=o+l-u.maxX,gs(p,p.attr(\"x\")-e,p.attr(\"y\")))),(\"upward\"===i&&a+f<=u.minY||\"upward\"!==i&&a+d>=u.maxY)&&(r=n=void 0,r=\"upward\"===i&&a+f<=u.minY?(n=\"top\",1):(n=\"bottom\",-1),g.attr(\"textBaseline\",n),v&&v.attr(\"path\",[[\"M\",0,0],[\"L\",0,s*r]]),gs(p,p.attr(\"x\"),(s+2)*r)))},Xu.prototype.getShapeAttrs=function(){var t=Object(ot.get)(this.get(\"line\"),\"display\"),e=Object(ot.get)(this.get(\"point\"),\"style\",{}),n=Object(ot.get)(this.get(\"line\"),\"style\",{}),r=Object(ot.get)(this.get(\"text\"),\"style\",{}),i=this.get(\"direction\"),o=t?Object(ot.get)(this.get(\"line\"),\"length\",0):0,a=\"upward\"===i?-1:1;return{point:os({x:0,y:0},e),line:os({path:[[\"M\",0,0],[\"L\",0,o*a]]},n),text:os({x:0,y:(o+2)*a,text:Object(ot.get)(this.get(\"text\"),\"content\",\"\"),textBaseline:\"upward\"===i?\"bottom\":\"top\"},r)}},is(Fu,Au=xu),Fu.prototype.getDefaultCfg=function(){var t=Au.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"dataRegion\",locationType:\"points\",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:zu.regionColor,opacity:.4}},text:{content:\"\",style:{textAlign:\"center\",textBaseline:\"bottom\",fontSize:12,fill:zu.textColor,fontFamily:zu.fontFamily}}}})},Fu.prototype.renderInner=function(t){var e,n,r,i,o,a,s,u,c,h=Object(ot.get)(this.get(\"region\"),\"style\",{}),l=(Object(ot.get)(this.get(\"text\"),\"style\",{}),this.get(\"lineLength\")||0),f=this.get(\"points\");f.length&&(i=(r=f).map(function(t){return t.x}),o=r.map(function(t){return t.y}),a=Math.min.apply(Math,i),s=Math.min.apply(Math,o),u=Math.max.apply(Math,i),c=Math.max.apply(Math,o),e={x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s},(n=[]).push([\"M\",f[0].x,e.minY-l]),f.forEach(function(t){n.push([\"L\",t.x,t.y])}),n.push([\"L\",f[f.length-1].x,f[f.length-1].y-l]),this.addShape(t,{type:\"path\",id:this.getElementId(\"region\"),name:\"annotation-region\",attrs:os({path:n},h)}),Pu(t,os({id:this.getElementId(\"text\"),name:\"annotation-text\",x:(e.minX+e.maxX)/2,y:e.minY-l},this.get(\"text\"))))},is(Yu,Iu=xu),Yu.prototype.getDefaultCfg=function(){var t=Iu.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"annotation\",type:\"regionFilter\",locationType:\"region\",start:null,end:null,color:null,shape:[]})},Yu.prototype.renderInner=function(t){var i=this,e=this.get(\"start\"),n=this.get(\"end\"),o=this.addGroup(t,{id:this.getElementId(\"region-filter\"),capture:!1});Object(ot.each)(this.get(\"shapes\"),function(t,e){var n=t.get(\"type\"),r=Object(ot.clone)(t.attr());i.adjustShapeAttrs(r),i.addShape(o,{id:i.getElementId(\"shape-\"+n+\"-\"+e),capture:!1,type:n,attrs:r})});var r=ms({start:e,end:n});o.setClip({type:\"rect\",attrs:{x:r.minX,y:r.minY,width:r.width,height:r.height}})},Yu.prototype.adjustShapeAttrs=function(t){var e=this.get(\"color\");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e};var Zu,$u,Ku,Qu=(is(Ju,Zu=xu),Ju.prototype.getDefaultCfg=function(){var t=Zu.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"axis\",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:[\"autoRotate\",\"autoEllipsis\",\"autoHide\"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:zu.lineColor}},tickLine:{style:{lineWidth:1,stroke:zu.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:zu.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:zu.textColor,textBaseline:\"middle\",fontFamily:zu.fontFamily,fontWeight:\"normal\"},offset:10},title:{autoRotate:!0,spacing:5,position:\"center\",style:{fontSize:12,fill:zu.textColor,textBaseline:\"middle\",fontFamily:zu.fontFamily,textAlign:\"center\"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:zu.uncheckedColor}}}}})},Ju.prototype.renderInner=function(t){this.get(\"line\")&&this.drawLine(t),this.drawTicks(t),this.get(\"title\")&&this.drawTitle(t)},Ju.prototype.isList=function(){return!0},Ju.prototype.getItems=function(){return this.get(\"ticks\")},Ju.prototype.setItems=function(t){this.update({ticks:t})},Ju.prototype.updateItem=function(t,e){Object(ot.mix)(t,e),this.clear(),this.render()},Ju.prototype.clearItems=function(){var t=this.getElementByLocalId(\"label-group\");t&&t.clear()},Ju.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},Ju.prototype.hasState=function(t,e){return!!t[e]},Ju.prototype.getItemStates=function(n){var t=this.get(\"tickStates\"),r=[];return Object(ot.each)(t,function(t,e){n[e]&&r.push(e)}),r},Ju.prototype.clearItemsState=function(e){var n=this,t=this.getItemsByState(e);Object(ot.each)(t,function(t){n.setItemState(t,e,!1)})},Ju.prototype.getItemsByState=function(e){var n=this,t=this.getItems();return Object(ot.filter)(t,function(t){return n.hasState(t,e)})},Ju.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},Ju.prototype.getTextAnchor=function(t){var e;return Object(ot.isNumberEqual)(t[0],0)?e=\"center\":0<t[0]?e=\"start\":t[0]<0&&(e=\"end\"),e},Ju.prototype.processOverlap=function(t){},Ju.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get(\"line\");this.addShape(t,{type:\"path\",id:this.getElementId(\"line\"),name:\"axis-line\",attrs:Object(ot.mix)({path:e},n.style)})},Ju.prototype.getTickLineItems=function(t){var r=this,i=[],e=this.get(\"tickLine\"),o=e.alignTick,a=e.length,s=1;return 2<=t.length&&(s=t[1].value-t[0].value),Object(ot.each)(t,function(t){var e=t.point;o||(e=r.getTickPoint(t.value-s/2));var n=r.getSidePoint(e,a);i.push({startPoint:e,tickValue:t.value,endPoint:n,tickId:t.id,id:\"tickline-\"+t.id})}),i},Ju.prototype.getSubTickLineItems=function(t){var e=[],n=this.get(\"subTickLine\"),r=n.count,i=t.length;if(2<=i)for(var o=0;o<i-1;o++)for(var a=t[o],s=t[o+1],u=0;u<r;u++){var c=(u+1)/(r+1),h=(1-c)*a.tickValue+c*s.tickValue,l=this.getTickPoint(h),f=this.getSidePoint(l,n.length);e.push({startPoint:l,endPoint:f,tickValue:h,id:\"sub-\"+a.id+\"-\"+u})}return e},Ju.prototype.getTickLineAttrs=function(t,e){var n=this.get(e).style,r=t.startPoint,i=t.endPoint;return Object(ot.mix)({x1:r.x,y1:r.y,x2:i.x,y2:i.y},n)},Ju.prototype.drawTick=function(t,e,n){this.addShape(e,{type:\"line\",id:this.getElementId(t.id),name:\"axis-\"+n,attrs:this.getTickLineAttrs(t,n)})},Ju.prototype.drawTickLines=function(n){var t,r=this,e=this.get(\"ticks\"),i=this.get(\"subTickLine\"),o=this.getTickLineItems(e),a=this.addGroup(n,{name:\"axis-tickline-group\",id:this.getElementId(\"tickline-group\")}),s=this.get(\"tickLine\");Object(ot.each)(o,function(t){var e;s.displayWithLabel?(e=r.getElementId(\"label-\"+t.tickId),n.findById(e)&&r.drawTick(t,a,\"tickLine\")):r.drawTick(t,a,\"tickLine\")}),i&&(t=this.getSubTickLineItems(o),Object(ot.each)(t,function(t){r.drawTick(t,a,\"subTickLine\")}))},Ju.prototype.processTicks=function(){var e=this,t=this.get(\"ticks\");Object(ot.each)(t,function(t){t.point=e.getTickPoint(t.value),Object(ot.isNil)(t.id)&&(t.id=t.name)})},Ju.prototype.drawTicks=function(e){var n=this;this.processTicks(),this.get(\"label\")&&this.drawLabels(e),this.get(\"tickLine\")&&this.drawTickLines(e);var t=this.get(\"ticks\");Object(ot.each)(t,function(t){n.applyTickStates(t,e)})},Ju.prototype.getLabelAttrs=function(t,e){var n=this.get(\"label\"),r=n.offset,i=n.style,o=n.rotate,a=n.formatter,s=this.getSidePoint(t.point,r),u=this.getSideVector(r,s),c=a?a(t.name,t,e):t.name,h=Object(ot.mix)({x:s.x,y:s.y,text:c,textAlign:this.getTextAnchor(u)},i);return o&&(h.matrix=ls(s,o)),h},Ju.prototype.drawLabels=function(t){var n=this,e=this.get(\"ticks\"),r=this.addGroup(t,{name:\"axis-label-group\",id:this.getElementId(\"label-group\")});Object(ot.each)(e,function(t,e){n.addShape(r,{type:\"text\",name:\"axis-label\",id:n.getElementId(\"label-\"+t.id),attrs:n.getLabelAttrs(t,e),delegateObject:{tick:t,item:t,index:e}})}),this.processOverlap(r)},Ju.prototype.getTitleAttrs=function(){var t=this.get(\"title\"),e=t.style,n=t.position,r=t.offset,i=t.spacing,o=void 0===i?0:i,a=t.autoRotate,s=e.fontSize,u=.5;\"start\"===n?u=0:\"end\"===n&&(u=1);var c,h,l=this.getTickPoint(u),f=this.getSidePoint(l,r||o+s/2),d=Object(ot.mix)({x:f.x,y:f.y,text:t.text},e),p=t.rotate,g=p;return Object(ot.isNil)(p)&&a&&(c=this.getAxisVector(l),g=cs.ext.angleTo(c,[1,0],!0)),g&&(h=ls(f,g),d.matrix=h),d},Ju.prototype.drawTitle=function(t){this.addShape(t,{type:\"text\",id:this.getElementId(\"title\"),name:\"axis-title\",attrs:this.getTitleAttrs()})},Ju.prototype.applyTickStates=function(t,e){var n,r,i,o,a,s,u;this.getItemStates(t).length&&(n=this.get(\"tickStates\"),r=this.getElementId(\"label-\"+t.id),!(i=e.findById(r))||(o=Uu(t,\"label\",n))&&i.attr(o),a=this.getElementId(\"tickline-\"+t.id),!(s=e.findById(a))||(u=Uu(t,\"tickLine\",n))&&s.attr(u))},Ju.prototype.updateTickStates=function(t){var e,n,r=this.getItemStates(t),i=this.get(\"tickStates\"),o=this.get(\"label\"),a=this.getElementByLocalId(\"label-\"+t.id),s=this.get(\"tickLine\"),u=this.getElementByLocalId(\"tickline-\"+t.id);r.length?(!a||(e=Uu(t,\"label\",i))&&a.attr(e),!u||(n=Uu(t,\"tickLine\",i))&&u.attr(n)):(a&&a.attr(o.style),u&&u.attr(s.style))},Ju);function Ju(){return null!==Zu&&Zu.apply(this,arguments)||this}function tc(n,t,r,i){var e=t.getChildren(),o=!1;return Object(ot.each)(e,function(t){var e=ju(n,t,r,i);o=o||e}),o}function ec(){return rc}function nc(t,e,n){return tc(t,e,n,\"head\")}function rc(t,e,n){return tc(t,e,n,\"tail\")}function ic(t,e,n){return tc(t,e,n,\"middle\")}function oc(t){var e=t.attr(\"matrix\");return e&&1!==e[0]}function ac(t,e,n,r,i){void 0===i&&(i=!1);var o,a;return t?Math.abs(n.y-r.y)<n.height:e?(o=i?r.height:n.height,Math.abs(n.x-r.x)<o):(a=i?r.width:n.width,Math.abs(n.x-r.x)<a)}function sc(t,e,n){var r=e.getChildren().slice();if(!r.length)return!1;var i=!1;n&&r.reverse();for(var o=r.length,a=r[0],s=oc(a),u=a.getBBox(),c=1;c<o;c++){var h=r[c],l=h.getBBox();ac(t,s,u,l,n)?(h.hide(),i=!0):u=l}return i}function uc(){return fc}function cc(t,e){return sc(t,e,!1)}function hc(t,e){return sc(t,e,!0)}function lc(t,e){var n=e.getChildren().slice();if(n.length<=2)return!1;for(var r=!1,i=n.length,o=n[0],a=n[i-1],s=oc(o),u=o.getBBox(),c=o,h=1;h<i-1;h++){var l=n[h],f=l.getBBox();ac(t,s,u,f)?(l.hide(),r=!0):(u=f,c=l)}return ac(t,s,u,a.getBBox())&&(c.hide(),r=!0),r}function fc(t,e){var n=e.getChildren().slice();if(n.length<2)return!1;var r,i=!1,o=n[0],a=o.getBBox(),s=n[1],u=oc(o),c=n.length,h=0;if(1<(h=t?(r=Math.abs(s.attr(\"y\")-o.attr(\"y\")),a.height/r):u?(r=Math.abs(s.attr(\"x\")-o.attr(\"x\")),a.width/r):Eu(n)/(r=Math.abs(s.attr(\"x\")-o.attr(\"x\"))))){h=Math.ceil(h);for(var l=0;l<c;l++)l%h!=0&&(n[l].hide(),i=!0)}return i}function dc(t,e,n,r){var i=e.getChildren();if(!i.length)return!1;if(!t&&i.length<2)return!1;var o,a,s=Eu(i),u=!1;return(u=t?!!n&&n<s:s>Math.abs(i[1].attr(\"x\")-i[0].attr(\"x\")))&&(o=i,a=r(n,s),Object(ot.each)(o,function(t){var e=ls({x:t.attr(\"x\"),y:t.attr(\"y\")},a);t.attr(\"matrix\",e)})),u}function pc(){return gc}function gc(t,e,n){return dc(t,e,n,function(){return t?zu.verticalAxisRotate:zu.horizontalAxisRotate})}function vc(r,t,e){return dc(r,t,e,function(t,e){if(!t)return r?zu.verticalAxisRotate:zu.horizontalAxisRotate;if(r)return-Math.acos(t/e);var n=0;return(e<t||(n=Math.asin(t/e))>Math.PI/4)&&(n=Math.PI/4),n})}function yc(){return null!==$u&&$u.apply(this,arguments)||this}function mc(){return null!==Ku&&Ku.apply(this,arguments)||this}is(mc,Ku=Qu),mc.prototype.getDefaultCfg=function(){var t=Ku.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"line\",locationType:\"region\",start:null,end:null})},mc.prototype.getLinePath=function(){var t=this.get(\"start\"),e=this.get(\"end\"),n=[];return n.push([\"M\",t.x,t.y]),n.push([\"L\",e.x,e.y]),n},mc.prototype.getInnerLayoutBBox=function(){var t=this.get(\"start\"),e=this.get(\"end\"),n=Ku.prototype.getInnerLayoutBBox.call(this),r=Math.min(t.x,e.x,n.x),i=Math.min(t.y,e.y,n.y),o=Math.max(t.x,e.x,n.maxX),a=Math.max(t.y,e.y,n.maxY);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}},mc.prototype.isVertical=function(){var t=this.get(\"start\"),e=this.get(\"end\");return Object(ot.isNumberEqual)(t.x,e.x)},mc.prototype.isHorizontal=function(){var t=this.get(\"start\"),e=this.get(\"end\");return Object(ot.isNumberEqual)(t.y,e.y)},mc.prototype.getTickPoint=function(t){var e=this.get(\"start\"),n=this.get(\"end\"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},mc.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=cs.vec2.normalize([0,0],e),r=this.get(\"verticalFactor\"),i=[n[1],-1*n[0]];return cs.vec2.scale([0,0],i,t*r)},mc.prototype.getAxisVector=function(){var t=this.get(\"start\"),e=this.get(\"end\");return[e.x-t.x,e.y-t.y]},mc.prototype.processOverlap=function(e){var n,t,r,i,o,a,s,u,c,h,l=this,f=this.isVertical(),d=this.isHorizontal();(f||d)&&(n=this.get(\"label\"),t=this.get(\"title\"),r=this.get(\"verticalLimitLength\"),i=n.offset,o=r,s=a=0,t&&(a=t.style.fontSize,s=t.spacing),o=o&&o-i-s-a,u=this.get(\"overlapOrder\"),Object(ot.each)(u,function(t){n[t]&&l.autoProcessOverlap(t,n[t],e,o)}),t&&(c=e.getBBox(),h=f?c.width:c.height,Object(ot.isNil)(t.offset)&&(t.offset=i+h+s+a/2)))},mc.prototype.autoProcessOverlap=function(t,e,n,r){var i,o,a,s=this,u=this.isVertical(),c=!1,h=l[t];!0===e?c=h.getDefault()(u,n,r):Object(ot.isFunction)(e)?c=e(u,n,r):h[e]&&(c=h[e](u,n,r)),\"autoRotate\"===t?c&&(i=n.getChildren(),o=this.get(\"verticalFactor\"),Object(ot.each)(i,function(t){var e;\"center\"===t.attr(\"textAlign\")&&(e=0<o?\"end\":\"start\",t.attr(\"textAlign\",e))})):\"autoHide\"===t&&(a=n.getChildren().slice(0),Object(ot.each)(a,function(t){t.get(\"visible\")||(s.get(\"isRegister\")&&s.unregisterElement(t),t.remove())}))},is(yc,$u=Qu),yc.prototype.getDefaultCfg=function(){var t=$u.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"circle\",locationType:\"circle\",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},yc.prototype.getLinePath=function(){var t,e,n,r,i=this.get(\"center\"),o=i.x,a=i.y,s=this.get(\"radius\"),u=s,c=this.get(\"startAngle\"),h=this.get(\"endAngle\");return Math.abs(h-c)===2*Math.PI?[[\"M\",o,a-u],[\"A\",s,u,0,1,1,o,a+u],[\"A\",s,u,0,1,1,o,a-u],[\"Z\"]]:(t=this.getCirclePoint(c),e=this.getCirclePoint(h),n=Math.abs(h-c)>Math.PI?1:0,r=h<c?0:1,[[\"M\",o,a],[\"L\",t.x,t.y],[\"A\",s,u,0,n,r,e.x,e.y],[\"L\",o,a]])},yc.prototype.getTickPoint=function(t){var e=this.get(\"startAngle\"),n=e+(this.get(\"endAngle\")-e)*t;return this.getCirclePoint(n)},yc.prototype.getSideVector=function(t,e){var n=this.get(\"center\"),r=[e.x-n.x,e.y-n.y],i=this.get(\"verticalFactor\"),o=cs.vec2.length(r);return cs.vec2.scale(r,r,i*t/o),r},yc.prototype.getAxisVector=function(t){var e=this.get(\"center\"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},yc.prototype.getCirclePoint=function(t,e){var n=this.get(\"center\");return e=e||this.get(\"radius\"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}};var bc,xc,wc,Mc,Sc,_c,Oc,Cc=(is(kc,Sc=xu),kc.prototype.getDefaultCfg=function(){var t=Sc.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"crosshair\",type:\"base\",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:zu.lineColor}},text:{position:\"start\",offset:10,autoRotate:!1,content:null,style:{fill:zu.textColor,textAlign:\"center\",textBaseline:\"middle\",fontFamily:zu.fontFamily}},textBackground:{padding:5,style:{stroke:zu.lineColor}}}})},kc.prototype.renderInner=function(t){this.get(\"line\")&&this.renderLine(t),this.get(\"text\")&&(this.renderText(t),this.renderBackground(t))},kc.prototype.renderText=function(t){var e,n,r=this.get(\"text\"),i=r.style,o=r.autoRotate,a=r.content;Object(ot.isNil)(a)||(e=this.getTextPoint(),n=null,o&&(n=ls(e,this.getRotateAngle())),this.addShape(t,{type:\"text\",name:\"crosshair-text\",id:this.getElementId(\"text\"),attrs:os(os(os({},e),{text:a,matrix:n}),i)}))},kc.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get(\"line\").style;this.addShape(t,{type:\"path\",name:\"crosshair-line\",id:this.getElementId(\"line\"),attrs:os({path:e},n)})},kc.prototype.renderBackground=function(t){var e,n,r,i=this.getElementId(\"text\"),o=t.findById(i),a=this.get(\"textBackground\");a&&o&&(e=o.getBBox(),n=vs(a.padding),r=a.style,this.addShape(t,{type:\"rect\",name:\"crosshair-text-background\",id:this.getElementId(\"text-background\"),attrs:os({x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],matrix:o.attr(\"matrix\")},r)}).toBack())},kc);function kc(){return null!==Sc&&Sc.apply(this,arguments)||this}function Ec(){return null!==_c&&_c.apply(this,arguments)||this}function jc(){return null!==Oc&&Oc.apply(this,arguments)||this}function Pc(t,e,n){if(t){if(\"function\"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(\"function\"==typeof t.attachEvent)return t.attachEvent(\"on\"+e,n),{remove:function(){t.detachEvent(\"on\"+e,n)}}}}function Ic(t){bc||(bc=document.createElement(\"table\"),xc=document.createElement(\"tr\"),wc=/^\\s*<(\\w+|!)[^>]*>/,Mc={tr:document.createElement(\"tbody\"),tbody:bc,thead:bc,tfoot:bc,td:xc,th:xc,\"*\":document.createElement(\"div\")});var e=wc.test(t)&&RegExp.$1;e&&e in Mc||(e=\"*\");var n=Mc[e];t=t.replace(/(^\\s*)|(\\s*$)/g,\"\"),n.innerHTML=\"\"+t;var r=n.childNodes[0];return n.removeChild(r),r}function Ac(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}is(jc,Oc=Cc),jc.prototype.getDefaultCfg=function(){var t=Oc.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"line\",locationType:\"region\",start:null,end:null})},jc.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get(\"text\").position,i=Math.atan2(n.y-e.y,n.x-e.x);return\"start\"===r?i-Math.PI/2:i+Math.PI/2},jc.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get(\"text\");return Ss(e,n,r.position,r.offset)},jc.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[[\"M\",e.x,e.y],[\"L\",n.x,n.y]]},is(Ec,_c=Cc),Ec.prototype.getDefaultCfg=function(){var t=_c.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"circle\",locationType:\"circle\",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},Ec.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return\"start\"===this.get(\"text\").position?e+Math.PI/2:n-Math.PI/2},Ec.prototype.getTextPoint=function(){var t=this.get(\"text\"),e=t.position,n=t.offset,r=this.getLocation(),i=r.center,o=r.radius,a=r.startAngle,s=r.endAngle,u=\"start\"===e?a:s,c=this.getRotateAngle()-Math.PI,h=ws(i,o,u),l=Math.cos(c)*n,f=Math.sin(c)*n;return{x:h.x+l,y:h.y+f}},Ec.prototype.getLinePath=function(){var t,e,n,r,i,o,a=this.getLocation(),s=a.center,u=a.radius,c=a.startAngle,h=a.endAngle;return h-c==2*Math.PI?[[\"M\",t=s.x,(e=s.y)-u],[\"A\",u,u,0,1,1,t,e+u],[\"A\",u,u,0,1,1,t,e-u],[\"Z\"]]:(n=ws(s,u,c),r=ws(s,u,h),i=Math.abs(h-c)>Math.PI?1:0,o=h<c?0:1,[[\"M\",n.x,n.y],[\"A\",u,u,0,i,o,r.x,r.y]])};var Tc,Nc,Bc,Dc,Lc,Rc,zc=(is(Vc,Dc=yu),Vc.prototype.getDefaultCfg=function(){var t=Dc.prototype.getDefaultCfg.call(this);return os(os({},t),{container:null,containerTpl:\"<div></div>\",updateAutoRender:!0,containerClassName:\"\",parent:null})},Vc.prototype.getContainer=function(){return this.get(\"container\")},Vc.prototype.show=function(){this.get(\"container\").style.display=\"\",this.set(\"visible\",!0)},Vc.prototype.hide=function(){this.get(\"container\").style.display=\"none\",this.set(\"visible\",!1)},Vc.prototype.setCapture=function(t){var e=t?\"auto\":\"none\";this.getContainer().style.pointerEvents=e,this.set(\"capture\",t)},Vc.prototype.getBBox=function(){var t=this.getContainer();return bs(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},Vc.prototype.clear=function(){ys(this.get(\"container\"))},Vc.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Dc.prototype.destroy.call(this)},Vc.prototype.init=function(){Dc.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},Vc.prototype.initCapture=function(){this.setCapture(this.get(\"capture\"))},Vc.prototype.initVisible=function(){this.get(\"visible\")?this.show():this.hide()},Vc.prototype.initDom=function(){},Vc.prototype.initContainer=function(){var t,e=this.get(\"container\");Object(ot.isNil)(e)?(e=this.createDom(),t=this.get(\"parent\"),Object(ot.isString)(t)&&(t=document.getElementById(t),this.set(\"parent\",t)),t.appendChild(e),this.set(\"container\",e)):Object(ot.isString)(e)&&(e=document.getElementById(e),this.set(\"container\",e)),this.get(\"parent\")||this.set(\"parent\",e.parentNode)},Vc.prototype.resetStyles=function(){var t=this.get(\"domStyles\"),e=this.get(\"defaultStyles\"),t=t?Object(ot.deepMix)({},e,t):e;this.set(\"domStyles\",t)},Vc.prototype.applyStyles=function(){var t,e,n=this.get(\"domStyles\");n&&(t=this.getContainer(),this.applyChildrenStyles(t,n),(e=this.get(\"containerClassName\"))&&t.className.match(new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\"))&&Ac(t,n[e]))},Vc.prototype.applyChildrenStyles=function(r,t){Object(ot.each)(t,function(e,t){var n=r.getElementsByClassName(t);Object(ot.each)(n,function(t){Ac(t,e)})})},Vc.prototype.applyStyle=function(t,e){Ac(e,this.get(\"domStyles\")[t])},Vc.prototype.createDom=function(){return Ic(this.get(\"containerTpl\"))},Vc.prototype.initEvent=function(){},Vc.prototype.removeDom=function(){var t=this.get(\"container\");t&&t.parentNode.removeChild(t)},Vc.prototype.removeEvent=function(){},Vc.prototype.updateInner=function(t){Object(ot.hasKey)(t,\"domStyles\")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},Vc.prototype.resetPosition=function(){},Vc),Yc=((Tc={})[\"g2-crosshair\"]={position:\"relative\"},Tc[\"g2-crosshair-line\"]={position:\"absolute\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},Tc[\"g2-crosshair-text\"]={position:\"absolute\",color:zu.textColor,fontFamily:zu.fontFamily},Tc),Fc=(is(Gc,Bc=zc),Gc.prototype.getDefaultCfg=function(){var t=Bc.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"crosshair\",type:\"html\",locationType:\"region\",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class=\"g2-crosshair\"></div>',crosshairTpl:'<div class=\"g2-crosshair-line\"></div>',textTpl:'<span class=\"g2-crosshair-text\">{content}</span>',domStyles:null,containerClassName:\"g2-crosshair\",defaultStyles:Yc,defaultCfg:{text:{position:\"start\",content:null,align:\"center\",offset:10}}})},Gc.prototype.render=function(){this.resetText(),this.resetPosition()},Gc.prototype.initCrossHair=function(){var t=this.getContainer(),e=Ic(this.get(\"crosshairTpl\"));t.appendChild(e),this.applyStyle(\"g2-crosshair-line\",e),this.set(\"crosshairEl\",e)},Gc.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get(\"text\");return Ss(e,n,r.position,r.offset)},Gc.prototype.resetText=function(){var t,e,n=this.get(\"text\"),r=this.get(\"textEl\");n?(t=n.content,r||(e=this.getContainer(),r=Ic(Object(ot.substitute)(this.get(\"textTpl\"),n)),e.appendChild(r),this.applyStyle(\"g2-crosshair-text\",r),this.set(\"textEl\",r)),r.innerHTML=t):r&&r.remove()},Gc.prototype.isVertical=function(t,e){return t.x===e.x},Gc.prototype.resetPosition=function(){var t=this.get(\"crosshairEl\");t||(this.initCrossHair(),t=this.get(\"crosshairEl\"));var e=this.get(\"start\"),n=this.get(\"end\"),r=Math.min(e.x,n.x),i=Math.min(e.y,n.y);this.isVertical(e,n)?Ac(t,{width:\"1px\",height:Ms(Math.abs(n.y-e.y))}):Ac(t,{height:\"1px\",width:Ms(Math.abs(n.x-e.x))}),Ac(t,{top:Ms(i),left:Ms(r)}),this.alignText()},Gc.prototype.alignText=function(){var t=this.get(\"textEl\");if(t){var e=this.get(\"text\").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case\"center\":r.x=r.x-n/2;break;case\"right\":r.x=r.x-n}Ac(t,{top:Ms(r.y),left:Ms(r.x)})}},Gc.prototype.updateInner=function(t){Object(ot.hasKey)(t,\"text\")&&this.resetText(),Bc.prototype.updateInner.call(this,t)},is(Xc,Nc=xu),Xc.prototype.getDefaultCfg=function(){var t=Nc.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"grid\",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:\"line\",style:{lineWidth:1,stroke:zu.lineColor}}}})},Xc.prototype.getLineType=function(){return(this.get(\"line\")||this.get(\"defaultCfg\").line).type},Xc.prototype.renderInner=function(t){this.drawGrid(t)},Xc.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),r=e.slice(0).reverse(),i=this.getGridPath(r,!0);return this.get(\"closed\")?n=n.concat(i):(i[0][0]=\"L\",(n=n.concat(i)).push([\"Z\"])),n},Xc.prototype.getPathStyle=function(){return this.get(\"line\").style},Xc.prototype.drawGrid=function(c){var h=this,l=this.get(\"line\"),t=this.get(\"items\"),f=this.get(\"alternateColor\"),d=null;Object(ot.each)(t,function(t,e){var n,r,i,o,a,s,u=t.id||e;l&&(n=h.getPathStyle(),r=h.getElementId(\"line-\"+u),i=h.getGridPath(t.points),h.addShape(c,{type:\"path\",name:\"grid-line\",id:r,attrs:Object(ot.mix)({path:i},n)})),f&&0<e&&(o=h.getElementId(\"region-\"+u),a=e%2==0,Object(ot.isString)(f)?a&&h.drawAlternateRegion(o,c,d.points,t.points,f):(s=a?f[1]:f[0],h.drawAlternateRegion(o,c,d.points,t.points,s))),d=t})},Xc.prototype.drawAlternateRegion=function(t,e,n,r,i){var o=this.getAlternatePath(n,r);this.addShape(e,{type:\"path\",id:t,name:\"grid-region\",attrs:{path:o,fill:i}})},Xc);function Xc(){return null!==Nc&&Nc.apply(this,arguments)||this}function Gc(){return null!==Bc&&Bc.apply(this,arguments)||this}function Vc(){return null!==Dc&&Dc.apply(this,arguments)||this}function qc(){return null!==Lc&&Lc.apply(this,arguments)||this}function Hc(){return null!==Rc&&Rc.apply(this,arguments)||this}is(Hc,Rc=Fc),Hc.prototype.getDefaultCfg=function(){var t=Rc.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"circle\",center:null,closed:!0})},Hc.prototype.getGridPath=function(t,e){var n,r,i,o,a,s,u,c,h=this.getLineType(),l=this.get(\"closed\"),f=[];return t.length&&(\"circle\"===h?(a=this.get(\"center\"),s=t[0],n=a.x,r=a.y,i=s.x-n,o=s.y-r,u=Math.sqrt(i*i+o*o),c=e?0:1,l?(f.push([\"M\",a.x,a.y-u]),f.push([\"A\",u,u,0,0,c,a.x,a.y+u]),f.push([\"A\",u,u,0,0,c,a.x,a.y-u]),f.push([\"Z\"])):Object(ot.each)(t,function(t,e){0===e?f.push([\"M\",t.x,t.y]):f.push([\"A\",u,u,0,0,c,t.x,t.y])})):(Object(ot.each)(t,function(t,e){0===e?f.push([\"M\",t.x,t.y]):f.push([\"L\",t.x,t.y])}),l&&f.push([\"Z\"]))),f},is(qc,Lc=Fc),qc.prototype.getDefaultCfg=function(){var t=Lc.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"line\"})},qc.prototype.getGridPath=function(t){var n=[];return Object(ot.each)(t,function(t,e){0===e?n.push([\"M\",t.x,t.y]):n.push([\"L\",t.x,t.y])}),n};var Wc,Uc,Zc,$c=(is(rh,Zc=xu),rh.prototype.getDefaultCfg=function(){var t=Zc.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"legend\",layout:\"horizontal\",locationType:\"point\",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},rh.prototype.getLayoutBBox=function(){var t=Zc.prototype.getLayoutBBox.call(this),e=this.get(\"x\"),n=this.get(\"y\"),r=this.get(\"offsetX\"),i=this.get(\"offsetY\"),o=this.get(\"maxWidth\"),a=this.get(\"maxHeight\"),s=e+r,u=n+i,c=t.maxX-s,h=t.maxY-u;return o&&(c=Math.min(c,o)),a&&(h=Math.min(h,a)),bs(s,u,c,h)},rh.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetLocation()},rh.prototype.resetLocation=function(){var t=this.get(\"x\"),e=this.get(\"y\"),n=this.get(\"offsetX\"),r=this.get(\"offsetY\");this.moveElementTo(this.get(\"group\"),{x:t+n,y:e+r})},rh.prototype.applyOffset=function(){this.resetLocation()},rh.prototype.getDrawPoint=function(){return this.get(\"currentPoint\")},rh.prototype.setDrawPoint=function(t){return this.set(\"currentPoint\",t)},rh.prototype.renderInner=function(t){this.resetDraw(),this.get(\"title\")&&this.drawTitle(t),this.drawLegendContent(t),this.get(\"background\")&&this.drawBackground(t)},rh.prototype.drawBackground=function(t){var e=this.get(\"background\"),n=t.getBBox(),r=vs(e.padding),i=os({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style);this.addShape(t,{type:\"rect\",id:this.getElementId(\"background\"),name:\"legend-background\",attrs:i}).toBack()},rh.prototype.drawTitle=function(t){var e=this.get(\"currentPoint\"),n=this.get(\"title\"),r=n.spacing,i=n.style,o=n.text,a=this.addShape(t,{type:\"text\",id:this.getElementId(\"title\"),name:\"legend-title\",attrs:os({text:o,x:e.x,y:e.y},i)}).getBBox();this.set(\"currentPoint\",{x:e.x,y:a.maxY+r})},rh.prototype.resetDraw=function(){var t,e=this.get(\"background\"),n={x:0,y:0};e&&(t=vs(e.padding),n.x=t[3],n.y=t[0]),this.set(\"currentPoint\",n)},rh),Kc=(is(nh,Uc=$c),nh.prototype.getDefaultCfg=function(){var t=Uc.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"legend\",type:\"category\",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:zu.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"top\"}},background:{padding:5,style:{stroke:zu.lineColor}},itemBackground:{style:{opacity:0,fill:\"#fff\"}},itemName:{spacing:16,style:{fill:zu.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"middle\"}},marker:{spacing:8,style:{r:6,symbol:\"circle\"}},itemValue:{alignRight:!1,formatter:null,style:{fill:zu.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"middle\"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:zu.uncheckedColor},markerStyle:{fill:zu.uncheckedColor,stroke:zu.uncheckedColor}},inactive:{nameStyle:{fill:zu.uncheckedColor},markerStyle:{opacity:.2}}}}})},nh.prototype.isList=function(){return!0},nh.prototype.getItems=function(){return this.get(\"items\")},nh.prototype.setItems=function(t){this.update({items:t})},nh.prototype.updateItem=function(t,e){Object(ot.mix)(t,e),this.clear(),this.render()},nh.prototype.clearItems=function(){var t=this.getElementByLocalId(\"item-group\");t&&t.clear()},nh.prototype.setItemState=function(t,e,n){t[e]=n;var r,i,o,a=this.getElementByLocalId(\"item-\"+t.id);a&&(r=this.getItems().indexOf(t),i=this.createOffScreenGroup(),o=this.drawItem(t,r,this.getItemHeight(),i),this.updateElements(o,a),this.clearUpdateStatus(a))},nh.prototype.hasState=function(t,e){return!!t[e]},nh.prototype.getItemStates=function(n){var t=this.get(\"itemStates\"),r=[];return Object(ot.each)(t,function(t,e){n[e]&&r.push(e)}),r},nh.prototype.clearItemsState=function(e){var n=this,t=this.getItemsByState(e);Object(ot.each)(t,function(t){n.setItemState(t,e,!1)})},nh.prototype.getItemsByState=function(e){var n=this,t=this.getItems();return Object(ot.filter)(t,function(t){return n.hasState(t,e)})},nh.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},nh.prototype.processItems=function(){var t=this.get(\"items\");Object(ot.each)(t,function(t){t.id||(t.id=t.name)})},nh.prototype.drawItems=function(t){var o=this,e=this.addGroup(t,{id:this.getElementId(\"item-container-group\"),name:\"legend-item-container-group\"}),a=this.addGroup(e,{id:this.getElementId(\"item-group\"),name:\"legend-item-group\"}),s=this.getItemHeight(),u=this.get(\"itemWidth\"),c=this.get(\"itemSpacing\"),h=this.get(\"currentPoint\"),l=h.x,f=h.y,d=this.get(\"layout\"),n=this.get(\"items\"),p=!1,g=0,v=this.get(\"maxWidth\"),y=this.get(\"maxHeight\");Object(ot.each)(n,function(t,e){var n=o.drawItem(t,e,s,a),r=n.getBBox(),i=u||r.width;g<i&&(g=i),\"horizontal\"===d?(v&&v<h.x+i-l&&(p=!0,h.x=l,h.y+=s),o.moveElementTo(n,h),h.x+=i+c):(y&&y<h.y+s-f&&(p=!0,h.x+=g+c,h.y=f,g=0),o.moveElementTo(n,h),h.y+=s)}),p&&this.get(\"flipPage\")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=l,this.startY=f,this.adjustNavigation(t,a))},nh.prototype.getItemHeight=function(){var t,e=this.get(\"itemHeight\");return e||(t=this.get(\"itemName\"))&&(e=t.style.fontSize+8),e},nh.prototype.drawMarker=function(t,e,n,r){var i=os(os(os({x:0,y:r/2},e.style),{symbol:Object(ot.get)(n.marker,\"symbol\",\"circle\")}),Object(ot.get)(n.marker,\"style\",{})),o=this.addShape(t,{type:\"marker\",id:this.getElementId(\"item-\"+n.id+\"-marker\"),name:\"legend-item-marker\",attrs:i}),a=o.getBBox();o.attr(\"x\",a.width/2);var s=o.attr(),u=s.stroke,c=s.fill;return u&&o.set(\"isStroke\",!0),c&&o.set(\"isFill\",!0),o},nh.prototype.drawItemText=function(t,e,n,r,i,o,a){var s=n.formatter,u=os({x:o,y:i/2,text:s?s(r[e],r,a):r[e]},n.style);return this.addShape(t,{type:\"text\",id:this.getElementId(\"item-\"+r.id+\"-\"+e),name:\"legend-item-\"+e,attrs:u})},nh.prototype.drawItem=function(t,e,n,r){var i,o,a,s=\"item-\"+t.id,u=this.addGroup(r,{name:\"legend-item-container\",id:this.getElementId(\"item-container-\"+s),delegateObject:{item:t,index:e}}),c=this.addGroup(u,{name:\"legend-item\",id:this.getElementId(s),delegateObject:{item:t,index:e}}),h=this.get(\"marker\"),l=this.get(\"itemName\"),f=this.get(\"itemValue\"),d=this.get(\"itemBackground\"),p=this.getLimitItemWidth(),g=0;return h&&(g=this.drawMarker(c,h,t,n).getBBox().maxX+h.spacing),l&&(i=this.drawItemText(c,\"name\",l,t,n,g,e),p&&ju(!0,i,Object(ot.clamp)(p-g,0,p)),g=i.getBBox().maxX+l.spacing),f&&(o=this.drawItemText(c,\"value\",f,t,n,g,e),p&&(f.alignRight?(o.attr({textAlign:\"right\",x:p}),ju(!0,o,Object(ot.clamp)(p-g,0,p),\"head\")):ju(!0,o,Object(ot.clamp)(p-g,0,p)))),d&&(a=c.getBBox(),this.addShape(c,{type:\"rect\",name:\"legend-item-background\",id:this.getElementId(s+\"-background\"),attrs:os({x:0,y:0,width:a.width,height:n},d.style)}).toBack()),this.applyItemStates(t,c),c},nh.prototype.adjustNavigation=function(t,e){var n,r=this,i=this.startX,o=this.startY,a=this.get(\"layout\"),s=e.findAll(function(t){return\"legend-item\"===t.get(\"name\")}),u=this.get(\"maxWidth\"),c=this.get(\"maxHeight\"),h=this.get(\"itemWidth\"),l=this.get(\"itemSpacing\"),f=this.getItemHeight(),d=this.drawNavigation(t,a,\"00/00\",12),p=d.getBBox(),g={x:i,y:o},v=1,y=0,m=0,b=0;\"horizontal\"===a?(this.pageHeight=f,Object(ot.each)(s,function(t){var e=t.getBBox(),n=h||e.width;(y&&y<g.x+n+l||u<g.x+n+l+p.width)&&(1===v&&(y=g.x+l,r.pageWidth=y,r.moveElementTo(d,{x:u-l-p.width-p.minX,y:g.y+f/2-p.height/2-p.minY})),v+=1,g.x=i,g.y+=f),r.moveElementTo(t,g),t.getParent().setClip({type:\"rect\",attrs:{x:g.x,y:g.y,width:n+l,height:f}}),g.x+=n+l})):(Object(ot.each)(s,function(t){var e=t.getBBox();e.width>m&&(m=e.width)}),b=m,m+=l,u&&(m=Math.min(u,m),b=Math.min(u,b)),this.pageWidth=m,this.pageHeight=c-Math.max(p.height,f),n=Math.floor(this.pageHeight/f),Object(ot.each)(s,function(t,e){0!==e&&e%n==0&&(v+=1,g.x+=m,g.y=o),r.moveElementTo(t,g),t.getParent().setClip({type:\"rect\",attrs:{x:g.x,y:g.y,width:m,height:f}}),g.y+=f}),this.totalPagesCnt=v,this.moveElementTo(d,{x:i+b/2-p.width/2-p.minX,y:c-p.height-p.minY})),this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:\"rect\",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=v,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(d),e.attr(\"matrix\",this.getCurrentNavigationMatrix())},nh.prototype.drawNavigation=function(t,e,n,r){var i={x:0,y:0},o=this.addGroup(t,{id:this.getElementId(\"navigation-group\"),name:\"legend-navigation\"}),a=this.drawArrow(o,i,\"navigation-arrow-left\",\"horizontal\"===e?\"up\":\"left\",r);a.on(\"click\",this.onNavigationBack);var s=a.getBBox();i.x+=s.width+2;var u=this.addShape(o,{type:\"text\",id:this.getElementId(\"navigation-text\"),name:\"navigation-text\",attrs:{x:i.x,y:i.y+r/2,text:n,fontSize:12,fill:\"#ccc\",textBaseline:\"middle\"}}).getBBox();return i.x+=u.width+2,this.drawArrow(o,i,\"navigation-arrow-right\",\"horizontal\"===e?\"down\":\"right\",r).on(\"click\",this.onNavigationAfter),o},nh.prototype.updateNavigation=function(t){var e=this.currentPageIndex+\"/\"+this.totalPagesCnt,n=t?t.getChildren()[1]:this.getElementByLocalId(\"navigation-text\"),r=t?t.findById(this.getElementId(\"navigation-arrow-left\")):this.getElementByLocalId(\"navigation-arrow-left\"),i=t?t.findById(this.getElementId(\"navigation-arrow-right\")):this.getElementByLocalId(\"navigation-arrow-right\"),o=n.getBBox();n.attr(\"text\",e);var a=n.getBBox();n.attr(\"x\",n.attr(\"x\")-(a.width-o.width)/2),r.attr(\"opacity\",1===this.currentPageIndex?.45:1),r.attr(\"cursor\",1===this.currentPageIndex?\"not-allowed\":\"pointer\"),i.attr(\"opacity\",this.currentPageIndex===this.totalPagesCnt?.45:1),i.attr(\"cursor\",this.currentPageIndex===this.totalPagesCnt?\"not-allowed\":\"pointer\")},nh.prototype.drawArrow=function(t,e,n,r,i){var o=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},u=this.addShape(t,{type:\"path\",id:this.getElementId(n),name:n,attrs:{path:[[\"M\",o+i/2,a],[\"L\",o,a+i],[\"L\",o+i,a+i],[\"Z\"]],fill:\"#000\",cursor:\"pointer\"}});return u.attr(\"matrix\",ls({x:o+i/2,y:a+i/2},s[r])),u},nh.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,n=this.pageHeight;return fs(\"horizontal\"===this.get(\"layout\")?{x:0,y:n*(1-t)}:{x:e*(1-t),y:0})},nh.prototype.applyItemStates=function(r,t){var e,i;0<this.getItemStates(r).length&&(e=t.getChildren(),i=this.get(\"itemStates\"),Object(ot.each)(e,function(t){var e=t.get(\"name\").split(\"-\")[2],n=Uu(r,e,i);n&&(t.attr(n),\"marker\"!==e||t.get(\"isStroke\")&&t.get(\"isFill\")||(t.get(\"isStroke\")&&t.attr(\"fill\",null),t.get(\"isFill\")&&t.attr(\"stroke\",null)))}))},nh.prototype.getLimitItemWidth=function(){var t=this.get(\"itemWidth\"),e=this.get(\"maxItemWidth\");return e?t&&(e=t<=e?t:e):t&&(e=t),e},is(eh,Wc=$c),eh.prototype.getDefaultCfg=function(){var t=Wc.prototype.getDefaultCfg.call(this);return os(os({},t),{type:\"continue\",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:\"rail\",spacing:5,formatter:null,style:{fontSize:12,fill:zu.textColor,textBaseline:\"middle\",fontFamily:zu.fontFamily}},handler:{size:10,style:{fill:\"#fff\",stroke:\"#333\"}},track:{},rail:{type:\"color\",size:20,defaultLength:100,style:{fill:\"#DCDEE2\"}},title:{spacing:5,style:{fill:zu.textColor,fontSize:12,textAlign:\"start\",textBaseline:\"top\"}}}})},eh.prototype.isSlider=function(){return!0},eh.prototype.getValue=function(){return this.getCurrentValue()},eh.prototype.getRange=function(){return{min:this.get(\"min\"),max:this.get(\"max\")}},eh.prototype.setRange=function(t,e){this.update({min:t,max:e})},eh.prototype.setValue=function(t){var e=this.getValue();this.set(\"value\",t);var n=this.get(\"group\");this.resetTrackClip(),this.get(\"slidable\")&&this.resetHandlers(n),this.delegateEmit(\"valuechanged\",{originValue:e,value:t})},eh.prototype.initEvent=function(){var t=this.get(\"group\");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},eh.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get(\"slidable\")&&this.resetHandlers(t)},eh.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},eh.prototype.bindHandlersEvent=function(t){var r=this;t.on(\"legend-handler-min:drag\",function(t){var e=r.getValueByCanvasPoint(t.x,t.y),n=r.getCurrentValue()[1];n<e&&(n=e),r.setValue([e,n])}),t.on(\"legend-handler-max:drag\",function(t){var e=r.getValueByCanvasPoint(t.x,t.y),n=r.getCurrentValue()[0];e<n&&(n=e),r.setValue([n,e])})},eh.prototype.bindRailEvent=function(t){},eh.prototype.bindTrackEvent=function(t){var s=this,u=null;t.on(\"legend-track:dragstart\",function(t){u={x:t.x,y:t.y}}),t.on(\"legend-track:drag\",function(t){var e,n,r,i,o,a;u&&(e=s.getValueByCanvasPoint(u.x,u.y),n=s.getValueByCanvasPoint(t.x,t.y),i=(r=s.getCurrentValue())[1]-r[0],o=s.getRange(),(a=n-e)<0?r[0]+a>o.min?s.setValue([r[0]+a,r[1]+a]):s.setValue([o.min,o.min+i]):0<a&&(0<a&&r[1]+a<o.max?s.setValue([r[0]+a,r[1]+a]):s.setValue([o.max-i,o.max])),u={x:t.x,y:t.y})}),t.on(\"legend-track:dragend\",function(t){u=null})},eh.prototype.drawLabels=function(t){this.drawLabel(\"min\",t),this.drawLabel(\"max\",t)},eh.prototype.drawLabel=function(t,e){var n=this.get(\"label\"),r=n.style,i=n.align,o=this.get(t),a=this.getLabelAlignAttrs(t,i),s=\"label-\"+t;this.addShape(e,{type:\"text\",id:this.getElementId(s),name:\"legend-label-\"+t,attrs:os(os({x:0,y:0,text:o},r),a)})},eh.prototype.getLabelAlignAttrs=function(t,e){var n=\"center\",r=\"middle\";return this.isVertical()?(n=\"start\",r=\"rail\"===e||\"min\"===t?\"top\":\"bottom\"):\"rail\"!==e?(r=\"top\",n=\"min\"===t?\"start\":\"end\"):(n=\"start\",r=\"middle\"),{textAlign:n,textBaseline:r}},eh.prototype.getRailPath=function(t,e,n,r){var i=this.get(\"rail\"),o=i.size,a=i.defaultLength,s=i.type,u=this.isVertical(),c=(c=n)||(u?o:a),h=(h=r)||(u?a:o),l=[];return\"color\"===s?(l.push([\"M\",t,e]),l.push([\"L\",t+c,e])):l.push([\"M\",t+c,e]),l.push([\"L\",t+c,e+h]),l.push([\"L\",t,e+h]),l.push([\"Z\"]),l},eh.prototype.drawRail=function(t){var e=this.get(\"rail\").style;this.addShape(t,{type:\"path\",id:this.getElementId(\"rail\"),name:\"legend-rail\",attrs:os({path:this.getRailPath(0,0)},e)})},eh.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?\"l(90)\":\"l(0)\";for(var r=0;r<n;r++)e+=\" \"+r/(n-1)+\":\"+t[r];return e},eh.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr(\"path\");return Object(ot.clone)(e)},eh.prototype.getClipTrackAttrs=function(t){var e,n,r,i=this.getCurrentValue(),o=i[0],a=i[1],s=this.getRailBBox(t),u=this.getPointByValue(o,t),c=this.getPointByValue(a,t),h=this.isVertical()?(e=s.minX,n=u.y,r=s.width,c.y-u.y):(e=u.x,n=s.minY,r=c.x-u.x,s.height);return{x:e,y:n,width:r,height:h}},eh.prototype.getTrackAttrs=function(t){var e=this.get(\"track\"),n=this.get(\"colors\"),r=this.getTrackPath(t);return Object(ot.mix)({path:r,fill:this.getTrackColor(n)},e.style)},eh.prototype.resetTrackClip=function(t){var e=t||this.get(\"group\"),n=this.getElementId(\"track\"),r=e.findById(n),i=r.getClip(),o=this.getClipTrackAttrs(t);i?i.attr(o):r.setClip({type:\"rect\",attrs:o})},eh.prototype.resetTrack=function(t){var e=this.getElementId(\"track\"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:\"path\",id:e,draggable:this.get(\"slidable\"),name:\"legend-track\",attrs:r})},eh.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,i=(t-r)/(n.max-r),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=xs(o.minY,o.maxY,i)):(a.x=xs(o.minX,o.maxX,i),a.y=o.minY+o.height/2),a},eh.prototype.getRailShape=function(t){return(t||this.get(\"group\")).findById(this.getElementId(\"rail\"))},eh.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},eh.prototype.getRailCanvasBBox=function(){return this.get(\"group\").findById(this.getElementId(\"rail\")).getCanvasBBox()},eh.prototype.isVertical=function(){return\"vertical\"===this.get(\"layout\")},eh.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),r=n.min,i=n.max,o=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get(\"step\"),u=xs(r,i,a?(e-o.minY)/o.height:(t-o.minX)/o.width);return s&&(u=r+Math.round((u-r)/s)*s),i<u&&(u=i),u<r&&(u=r),u},eh.prototype.getCurrentValue=function(){return this.get(\"value\")||[this.get(\"min\"),this.get(\"max\")]},eh.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],r=e[1];this.resetHandler(t,\"min\",n),this.resetHandler(t,\"max\",r)},eh.prototype.getHandlerPath=function(t,e){var n,r,i=this.isVertical(),o=[],a=t.size,s=e.x,u=e.y,c=1.4*a,h=a/2,l=a/6;return i?(n=s+.4*c,o.push([\"M\",s,u]),o.push([\"L\",n,u+h]),o.push([\"L\",s+c,u+h]),o.push([\"L\",s+c,u-h]),o.push([\"L\",n,u-h]),o.push([\"Z\"]),o.push([\"M\",n,u+l]),o.push([\"L\",s+c-2,u+l]),o.push([\"M\",n,u-l]),o.push([\"L\",s+c-2,u-l])):(r=u+.4*c,o.push([\"M\",s,u]),o.push([\"L\",s-h,r]),o.push([\"L\",s-h,u+c]),o.push([\"L\",s+h,u+c]),o.push([\"L\",s+h,r]),o.push([\"Z\"]),o.push([\"M\",s-l,r]),o.push([\"L\",s-l,u+c-2]),o.push([\"M\",s+l,r]),o.push([\"L\",s+l,u+c-2])),o},eh.prototype.resetHandler=function(t,e,n){var r=this.getPointByValue(n,t),i=this.get(\"handler\"),o=this.getHandlerPath(i,r),a=this.getElementId(\"handler-\"+e),s=t.findById(a),u=this.isVertical();s?s.attr(\"path\",o):this.addShape(t,{type:\"path\",name:\"legend-handler-\"+e,draggable:!0,id:a,attrs:os(os({path:o},i.style),{cursor:u?\"ns-resize\":\"ew-resize\"})})},eh.prototype.fixedElements=function(t){var e=t.findById(this.getElementId(\"rail\")),n=t.findById(this.getElementId(\"label-min\")),r=t.findById(this.getElementId(\"label-max\")),i=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,r,e,i):this.fixedHorizontal(n,r,e,i)},eh.prototype.fitRailLength=function(t,e,n,r){var i,o=this.isVertical()?\"height\":\"width\",a=this.get(\"label\"),s=a.align,u=a.spacing,c=this.get(\"max\"+Object(ot.upperFirst)(o));!c||0<(i=(\"rail\"===s?n[o]+t[o]+e[o]+2*u:n[o])-c)&&this.changeRailLength(r,o,n[o]-i)},eh.prototype.changeRailLength=function(t,e,n){var r=t.getBBox(),i=\"height\"===e?this.getRailPath(r.x,r.y,r.width,n):this.getRailPath(r.x,r.y,n,r.height);t.attr(\"path\",i)},eh.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),i=this.getRailPath(e,n,r.width,r.height);t.attr(\"path\",i)},eh.prototype.fixedHorizontal=function(t,e,n,r){var i=this.get(\"label\"),o=i.align,a=i.spacing,s=n.getBBox(),u=t.getBBox(),c=e.getBBox(),h=s.height;this.fitRailLength(u,c,s,n),s=n.getBBox(),\"rail\"===o?(t.attr({x:r.x,y:r.y+h/2}),this.changeRailPosition(n,r.x+u.width+a,r.y),e.attr({x:r.x+u.width+s.width+2*a,y:r.y+h/2})):\"top\"===o?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+s.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+u.height+a)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+s.height+a}),e.attr({x:r.x+s.width,y:r.y+s.height+a}))},eh.prototype.fixedVertail=function(t,e,n,r){var i,o=this.get(\"label\"),a=o.align,s=o.spacing,u=n.getBBox(),c=t.getBBox(),h=e.getBBox();this.fitRailLength(c,h,u,n),u=n.getBBox(),\"rail\"===a?(t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+c.height+s),e.attr({x:r.x,y:r.y+c.height+u.height+2*s})):\"right\"===a?(t.attr({x:r.x+u.width+s,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+u.width+s,y:r.y+u.height})):(i=Math.max(c.width,h.width),t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+i+s,r.y),e.attr({x:r.x,y:r.y+u.height}))},/rgba?\\(([\\s.,0-9]+)\\)/),Qc=/^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,Jc=/^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,th=/[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;function eh(){return null!==Wc&&Wc.apply(this,arguments)||this}function nh(){var n=null!==Uc&&Uc.apply(this,arguments)||this;return n.currentPageIndex=1,n.totalPagesCnt=1,n.pageWidth=0,n.pageHeight=0,n.startX=0,n.startY=0,n.onNavigationBack=function(){var t,e=n.getElementByLocalId(\"item-group\");1<n.currentPageIndex&&(--n.currentPageIndex,n.updateNavigation(),t=n.getCurrentNavigationMatrix(),n.get(\"animate\")?e.animate({matrix:t},100):e.attr({matrix:t}))},n.onNavigationAfter=function(){var t,e=n.getElementByLocalId(\"item-group\");n.currentPageIndex<n.totalPagesCnt&&(n.currentPageIndex+=1,n.updateNavigation(),t=n.getCurrentNavigationMatrix(),n.get(\"animate\")?e.animate({matrix:t},100):e.attr({matrix:t}))},n}function rh(){return null!==Zc&&Zc.apply(this,arguments)||this}function ih(t){var e=Math.round(t).toString(16);return 1===e.length?\"0\"+e:e}var oh,ah,sh,uh=(Object(ot.memoize)(function(t){if(\"#\"===t[0]&&7===t.length)return t;var e;oh||((e=document.createElement(\"i\")).title=\"Web Colour Picker\",e.style.display=\"none\",document.body.appendChild(e),oh=e),oh.style.color=t;var n,r=document.defaultView.getComputedStyle(oh,\"\").getPropertyValue(\"color\");return n=Kc.exec(r)[1].split(/\\s*,\\s*/).map(function(t){return Number(t)}),\"#\"+ih(n[0])+ih(n[1])+ih(n[2])}),function(t){if(/^[r,R,L,l]{1}[\\s]*\\(/.test(t)){var e,r,n,i=void 0;\"l\"===t[0]?(e=+(n=Qc.exec(t))[1]+90,i=n[2],r=\"linear-gradient(\"+e+\"deg, \"):\"r\"===t[0]&&(r=\"radial-gradient(\",i=(n=Jc.exec(t))[4]);var o=i.match(th);return Object(ot.each)(o,function(t,e){var n=t.split(\":\");r+=n[1]+\" \"+100*n[0]+\"%\",e!==o.length-1&&(r+=\", \")}),r+=\")\"}return t}),ch=\"g2-tooltip\",hh=\"g2-tooltip-title\",lh=\"g2-tooltip-list\",fh=\"g2-tooltip-list-item\",dh=\"g2-tooltip-marker\",ph=\"g2-tooltip-value\",gh=\"g2-tooltip-name\",vh=\"g2-tooltip-crosshair-x\",yh=\"g2-tooltip-crosshair-y\",mh=((ah={})[\"\"+ch]={position:\"absolute\",visibility:\"visible\",zIndex:8,transition:\"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)\",backgroundColor:\"rgba(255, 255, 255, 0.9)\",boxShadow:\"0px 0px 10px #aeaeae\",borderRadius:\"3px\",color:\"rgb(87, 87, 87)\",fontSize:\"12px\",fontFamily:zu.fontFamily,lineHeight:\"20px\",padding:\"10px 10px 6px 10px\"},ah[\"\"+hh]={marginBottom:\"4px\"},ah[\"\"+lh]={margin:\"0px\",listStyleType:\"none\",padding:\"0px\"},ah[\"\"+fh]={listStyleType:\"none\",marginBottom:\"4px\"},ah[\"\"+dh]={width:\"8px\",height:\"8px\",borderRadius:\"50%\",display:\"inline-block\",marginRight:\"8px\"},ah[\"\"+ph]={display:\"inline-block\",float:\"right\",marginLeft:\"30px\"},ah[\"\"+vh]={position:\"absolute\",width:\"1px\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},ah[\"\"+yh]={position:\"absolute\",height:\"1px\",backgroundColor:\"rgba(0, 0, 0, 0.25)\"},ah);function bh(){return null!==sh&&sh.apply(this,arguments)||this}is(bh,sh=zc),bh.prototype.getDefaultCfg=function(){var t=sh.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"tooltip\",type:\"html\",x:0,y:0,items:[],customContent:null,containerTpl:'<div class=\"'+ch+'\"><div class=\"'+hh+'\"></div><ul class=\"'+lh+'\"></ul></div>',itemTpl:'<li class=\"'+fh+'\" data-index={index}>\\n          <span class=\"'+dh+'\" style=\"background:{color}\"></span>\\n          <span class=\"'+gh+'\">{name}</span>:\\n          <span class=\"'+ph+'\">{value}</span>\\n        </li>',xCrosshairTpl:'<div class=\"'+vh+'\"></div>',yCrosshairTpl:'<div class=\"'+yh+'\"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:ch,crosshairs:null,offset:10,position:\"right\",domStyles:null,defaultStyles:mh})},bh.prototype.render=function(){this.get(\"customContent\")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},bh.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(\"\"),this.clearItemDoms()},bh.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set(\"visible\",!0),Ac(t,{visibility:\"visible\"}),this.setCrossHairsVisible(!0))},bh.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set(\"visible\",!1),Ac(t,{visibility:\"hidden\"}),this.setCrossHairsVisible(!1))},bh.prototype.getLocation=function(){return{x:this.get(\"x\"),y:this.get(\"y\")}},bh.prototype.setLocation=function(t){this.set(\"x\",t.x),this.set(\"y\",t.y),this.resetPosition()},bh.prototype.setCrossHairsVisible=function(t){var e=t?\"\":\"none\",n=this.get(\"xCrosshairDom\"),r=this.get(\"yCrosshairDom\");n&&Ac(n,{display:e}),r&&Ac(r,{display:e})},bh.prototype.initContainer=function(){var t;sh.prototype.initContainer.call(this),this.get(\"customContent\")&&(this.get(\"container\")&&this.get(\"container\").remove(),t=this.getHtmlContentNode(),this.get(\"parent\").appendChild(t),this.set(\"container\",t),this.resetStyles(),this.applyStyles())},bh.prototype.updateInner=function(t){var e,n,r;this.get(\"customContent\")?this.renderCustomContent():(e=t,r=!(n=[\"title\",\"showTitle\"]),Object(ot.each)(n,function(t){if(Object(ot.hasKey)(e,t))return!(r=!0)}),r&&this.resetTitle(),Object(ot.hasKey)(t,\"items\")&&this.renderItems()),sh.prototype.updateInner.call(this,t)},bh.prototype.initDom=function(){this.cacheDoms()},bh.prototype.removeDom=function(){sh.prototype.removeDom.call(this),this.clearCrosshairs()},bh.prototype.resetPosition=function(){var t,e=this.get(\"x\"),n=this.get(\"y\"),r=this.get(\"offset\"),i=this.getOffset(),o=i.offsetX,a=i.offsetY,s=this.get(\"position\"),u=this.get(\"region\"),c=this.getContainer(),h=this.getBBox(),l=h.width,f=h.height;u&&(t=ms(u));var d,p,g,v,y,m,b,x,w,M,S,_=(m=s,b=t,S=function(t,e,n,r,i){var o=t,a=e;switch(m){case\"left\":o=t-r-n,a=e-i/2;break;case\"right\":o=t+n,a=e-i/2;break;case\"top\":o=t-r/2,a=e-i-n;break;case\"bottom\":o=t-r/2,a=e+n;break;default:o=t+n,a=e-i-n}return{x:o,y:a}}(d=e,p=n,g=r,v=l,y=f),b&&(w=S.x,M=S.y,x={left:w<b.x,right:w+v>b.x+b.width,top:M<b.y,bottom:M+y>b.y+b.height},\"auto\"===m?(x.right&&(S.x=Math.max(0,d-v-g)),x.top&&(S.y=Math.max(0,p-y-g))):\"top\"===m||\"bottom\"===m?(x.left&&(S.x=b.x),x.right&&(S.x=b.x+b.width-v),\"top\"===m&&x.top&&(S.y=p+g),\"bottom\"===m&&x.bottom&&(S.y=p-y-g)):(x.top&&(S.y=b.y),x.bottom&&(S.y=b.y+b.height-y),\"left\"===m&&x.left&&(S.x=d+g),\"right\"===m&&x.right&&(S.x=d-v-g))),S);Ac(c,{left:Ms(_.x+o),top:Ms(_.y+a)}),this.resetCrosshairs()},bh.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get(\"parent\"),n=this.get(\"container\");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set(\"container\",t),this.resetStyles(),this.applyStyles()},bh.prototype.getHtmlContentNode=function(){var t,e,n=this.get(\"customContent\");return n&&(t=n(this.get(\"title\"),this.get(\"items\")),e=Object(ot.isElement)(t)?t:Ic(t)),e},bh.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(hh)[0],n=t.getElementsByClassName(lh)[0];this.set(\"titleDom\",e),this.set(\"listDom\",n)},bh.prototype.resetTitle=function(){var t=this.get(\"title\");this.get(\"showTitle\")&&t?this.setTitle(t):this.setTitle(\"\")},bh.prototype.setTitle=function(t){var e=this.get(\"titleDom\");e&&(e.innerText=t)},bh.prototype.resetCrosshairs=function(){var t,e,n,r=this.get(\"crosshairsRegion\"),i=this.get(\"crosshairs\");r&&i?(t=ms(r),e=this.get(\"xCrosshairDom\"),n=this.get(\"yCrosshairDom\"),\"x\"===i?(this.resetCrosshair(\"x\",t),n&&(n.remove(),this.set(\"yCrosshairDom\",null))):\"y\"===i?(this.resetCrosshair(\"y\",t),e&&(e.remove(),this.set(\"xCrosshairDom\",null))):(this.resetCrosshair(\"x\",t),this.resetCrosshair(\"y\",t)),this.setCrossHairsVisible(this.get(\"visible\"))):this.clearCrosshairs()},bh.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);Ac(n,\"x\"===t?{left:Ms(r),top:Ms(e.y),height:Ms(e.height)}:{top:Ms(r),left:Ms(e.x),width:Ms(e.width)})},bh.prototype.checkCrosshair=function(t){var e=t+\"CrosshairDom\",n=t+\"CrosshairTpl\",r=\"CROSSHAIR_\"+t.toUpperCase(),i=h[r],o=this.get(e),a=this.get(\"parent\");return o||(o=Ic(this.get(n)),this.applyStyle(i,o),a.appendChild(o),this.set(e,o)),o},bh.prototype.renderItems=function(){this.clearItemDoms();var t=this.get(\"items\"),i=this.get(\"itemTpl\"),o=this.get(\"listDom\");o&&(Object(ot.each)(t,function(t){var e=uh(t.color),n=os(os({},t),{color:e}),r=Ic(Object(ot.substitute)(i,n));o.appendChild(r)}),this.applyChildrenStyles(o,this.get(\"domStyles\")))},bh.prototype.clearItemDoms=function(){this.get(\"listDom\")&&ys(this.get(\"listDom\"))},bh.prototype.clearCrosshairs=function(){var t=this.get(\"xCrosshairDom\"),e=this.get(\"yCrosshairDom\");t&&t.remove(),e&&e.remove(),this.set(\"xCrosshairDom\",null),this.set(\"yCrosshairDom\",null)};var xh={opacity:0},wh={stroke:\"#C5C5C5\",strokeOpacity:.85},Mh={fill:\"#CACED4\",opacity:.85},Sh={};function _h(t,e){Sh[t]=e}var Oh,Ch=(Ah.prototype.translate=function(t){return t},Ah.prototype.change=function(t){Object(ot.assign)(this.__cfg__,t),this.init()},Ah.prototype.clone=function(){return this.constructor(this.__cfg__)},Ah.prototype.getTicks=function(){var n=this;return Object(ot.map)(this.ticks,function(t,e){return Object(ot.isObject)(t)?t:{text:n.getText(t,e),tickValue:t,value:n.scale(t)}})},Ah.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return Object(ot.isNil)(r)||!Object(ot.isFunction)(r.toString)?\"\":r.toString()},Ah.prototype.getConfig=function(t){return this.__cfg__[t]},Ah.prototype.init=function(){Object(ot.assign)(this,this.__cfg__),this.setDomain(),Object(ot.isEmpty)(this.getConfig(\"ticks\"))&&(this.ticks=this.calculateTicks())},Ah.prototype.initCfg=function(){},Ah.prototype.setDomain=function(){},Ah.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(ot.isString)(t)){var n=Sh[t];if(!n)throw new Error(\"There is no method to to calculate ticks!\");e=n(this)}else Object(ot.isFunction)(t)&&(e=t(this));return e},Ah.prototype.rangeMin=function(){return Object(ot.head)(this.range)},Ah.prototype.rangeMax=function(){return Object(ot.last)(this.range)},Ah.prototype.calcPercent=function(t,e,n){return Object(ot.isNumber)(t)?(t-e)/(n-e):NaN},Ah.prototype.calcValue=function(t,e,n){return e+t*(n-e)},Ah),kh=(Oh=Ch,Object(L.__extends)(Ih,Oh),Ih.prototype.translate=function(t){var e=Object(ot.indexOf)(this.values,t);return-1===e?Object(ot.isNumber)(t)?t:NaN:e},Ih.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},Ih.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},Ih.prototype.getText=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return Object(ot.isNumber)(t)&&!this.values.includes(t)&&(r=this.values[r]),Oh.prototype.getText.apply(this,Object(L.__spreadArrays)([r],e))},Ih.prototype.initCfg=function(){this.tickMethod=\"cat\"},Ih.prototype.setDomain=function(){var t;Object(ot.isNil)(this.getConfig(\"min\"))&&(this.min=0),Object(ot.isNil)(this.getConfig(\"max\"))&&(t=this.values.length,this.max=1<t?t-1:t)},Ih),Eh=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g,jh=\"[^\\\\s]+\",Ph=/\\[([^]*?)\\]/gm;function Ih(){var t=null!==Oh&&Oh.apply(this,arguments)||this;return t.type=\"cat\",t.isCategory=!0,t}function Ah(t){this.type=\"base\",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}function Th(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function Nh(r){return function(t,e){var n=e[r].map(function(t){return t.toLowerCase()}).indexOf(t.toLowerCase());return-1<n?n:null}}function Bh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o,a=i[r];for(o in a)t[o]=a[o]}return t}function Dh(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t=\"0\"+t;return t}function Lh(t){return t-1}var Rh=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],zh=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],Yh=Th(zh,3),Fh={dayNamesShort:Th(Rh,3),dayNames:Rh,monthNamesShort:Yh,monthNames:zh,amPm:[\"am\",\"pm\"],DoFn:function(t){return t+[\"th\",\"st\",\"nd\",\"rd\"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}},Xh=Bh({},Fh),Gh=function(t){return Xh=Bh(Xh,t)},Vh=function(t){return t.replace(/[|\\\\{()[^$+*?.-]/g,\"\\\\$&\")},qh={D:function(t){return String(t.getDate())},DD:function(t){return Dh(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Dh(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Dh(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Dh(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Dh(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Dh(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Dh(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Dh(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Dh(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Dh(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Dh(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?\"-\":\"+\")+Dh(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(0<e?\"-\":\"+\")+Dh(Math.floor(Math.abs(e)/60),2)+\":\"+Dh(Math.abs(e)%60,2)}},Hh=[null,\"[1-9]\\\\d?\"],Wh=[null,jh],Uh=[\"isPm\",jh,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Zh=[\"timezoneOffset\",\"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",function(t){var e=(t+\"\").match(/([+-]|\\d\\d)/gi);if(e){var n=60*e[1]+parseInt(e[2],10);return\"+\"===e[0]?n:-n}return 0}],$h={D:[\"day\",\"[1-9]\\\\d?\"],DD:[\"day\",\"\\\\d\\\\d\"],Do:[\"day\",\"[1-9]\\\\d?\"+jh,function(t){return parseInt(t,10)}],M:[\"month\",\"[1-9]\\\\d?\",Lh],MM:[\"month\",\"\\\\d\\\\d\",Lh],YY:[\"year\",\"\\\\d\\\\d\",function(t){var e=+(\"\"+(new Date).getFullYear()).substr(0,2);return+(\"\"+(68<+t?e-1:e)+t)}],h:[\"hour\",\"[1-9]\\\\d?\",void 0,\"isPm\"],hh:[\"hour\",\"\\\\d\\\\d\",void 0,\"isPm\"],H:[\"hour\",\"[1-9]\\\\d?\"],HH:[\"hour\",\"\\\\d\\\\d\"],m:[\"minute\",\"[1-9]\\\\d?\"],mm:[\"minute\",\"\\\\d\\\\d\"],s:[\"second\",\"[1-9]\\\\d?\"],ss:[\"second\",\"\\\\d\\\\d\"],YYYY:[\"year\",\"\\\\d{4}\"],S:[\"millisecond\",\"\\\\d\",function(t){return 100*t}],SS:[\"millisecond\",\"\\\\d\\\\d\",function(t){return 10*t}],SSS:[\"millisecond\",\"\\\\d{3}\"],d:Hh,dd:Hh,ddd:Wh,dddd:Wh,MMM:[\"month\",jh,Nh(\"monthNamesShort\")],MMMM:[\"month\",jh,Nh(\"monthNames\")],a:Uh,A:Uh,ZZ:Zh,Z:Zh},Kh={default:\"ddd MMM DD YYYY HH:mm:ss\",shortDate:\"M/D/YY\",mediumDate:\"MMM D, YYYY\",longDate:\"MMMM D, YYYY\",fullDate:\"dddd, MMMM D, YYYY\",isoDate:\"YYYY-MM-DD\",isoDateTime:\"YYYY-MM-DDTHH:mm:ssZ\",shortTime:\"HH:mm\",mediumTime:\"HH:mm:ss\",longTime:\"HH:mm:ss.SSS\"},Qh=function(t){return Bh(Kh,t)},Jh=function(e,t,n){if(void 0===t&&(t=Kh.default),void 0===n&&(n={}),\"number\"==typeof e&&(e=new Date(e)),\"[object Date]\"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error(\"Invalid Date pass to format\");var r=[];t=(t=Kh[t]||t).replace(Ph,function(t,e){return r.push(e),\"@@@\"});var i=Bh(Bh({},Xh),n);return(t=t.replace(Eh,function(t){return qh[t](e,i)})).replace(/@@@/g,function(){return r.shift()})};function tl(t,e,n){if(void 0===n&&(n={}),\"string\"!=typeof e)throw new Error(\"Invalid format in fecha parse\");if(e=Kh[e]||e,1e3<t.length)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],i=[],a=e.replace(Ph,function(t,e){return i.push(Vh(e)),\"@@@\"}),s={},u={},a=Vh(a).replace(Eh,function(t){var e=$h[t],n=e[0],r=e[1],i=e[3];if(s[n])throw new Error(\"Invalid format. \"+n+\" specified twice in format\");return s[n]=!0,i&&(u[i]=!0),o.push(e),\"(\"+r+\")\"});Object.keys(u).forEach(function(t){if(!s[t])throw new Error(\"Invalid format. \"+t+\" is required in specified format\")}),a=a.replace(/@@@/g,function(){return i.shift()});var c=t.match(new RegExp(a,\"i\"));if(!c)return null;for(var h=Bh(Bh({},Xh),n),l=1;l<c.length;l++){var f=o[l-1],d=f[0],p=f[2],g=p?p(c[l],h):+c[l];if(null==g)return null;r[d]=g}1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0);for(var v=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),y=[[\"month\",\"getMonth\"],[\"day\",\"getDate\"],[\"hour\",\"getHours\"],[\"minute\",\"getMinutes\"],[\"second\",\"getSeconds\"]],m=(l=0,y.length);l<m;l++)if(s[y[l][0]]&&r[y[l][0]]!==v[y[l][1]]())return null;return null==r.timezoneOffset?v:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var el={format:Jh,parse:tl,defaultI18n:Fh,setGlobalDateI18n:Gh,setGlobalDateMasks:Qh};function nl(t,e){return(f.format||el.format)(t,e)}function rl(t){return Object(ot.isString)(t)&&(t=0<t.indexOf(\"T\")?new Date(t).getTime():new Date(t.replace(/-/gi,\"/\")).getTime()),Object(ot.isDate)(t)&&(t=t.getTime()),t}var il=864e5,ol=31*il,al=[[\"HH:mm:ss\",1e3],[\"HH:mm:ss\",1e4],[\"HH:mm:ss\",3e4],[\"HH:mm\",6e4],[\"HH:mm\",6e5],[\"HH:mm\",18e5],[\"HH\",36e5],[\"HH\",216e5],[\"HH\",432e5],[\"YYYY-MM-DD\",il],[\"YYYY-MM-DD\",4*il],[\"YYYY-WW\",7*il],[\"YYYY-MM\",ol],[\"YYYY-MM\",4*ol],[\"YYYY-MM\",6*ol],[\"YYYY\",32832e6]];var sl,ul,cl,hl=(cl=kh,Object(L.__extends)(gl,cl),gl.prototype.translate=function(t){t=rl(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(ot.isNumber)(t)&&t<this.values.length?t:NaN),e},gl.prototype.getText=function(t,e){var n=this.translate(t);if(-1<n){var r=this.values[n],i=this.formatter;return i?i(r,e):nl(r,this.mask)}return t},gl.prototype.initCfg=function(){this.tickMethod=\"time-cat\",this.mask=\"YYYY-MM-DD\",this.tickCount=7},gl.prototype.setDomain=function(){var n=this.values;Object(ot.each)(n,function(t,e){n[e]=rl(t)}),n.sort(function(t,e){return t-e}),cl.prototype.setDomain.call(this)},gl),ll=(ul=Ch,Object(L.__extends)(pl,ul),pl.prototype.scale=function(t){if(Object(ot.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},pl.prototype.init=function(){ul.prototype.init.call(this);var t=this.ticks,e=Object(ot.head)(t),n=Object(ot.last)(t);e<this.min&&(this.min=e),n>this.max&&(this.max=n),Object(ot.isNil)(this.minLimit)||(this.min=e),Object(ot.isNil)(this.maxLimit)||(this.max=n)},pl.prototype.setDomain=function(){var t=Object(ot.getRange)(this.values),e=t.min,n=t.max;Object(ot.isNil)(this.min)&&(this.min=e),Object(ot.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},pl.prototype.calculateTicks=function(){var e=this,t=ul.prototype.calculateTicks.call(this);return this.nice||(t=Object(ot.filter)(t,function(t){return t>=e.min&&t<=e.max})),t},pl.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},pl.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},pl),fl=(sl=ll,Object(L.__extends)(dl,sl),dl.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},dl.prototype.initCfg=function(){this.tickMethod=\"wilkinson-extended\",this.nice=!1},dl);function dl(){var t=null!==sl&&sl.apply(this,arguments)||this;return t.type=\"linear\",t.isLinear=!0,t}function pl(){var t=null!==ul&&ul.apply(this,arguments)||this;return t.isContinuous=!0,t}function gl(){var t=null!==cl&&cl.apply(this,arguments)||this;return t.type=\"timeCat\",t}function vl(t,e){var n=Math.E;return 0<=e?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function yl(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function ml(t,e,n){Object(ot.isNil)(n)&&(n=Math.max.apply(null,t));var r=n;return Object(ot.each)(t,function(t){0<t&&t<r&&(r=t)}),r===n&&(r=n/e),1<r&&(r=1),r}var bl,xl,wl,Ml,Sl,_l=(Sl=ll,Object(L.__extends)(Nl,Sl),Nl.prototype.invert=function(t){var e,n=this.base,r=yl(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(r-(e=yl(n,a/n)))*o;if(t<s)return t/s*a}else e=yl(n,this.min);var u=(t-i)/o*(r-e)+e;return Math.pow(n,u)},Nl.prototype.initCfg=function(){this.tickMethod=\"log\",this.base=10,this.tickCount=6,this.nice=!0},Nl.prototype.setDomain=function(){Sl.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error(\"When you use log scale, the minimum value must be greater than zero!\");0===t&&(this.positiveMin=ml(this.values,this.base,this.max))},Nl.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=i/r),t<i?t/i/(yl(r,e)-yl(r,n)):(yl(r,t)-yl(r,n))/(yl(r,e)-yl(r,n))},Nl),Ol=(Ml=ll,Object(L.__extends)(Tl,Ml),Tl.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=vl(n,this.max),i=vl(n,this.min),o=e*(r-i)+i,a=0<=o?1:-1;return Math.pow(o,n)*a},Tl.prototype.initCfg=function(){this.tickMethod=\"pow\",this.exponent=2,this.tickCount=5,this.nice=!0},Tl.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(vl(r,t)-vl(r,n))/(vl(r,e)-vl(r,n))},Tl),Cl=(wl=fl,Object(L.__extends)(Al,wl),Al.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):nl(n,this.mask)},Al.prototype.scale=function(t){var e=t;return(Object(ot.isString)(e)||Object(ot.isDate)(e))&&(e=this.translate(e)),wl.prototype.scale.call(this,e)},Al.prototype.translate=rl,Al.prototype.initCfg=function(){this.tickMethod=\"time-pretty\",this.mask=\"YYYY-MM-DD\",this.tickCount=7,this.nice=!1},Al.prototype.setDomain=function(){var n,r,i,o,t=this.values,e=this.getConfig(\"min\"),a=this.getConfig(\"max\");Object(ot.isNil)(e)&&Object(ot.isNumber)(e)||(this.min=this.translate(this.min)),Object(ot.isNil)(a)&&Object(ot.isNumber)(a)||(this.max=this.translate(this.max)),t&&t.length&&(n=[],i=r=1/0,o=0,Object(ot.each)(t,function(t){var e=rl(t);if(isNaN(e))throw new TypeError(\"Invalid Time: \"+t+\" in time scale!\");e<r?(i=r,r=e):e<i&&(i=e),o<e&&(o=e),n.push(e)}),1<t.length&&(this.minTickInterval=i-r),Object(ot.isNil)(e)&&(this.min=r),Object(ot.isNil)(a)&&(this.max=o))},Al),kl=(xl=ll,Object(L.__extends)(Il,xl),Il.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(n-1<=i)return Object(ot.last)(e);if(i<0)return Object(ot.head)(e);var o=e[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(e[i+1]-o)},Il.prototype.initCfg=function(){this.tickMethod=\"r-pretty\",this.tickCount=5,this.nice=!0},Il.prototype.calculateTicks=function(){var t=xl.prototype.calculateTicks.call(this);return this.nice||(Object(ot.last)(t)!==this.max&&t.push(this.max),Object(ot.head)(t)!==this.min&&t.unshift(this.min)),t},Il.prototype.getScalePercent=function(n){var t=this.ticks;if(n<Object(ot.head)(t))return 0;if(n>Object(ot.last)(t))return 1;var r=0;return Object(ot.each)(t,function(t,e){return t<=n&&void(r=e)}),r/(t.length-1)},Il),El=(bl=kl,Object(L.__extends)(Pl,bl),Pl.prototype.initCfg=function(){this.tickMethod=\"quantile\",this.tickCount=5,this.nice=!0},Pl),jl={};function Pl(){var t=null!==bl&&bl.apply(this,arguments)||this;return t.type=\"quantile\",t}function Il(){var t=null!==xl&&xl.apply(this,arguments)||this;return t.type=\"quantize\",t}function Al(){var t=null!==wl&&wl.apply(this,arguments)||this;return t.type=\"time\",t}function Tl(){var t=null!==Ml&&Ml.apply(this,arguments)||this;return t.type=\"pow\",t}function Nl(){var t=null!==Sl&&Sl.apply(this,arguments)||this;return t.type=\"log\",t}function Bl(t,e){if(jl[t])throw new Error(\"type '\"+t+\"' existed.\");jl[t]=e}var Dl,Ll=(Dl=Ch,Object(L.__extends)(Yl,Dl),Yl.prototype.calculateTicks=function(){return this.values},Yl.prototype.scale=function(t){return this.values[0]!==t&&Object(ot.isNumber)(t)?t:this.range[0]},Yl.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},Yl),Rl=[1,5,2,2.5,4,3],zl=100*Number.EPSILON;function Yl(){var t=null!==Dl&&Dl.apply(this,arguments)||this;return t.type=\"identity\",t.isIdentity=!0,t}function Fl(t,e,n,r,i,o){if(void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=Rl),void 0===o&&(o=[.25,.2,.5,.05]),t===e||1===n)return{min:t,max:e,ticks:[t]};for(var a,s,u,c,h,l,f,d,p,g,v,y,m,b,x,w,M,S,_,O,C,k,E,j,P,I,A,T={score:-2,lmin:0,lmax:0,lstep:0},N=1;N<1/0;){for(var B=0,D=i;B<D.length;B++){var L=D[B],R=(j=L,P=i,I=N,A=void 0,A=Object(ot.size)(P),1-Object(ot.indexOf)(P,j)/(A-1)-I+1);if(Number.isNaN(R))throw new Error(\"NaN\");if(o[0]*R+o[1]+o[2]+o[3]<T.score){N=1/0;break}for(var z=2;z<1/0;){var Y=(E=n)<=(k=z)?2-(k-1)/(E-1):1;if(o[0]*R+o[1]+o[2]*Y+o[3]<T.score)break;for(var F=(e-t)/(z+1)/N/L,X=Math.ceil(Math.log10(F));X<1/0;){var G=N*L*Math.pow(10,X),V=function(t,e,n){var r=e-t;if(r<n){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}(t,e,G*(z-1));if(o[0]*R+o[1]*V+o[2]*Y+o[3]<T.score)break;var q=Math.floor(e/G)*N-(z-1)*N,H=Math.ceil(t/G)*N;if(H<q)X+=1;else{for(var W=q;W<=H;W+=1){var U=W*(G/N),Z=U+G*(z-1),$=G,K=(y=L,m=i,b=N,x=U,w=Z,M=$,C=O=_=S=void 0,S=Object(ot.size)(m),_=Object(ot.indexOf)(m,y),O=0,((C=(x%M+M)%M)<zl||M-C<zl)&&x<=0&&0<=w&&(O=1),1-_/(S-1)-b+O),Q=(p=U,g=Z,v=void 0,v=(d=e)-(f=t),1-.5*(Math.pow(d-g,2)+Math.pow(f-p,2))/Math.pow(.1*v,2)),J=(a=t,s=e,l=h=void 0,h=(z-1)/((c=Z)-(u=U)),l=(n-1)/(Math.max(c,s)-Math.min(a,u)),2-Math.max(h/l,l/h)),tt=o[0]*K+o[1]*Q+o[2]*J+ +o[3];tt>T.score&&(!r||U<=t&&e<=Z)&&(T.lmin=U,T.lmax=Z,T.lstep=$,T.score=tt)}X+=1}}z+=1}}N+=1}for(var et=Number.isInteger(T.lstep)?0:Math.ceil(Math.abs(Math.log10(T.lstep))),nt=[],rt=T.lmin;rt<=T.lmax;rt+=T.lstep)nt.push(rt);var it=et?Object(ot.map)(nt,function(t){return Number.parseFloat(t.toFixed(et))}):nt;return{min:Math.min(t,Object(ot.head)(it)),max:Math.max(e,Object(ot.last)(it)),ticks:it}}function Xl(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=e;if(Object(ot.isNumber)(n))return Object(ot.filter)(i,function(t,e){return e%n==0});var o=t.min,a=t.max;if(Object(ot.isNil)(o)&&(o=0),Object(ot.isNil)(a)&&(a=e.length-1),Object(ot.isNumber)(r)&&r<a-o){var s=Fl(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ot.filter)(s,function(t){return o<=t&&t<=a}).map(function(t){return e[t]})}return e.slice(o,a+1)}var Gl=Math.sqrt(50),Vl=Math.sqrt(10),ql=Math.sqrt(2),Hl=(Wl.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},Wl.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(e=[u,s])[0],u=e[1],o=(n=[a,o])[0],a=n[1]),0<(r=Ul(s,u,t))?r=Ul(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,t):r<0&&(r=Ul(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,t)),0<r?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},Wl.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Ul(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],t||5)},Wl);function Wl(){this._domain=[0,1]}function Ul(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(Gl<=o?10:Vl<=o?5:ql<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(Gl<=o?10:Vl<=o?5:ql<=o?2:1)}function Zl(t,e,n){return(\"ceil\"===n?Math.ceil(t/e):\"floor\"===n?Math.floor(t/e):Math.round(t/e))*e}function $l(t,e,n){for(var r=Zl(t,n,\"floor\"),i=Zl(e,n,\"ceil\"),r=Object(ot.fixedBase)(r,n),i=Object(ot.fixedBase)(i,n),o=[],a=r;a<=i;a+=n){var s=Object(ot.fixedBase)(a,n);o.push(s)}return{min:r,max:i,ticks:o}}function Kl(t,e,n){var r,i=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,u=t.tickCount,c=void 0===u?5:u,h=Object(ot.isNil)(i)?Object(ot.isNil)(e)?a:e:i,l=Object(ot.isNil)(o)?Object(ot.isNil)(n)?s:n:o;if(l<h&&(l=(r=[h,l])[0],h=r[1]),c<=2)return[h,l];for(var f=(l-h)/(c-1),d=[],p=0;p<c;p++)d.push(h+f*p);return d}function Ql(t,e,n){void 0===n&&(n=5);var r={max:0,min:0,ticks:[]},i=(e-t)/n,o=Math.pow(10,Math.floor(Math.log10(i))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-i<1.5*(i-s)&&5*o-i<2.75*(i-(s=2*o))&&10*o-i<1.5*(i-(s=5*o))&&(s=10*o);var u=Math.ceil(e/s),c=Math.floor(t/s);r.max=Math.max(u*s,e),r.min=Math.min(c*s,t);for(var h=Number.parseFloat((c*s).toFixed(a));h<e;)r.ticks.push(h),h+=s,a&&(h=Number.parseFloat(h.toFixed(a)));return r.ticks.push(h),r}function Jl(t){return new Date(t).getFullYear()}function tf(t){return new Date(t).getMonth()}function ef(t){return e=t,Object(ot.map)(e,function(t,e){return[0===e?\"M\":\"L\",t[0],t[1]]});var e}_h(\"cat\",Xl),_h(\"time-cat\",function(t){var e=Xl(t),n=Object(ot.last)(t.values);return n!==Object(ot.last)(e)&&e.push(n),e}),_h(\"wilkinson-extended\",function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,u=Fl(e,n,r,i).ticks;return Object(ot.isNil)(a)&&Object(ot.isNil)(s)?o?$l(e,n,o).ticks:u:Kl(t,Object(ot.head)(u),Object(ot.last)(u))}),_h(\"r-pretty\",function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=Ql(e,n,r).ticks;return Object(ot.isNil)(o)&&Object(ot.isNil)(a)?i?$l(e,n,i).ticks:s:Kl(t,Object(ot.head)(s),Object(ot.last)(s))}),_h(\"time\",function(t){var e,n,r,i=t.min,o=t.max,a=t.minTickInterval,s=t.tickInterval,u=t.tickCount;s?u=Math.ceil((o-i)/s):(1<(e=(o-i)/(n=function(t,e,n,r){for(var i=Object(ot.isNil)(n)?0:n,o=Object(ot.isNil)(r)?t.length:r;i<o;){var a=i+o>>>1;t[a][1]>e?o=a:i=1+a}return i}(al,(o-i)/u)-1,r=al[n],n<0?r=al[0]:al.length<=n&&(r=Object(ot.last)(al)),s=r[1])/u)&&(s*=Math.ceil(e)),a&&s<a&&(s=a));for(var c=[],h=i;h<o+s;h+=s)c.push(h);return c}),_h(\"time-pretty\",function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount,a=[];i||(i=(n-e)/o,r&&i<r&&(i=r));var s,u,c,h,l,f=Jl(e);if(31536e6<i)for(var d=Jl(n),p=Math.ceil(i/31536e6),g=f;g<=d+p;g+=p)a.push(new Date(g,0,1).getTime());else if(ol<i)for(var v=Math.ceil(i/ol),y=tf(e),m=(u=n,c=Jl(s=e),h=Jl(u),l=tf(s),12*(h-c)+(tf(u)-l)%12),g=0;g<=m+v;g+=v)a.push(new Date(f,g+y,1).getTime());else if(il<i){var b=(_=new Date(e)).getFullYear(),x=_.getMonth(),w=_.getDate(),M=Math.ceil(i/il),S=Math.ceil((n-e)/il);for(g=0;g<S+M;g+=M)a.push(new Date(b,x,w+g).getTime())}else if(36e5<i){b=(_=new Date(e)).getFullYear(),x=_.getMonth(),M=_.getDate();var _,O=_.getHours(),C=Math.ceil(i/36e5),k=Math.ceil((n-e)/36e5);for(g=0;g<=k+C;g+=C)a.push(new Date(b,x,M,O+g).getTime())}else if(6e4<i){var E=Math.ceil((n-e)/6e4),j=Math.ceil(i/6e4);for(g=0;g<=E+j;g+=j)a.push(e+6e4*g)}else{var P=i;P<1e3&&(P=1e3);var I=1e3*Math.floor(e/1e3),A=Math.ceil((n-e)/1e3),T=Math.ceil(P/1e3);for(g=0;g<A+T;g+=T)a.push(I+1e3*g)}return a}),_h(\"log\",function(t){for(var e,n,r=t.base,i=t.tickCount,o=t.min,a=t.max,s=t.values,u=yl(r,a),c=u-(n=0<o?Math.floor(yl(r,o)):(e=ml(s,r,a),Math.floor(yl(r,e)))),h=Math.ceil(c/i),l=[],f=n;f<u+h;f+=h)l.push(Math.pow(r,f));return o<=0&&l.unshift(0),l}),_h(\"pow\",function(t){var n=t.exponent,e=t.tickCount,r=Math.ceil(vl(n,t.max));return Ql(Math.floor(vl(n,t.min)),r,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,n)*e})}),_h(\"quantile\",function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r,i,o,a=n.slice().sort(function(t,e){return t-e}),s=[],u=0;u<e;u++){var c=u/(e-1);s.push((i=c,o=void 0,o=(r=a).length*i,1===i?r[r.length-1]:0===i?r[0]:o%1!=0?r[Math.ceil(o)-1]:r.length%2==0?(r[o-1]+r[o])/2:r[o]))}return s}),_h(\"d3-linear\",function(t){var e,n,r,i,o,a=t.min,s=t.max,u=t.tickInterval,c=t.minLimit,h=t.maxLimit,l=(e=t.min,n=t.max,r=t.nice,i=t.tickCount,(o=new Hl).domain([e,n]),r&&o.nice(i),o.ticks(i));return Object(ot.isNil)(c)&&Object(ot.isNil)(h)?u?$l(a,s,u).ticks:l:Kl(t,Object(ot.head)(l),Object(ot.last)(l))}),Bl(\"cat\",kh),Bl(\"category\",kh),Bl(\"identity\",Ll),Bl(\"linear\",fl),Bl(\"log\",_l),Bl(\"pow\",Ol),Bl(\"time\",Cl),Bl(\"timeCat\",hl),Bl(\"quantize\",kl),Bl(\"quantile\",El);var nf,rf,of,af,sf=(is(mf,of=xu),mf.prototype.getDefaultCfg=function(){var t=of.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"trend\",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:xh,lineStyle:wh,areaStyle:Mh})},mf.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.data,o=e.smooth,a=e.isArea,s=e.backgroundStyle,u=e.lineStyle,c=e.areaStyle;this.addShape(t,{id:this.getElementId(\"background\"),type:\"rect\",attrs:os({x:0,y:0,width:n,height:r},s)});var h,l,f,d,p=function(t,n,r,e){void 0===e&&(e=!0);var i=new fl({values:t}),o=new kh({values:Object(ot.map)(t,function(t,e){return e})}),a=Object(ot.map)(t,function(t,e){return[o.scale(e)*n,r-i.scale(t)*r]});return(e?function(t){if(t.length<=2)return ef(t);var e=[];Object(ot.each)(t,function(t){Object(ot.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])});var n=ne(e,!1),r=Object(ot.head)(t),i=r[0],o=r[1];return n.unshift([\"M\",i,o]),n}:ef)(a)}(i,n,r,o);this.addShape(t,{id:this.getElementId(\"line\"),type:\"path\",attrs:os({path:p},u)}),a&&(l=n,f=r,(d=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(p)).push([\"L\",l,0]),d.push([\"L\",0,f]),d.push([\"Z\"]),h=d,this.addShape(t,{id:this.getElementId(\"area\"),type:\"path\",attrs:os({path:h},c)}))},mf.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get(\"group\"),{x:e,y:n})},mf),uf={fill:\"#416180\",opacity:.05},cf={fill:\"#5B8FF9\",opacity:.15,cursor:\"move\"},hf={width:10,height:24},lf={textBaseline:\"middle\",fill:\"#000\",opacity:.45},ff={fill:\"#F7F7F7\",stroke:\"#BFBFBF\",radius:2,opacity:1,cursor:\"ew-resize\",highLightFill:\"#FFF\"},df=(is(yf,rf=xu),yf.prototype.getDefaultCfg=function(){var t=rf.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"handler\",x:0,y:0,width:10,height:24,style:ff})},yf.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.style,o=i.fill,a=i.stroke,s=i.radius,u=i.opacity,c=i.cursor;this.addShape(t,{type:\"rect\",id:this.getElementId(\"background\"),attrs:{x:0,y:0,width:n,height:r,fill:o,stroke:a,radius:s,opacity:u,cursor:c}});var h=1/3*n,l=2/3*n,f=.25*r,d=.75*r;this.addShape(t,{id:this.getElementId(\"line-left\"),type:\"line\",attrs:{x1:h,y1:f,x2:h,y2:d,stroke:a,cursor:c}}),this.addShape(t,{id:this.getElementId(\"line-right\"),type:\"line\",attrs:{x1:l,y1:f,x2:l,y2:d,stroke:a,cursor:c}})},yf.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},yf.prototype.initEvent=function(){this.bindEvents()},yf.prototype.bindEvents=function(){var e=this;this.get(\"group\").on(\"mouseenter\",function(){var t=e.get(\"style\").highLightFill;e.getElementByLocalId(\"background\").attr(\"fill\",t),e.draw()}),this.get(\"group\").on(\"mouseleave\",function(){var t=e.get(\"style\").fill;e.getElementByLocalId(\"background\").attr(\"fill\",t),e.draw()})},yf.prototype.draw=function(){var t=this.get(\"container\").get(\"canvas\");t&&t.draw()},yf),pf=(is(vf,nf=xu),vf.prototype.setRange=function(t,e){this.set(\"minLimit\",t),this.set(\"maxLimit\",e);var n=this.get(\"start\"),r=this.get(\"end\"),i=Object(ot.clamp)(n,t,e),o=Object(ot.clamp)(r,t,e);this.get(\"isInit\")||n===i&&r===o||this.setValue([i,o])},vf.prototype.getRange=function(){return{min:this.get(\"minLimit\")||0,max:this.get(\"maxLimit\")||1}},vf.prototype.setValue=function(t){var e,n=this.getRange();Object(ot.isArray)(t)&&2===t.length&&(e=[this.get(\"start\"),this.get(\"end\")],this.update({start:Object(ot.clamp)(t[0],n.min,n.max),end:Object(ot.clamp)(t[1],n.min,n.max)}),this.get(\"updateAutoRender\")||this.render(),this.delegateEmit(\"valuechanged\",{originValue:e,value:t}))},vf.prototype.getValue=function(){return[this.get(\"start\"),this.get(\"end\")]},vf.prototype.getDefaultCfg=function(){var t=nf.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"slider\",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:uf,foregroundStyle:cf,handlerStyle:hf,textStyle:lf}})},vf.prototype.update=function(t){var e=t.start,n=t.end,r=os({},t);Object(ot.isNil)(e)||(r.start=Object(ot.clamp)(e,0,1)),Object(ot.isNil)(n)||(r.end=Object(ot.clamp)(n,0,1)),nf.prototype.update.call(this,r),this.minHandler=this.getChildComponentById(this.getElementId(\"minHandler\")),this.maxHandler=this.getChildComponentById(this.getElementId(\"maxHandler\"))},vf.prototype.init=function(){this.set(\"start\",Object(ot.clamp)(this.get(\"start\"),0,1)),this.set(\"end\",Object(ot.clamp)(this.get(\"end\"),0,1)),nf.prototype.init.call(this)},vf.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),r=e.height,i=e.trendCfg,o=void 0===i?{}:i,a=e.minText,s=e.maxText,u=e.backgroundStyle,c=void 0===u?{}:u,h=e.foregroundStyle,l=void 0===h?{}:h,f=e.textStyle,d=void 0===f?{}:f,p=e.handlerStyle,g=void 0===p?{}:p;Object(ot.size)(Object(ot.get)(o,\"data\"))&&this.addComponent(t,os({component:sf,id:this.getElementId(\"trend\"),x:0,y:0,width:n,height:r},o)),this.addShape(t,{id:this.getElementId(\"background\"),type:\"rect\",attrs:os({x:0,y:0,width:n,height:r},c)});var v=this.addShape(t,{id:this.getElementId(\"minText\"),type:\"text\",attrs:os({y:r/2,textAlign:\"right\",text:a,silent:!1},d)}),y=this.addShape(t,{id:this.getElementId(\"maxText\"),type:\"text\",attrs:os({y:r/2,textAlign:\"left\",text:s,silent:!1},d)}),m=this.addShape(t,{id:this.getElementId(\"foreground\"),name:\"foreground\",type:\"rect\",attrs:os({y:0,height:r},l)}),b=Object(ot.get)(g,\"height\",24);this.minHandler=this.addComponent(t,os({component:df,id:this.getElementId(\"minHandler\"),name:\"handler-min\",x:0,y:(r-b)/2,width:n,height:b,cursor:\"ew-resize\"},g)),this.maxHandler=this.addComponent(t,os({component:df,id:this.getElementId(\"maxHandler\"),name:\"handler-max\",x:0,y:(r-b)/2,width:n,height:b,cursor:\"ew-resize\"},g)),this.updateUI(m,v,y)},vf.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},vf.prototype.initEvent=function(){this.bindEvents()},vf.prototype.updateUI=function(t,n,r){var e=this.cfg,i=e.start,o=e.end,a=e.width,s=e.minText,u=e.maxText,c=e.handlerStyle,h=i*a,l=o*a;t.attr(\"x\",h),t.attr(\"width\",l-h);var f=Object(ot.get)(c,\"width\",10);n.attr(\"text\",s),r.attr(\"text\",u);var d=this._dodgeText([h,l],n,r),p=d[0],g=d[1];this.minHandler&&(this.minHandler.update({x:h-f/2}),this.get(\"updateAutoRender\")||this.minHandler.render()),Object(ot.each)(p,function(t,e){return n.attr(e,t)}),this.maxHandler&&(this.maxHandler.update({x:l-f/2}),this.get(\"updateAutoRender\")||this.maxHandler.render()),Object(ot.each)(g,function(t,e){return r.attr(e,t)})},vf.prototype.bindEvents=function(){var t=this.get(\"group\");t.on(\"handler-min:mousedown\",this.onMouseDown(\"minHandler\")),t.on(\"handler-min:touchstart\",this.onMouseDown(\"minHandler\")),t.on(\"handler-max:mousedown\",this.onMouseDown(\"maxHandler\")),t.on(\"handler-max:touchstart\",this.onMouseDown(\"maxHandler\"));var e=t.findById(this.getElementId(\"foreground\"));e.on(\"mousedown\",this.onMouseDown(\"foreground\")),e.on(\"touchstart\",this.onMouseDown(\"foreground\"))},vf.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case\"minHandler\":var i=0-n,o=1-n;return Math.min(o,Math.max(i,t));case\"maxHandler\":return i=0-r,o=1-r,Math.min(o,Math.max(i,t));case\"foreground\":return i=0-n,o=1-r,Math.min(o,Math.max(i,t))}},vf.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case\"minHandler\":n+=t;break;case\"maxHandler\":r+=t;break;case\"foreground\":n+=t,r+=t}this.set(\"start\",n),this.set(\"end\",r)},vf.prototype._dodgeText=function(t,e,n){var r,i,o=this.cfg,a=o.handlerStyle,s=o.width,u=Object(ot.get)(a,\"width\",10),c=t[0],h=t[1],l=!1;h<c&&(c=(r=[h,c])[0],h=r[1],e=(i=[n,e])[0],n=i[1],l=!0);var f=e.getBBox(),d=n.getBBox(),p=f.width>c-2?{x:c+u/2+2,textAlign:\"left\"}:{x:c-u/2-2,textAlign:\"right\"},g=d.width>s-h-2?{x:h-u/2-2,textAlign:\"right\"}:{x:h+u/2+2,textAlign:\"left\"};return l?[g,p]:[p,g]},vf.prototype.draw=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");e&&e.draw()},vf.prototype.getContainerDOM=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");return e&&e.get(\"container\")},vf),gf={default:{trackColor:\"rgba(0,0,0,0)\",thumbColor:\"rgba(0,0,0,0.15)\",size:8,lineCap:\"round\"},hover:{thumbColor:\"rgba(0,0,0,0.2)\"}};function vf(){var s=null!==nf&&nf.apply(this,arguments)||this;return s.onMouseDown=function(r){return function(t){s.currentTarget=r;var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),s.prevX=Object(ot.get)(e,\"touches.0.pageX\",e.pageX),s.prevY=Object(ot.get)(e,\"touches.0.pageY\",e.pageY);var n=s.getContainerDOM();n.addEventListener(\"mousemove\",s.onMouseMove),n.addEventListener(\"mouseup\",s.onMouseUp),n.addEventListener(\"mouseleave\",s.onMouseUp),n.addEventListener(\"touchmove\",s.onMouseMove),n.addEventListener(\"touchend\",s.onMouseUp),n.addEventListener(\"touchcancel\",s.onMouseUp)}},s.onMouseMove=function(t){var e=s.cfg.width,n=[s.get(\"start\"),s.get(\"end\")];t.stopPropagation(),t.preventDefault();var r=Object(ot.get)(t,\"touches.0.pageX\",t.pageX),i=Object(ot.get)(t,\"touches.0.pageY\",t.pageY),o=r-s.prevX,a=s.adjustOffsetRange(o/e);s.updateStartEnd(a),s.updateUI(s.getElementByLocalId(\"foreground\"),s.getElementByLocalId(\"minText\"),s.getElementByLocalId(\"maxText\")),s.prevX=r,s.prevY=i,s.draw(),s.emit(\"sliderchange\",[s.get(\"start\"),s.get(\"end\")].sort()),s.delegateEmit(\"valuechanged\",{originValue:n,value:[s.get(\"start\"),s.get(\"end\")]})},s.onMouseUp=function(){s.currentTarget&&(s.currentTarget=void 0);var t=s.getContainerDOM();t&&(t.removeEventListener(\"mousemove\",s.onMouseMove),t.removeEventListener(\"mouseup\",s.onMouseUp),t.removeEventListener(\"mouseleave\",s.onMouseUp),t.removeEventListener(\"touchmove\",s.onMouseMove),t.removeEventListener(\"touchend\",s.onMouseUp),t.removeEventListener(\"touchcancel\",s.onMouseUp))},s}function yf(){return null!==rf&&rf.apply(this,arguments)||this}function mf(){return null!==of&&of.apply(this,arguments)||this}function bf(){var l=null!==af&&af.apply(this,arguments)||this;return l.clearEvents=ot.noop,l.onStartEvent=function(r){return function(t){l.isMobile=r,t.originalEvent.preventDefault();var e=r?Object(ot.get)(t.originalEvent,\"touches.0.clientX\"):t.clientX,n=r?Object(ot.get)(t.originalEvent,\"touches.0.clientY\"):t.clientY;l.startPos=l.cfg.isHorizontal?e:n,l.bindLaterEvent()}},l.bindLaterEvent=function(){var t=l.getContainerDOM(),e=[],e=l.isMobile?[Pc(t,\"touchmove\",l.onMouseMove),Pc(t,\"touchend\",l.onMouseUp),Pc(t,\"touchcancel\",l.onMouseUp)]:[Pc(t,\"mousemove\",l.onMouseMove),Pc(t,\"mouseup\",l.onMouseUp),Pc(t,\"mouseleave\",l.onMouseUp)];l.clearEvents=function(){e.forEach(function(t){t.remove()})}},l.onMouseMove=function(t){var e=l.cfg,n=e.isHorizontal,r=e.thumbOffset;t.preventDefault();var i=l.isMobile?Object(ot.get)(t,\"touches.0.clientX\"):t.clientX,o=l.isMobile?Object(ot.get)(t,\"touches.0.clientY\"):t.clientY,a=n?i:o,s=a-l.startPos;l.startPos=a,l.updateThumbOffset(r+s)},l.onMouseUp=function(t){t.preventDefault(),l.clearEvents()},l.onTrackClick=function(t){var e=l.cfg,n=e.isHorizontal,r=e.x,i=e.y,o=e.thumbLen,a=l.getContainerDOM().getBoundingClientRect(),s=t.clientX,u=t.clientY,c=n?s-a.left-r-o/2:u-a.top-i-o/2,h=l.validateRange(c);l.updateThumbOffset(h)},l.onThumbMouseOver=function(){var t=l.cfg.theme.hover.thumbColor;l.getElementByLocalId(\"thumb\").attr(\"stroke\",t),l.draw()},l.onThumbMouseOut=function(){var t=l.cfg.theme.default.thumbColor;l.getElementByLocalId(\"thumb\").attr(\"stroke\",t),l.draw()},l}is(bf,af=xu),bf.prototype.setRange=function(t,e){this.set(\"minLimit\",t),this.set(\"maxLimit\",e);var n=this.getValue(),r=Object(ot.clamp)(n,t,e);n===r||this.get(\"isInit\")||this.setValue(r)},bf.prototype.getRange=function(){return{min:this.get(\"minLimit\")||0,max:this.get(\"maxLimit\")||1}},bf.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get(\"trackLen\")-this.get(\"thumbLen\"))*Object(ot.clamp)(t,e.min,e.max)}),this.delegateEmit(\"valuechange\",{originalValue:n,value:this.getValue()})},bf.prototype.getValue=function(){return Object(ot.clamp)(this.get(\"thumbOffset\")/(this.get(\"trackLen\")-this.get(\"thumbLen\")),0,1)},bf.prototype.getDefaultCfg=function(){var t=af.prototype.getDefaultCfg.call(this);return os(os({},t),{name:\"scrollbar\",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:gf})},bf.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},bf.prototype.applyOffset=function(){this.moveElementTo(this.get(\"group\"),{x:this.get(\"x\"),y:this.get(\"y\")})},bf.prototype.initEvent=function(){this.bindEvents()},bf.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,r=e.theme,i=(void 0===r?{default:{}}:r).default,o=i.lineCap,a=i.trackColor,s=i.size,u=this.get(\"isHorizontal\")?{x1:0+s/2,y1:s/2,x2:n-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:o}:{x1:s/2,y1:0+s/2,x2:s/2,y2:n-s/2,lineWidth:s,stroke:a,lineCap:o};return this.addShape(t,{id:this.getElementId(\"track\"),name:\"track\",type:\"line\",attrs:u})},bf.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,i=e.theme,o=(void 0===i?{default:{}}:i).default,a=o.size,s=o.lineCap,u=o.thumbColor,c=this.get(\"isHorizontal\")?{x1:n+a/2,y1:a/2,x2:n+r-a/2,y2:a/2,lineWidth:a,stroke:u,lineCap:s,cursor:\"default\"}:{x1:a/2,y1:n+a/2,x2:a/2,y2:n+r-a/2,lineWidth:a,stroke:u,lineCap:s,cursor:\"default\"};return this.addShape(t,{id:this.getElementId(\"thumb\"),name:\"thumb\",type:\"line\",attrs:c})},bf.prototype.bindEvents=function(){var t=this.get(\"group\");t.on(\"mousedown\",this.onStartEvent(!1)),t.on(\"mouseup\",this.onMouseUp),t.on(\"touchstart\",this.onStartEvent(!0)),t.on(\"touchend\",this.onMouseUp),t.findById(this.getElementId(\"track\")).on(\"click\",this.onTrackClick);var e=t.findById(this.getElementId(\"thumb\"));e.on(\"mouseover\",this.onThumbMouseOver),e.on(\"mouseout\",this.onThumbMouseOut)},bf.prototype.getContainerDOM=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");return e&&e.get(\"container\")},bf.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,r=e.trackLen,i=t;return r<t+n?i=r-n:t+n<n&&(i=0),i},bf.prototype.draw=function(){var t=this.get(\"container\"),e=t&&t.get(\"canvas\");e&&e.draw()},bf.prototype.updateThumbOffset=function(t){var e,n=this.cfg,r=n.thumbOffset,i=n.isHorizontal,o=n.thumbLen,a=n.size,s=this.validateRange(t);s!==r&&(e=this.getElementByLocalId(\"thumb\"),i?e.attr({x1:s+a/2,x2:s+o-a/2}):e.attr({y1:s+a/2,y2:s+o-a/2}),this.emitOffsetChange(s))},bf.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,i=e.thumbLen;this.cfg.thumbOffset=t,this.emit(\"scrollchange\",{thumbOffset:t,ratio:Object(ot.clamp)(t/(r-i),0,1)}),this.delegateEmit(\"valuechange\",{originalValue:n,value:t})};var xf,wf,Mf={Menu:Da,Grid:ja,Minimap:Ra,Bundling:qa,ToolBar:Ka,Tooltip:ts,Fisheye:Wa,TimeBar:(wf=ka,Object(L.__extends)(_f,wf),_f.prototype.getDefaultCfgs=function(){return{width:400,height:50,rangeChange:null,timebar:{x:10,y:10,width:380,height:26,minLimit:0,maxLimit:1,start:.1,end:.9}}},_f.prototype.init=function(){var t,e,n,r=this.get(\"timebar\").trend,i=(void 0===r?{}:r).data,o=void 0===i?[]:i;o&&0!==o.length?(e=this.get(\"container\"),n=this.get(\"graph\").get(\"container\"),e?t=e:(t=ht()(\"<div class='g6-component-timebar'></div>\"),ut()(t,{position:\"absolute\"})),n.appendChild(t),this.set(\"timeBarContainer\",t),this.initTimeBar(t)):console.warn(\"TimeBar 中没有传入数据\")},_f.prototype.initTimeBar=function(t){var e=this.get(\"width\"),n=this.get(\"height\"),r=new es.Canvas({container:t,width:e,height:n}).addGroup({id:\"timebar-plugin\"}),i=this.get(\"timebar\"),o=i.trend,a=void 0===o?{}:o,s=Object(L.__rest)(i,[\"trend\"]),u=Object(L.__assign)({container:r,minText:s.start,maxText:s.end},s),c=a.data,h=void 0===c?[]:c,l=Object(L.__rest)(a,[\"data\"]),f=h.map(function(t){return t.value});u.trendCfg=Object(L.__assign)(Object(L.__assign)({},l),{data:f});var d=Math.round(h.length*s.start),p=(p=Math.round(h.length*s.end))>=h.length?h.length-1:p;u.minText=h[d].date,u.maxText=h[p].date,this.set(\"trendData\",h);var g=new pf(u);g.init(),g.render(),this.set(\"slider\",g),this.bindEvent()},_f.prototype.bindEvent=function(){var e=this,t=this.get(\"slider\"),n=this.get(\"timebar\"),r=n.start,i=n.end;this.get(\"graph\").on(\"afterrender\",function(t){e.filterData({value:[r,i]})}),t.on(\"valuechanged\",function(t){e.filterData(t)})},_f.prototype.filterData=function(t){var e,n,r,i,o=t.value,a=this.get(\"trendData\"),s=this.get(\"rangeChange\"),u=this.get(\"graph\"),c=this.get(\"slider\"),h=Math.round(a.length*o[0]),l=(l=Math.round(a.length*o[1]))>=a.length?a.length-1:l,f=a[h].date,d=a[l].date;c.set(\"minText\",f),c.set(\"maxText\",d),s?s(u,f,d):(e=u.save(),(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=e),n=this.cacheGraphData.nodes.filter(function(t){return t.date>=f&&t.date<=d}),r=n.map(function(t){return t.id}),i=this.cacheGraphData.edges.filter(function(t){return r.includes(t.source)&&r.includes(t.target)}),u.changeData({nodes:n,edges:i}))},_f.prototype.show=function(){this.get(\"slider\").show()},_f.prototype.hide=function(){this.get(\"slider\").hide()},_f.prototype.destroy=function(){this.cacheGraphData=null;var t=this.get(\"slider\");t&&(t.off(\"valuechanged\"),t.destroy());var e=this.get(\"timeBarContainer\");e&&(this.get(\"container\")||this.get(\"graph\").get(\"container\")).removeChild(e)},_f),ImageMinimap:(xf=ka,Object(L.__extends)(Sf,xf),Sf.prototype.getDefaultCfgs=function(){return{container:null,className:\"g6-minimap\",viewportClassName:\"g6-minimap-viewport\",width:200,delegateStyle:{fill:\"#40a9ff\",stroke:\"#096dd9\"},refresh:!0}},Sf.prototype.getEvents=function(){return{beforepaint:\"updateViewport\",beforeanimate:\"disableRefresh\",afteranimate:\"enableRefresh\",viewportchange:\"disableOneRefresh\"}},Sf.prototype.disableRefresh=function(){this.set(\"refresh\",!1)},Sf.prototype.enableRefresh=function(){this.set(\"refresh\",!0),this.updateCanvas()},Sf.prototype.disableOneRefresh=function(){this.set(\"viewportChange\",!0)},Sf.prototype.initViewport=function(){var t,a,s,u,c,h,l,f,d,p,g,v=this,i=this._cfgs,y=i.graph;this.destroyed||(t=this.get(\"container\"),a=ht()(\"<div class=\"+i.viewportClassName+\"\\n      style='position:absolute;\\n        left:0;\\n        top:0;\\n        box-sizing:border-box;\\n        border: 2px solid #1980ff'>\\n      </div>\"),c=!1,g=p=d=f=l=h=u=s=0,t.addEventListener(\"mousedown\",function(t){var e,n,r;i.refresh=!1,t.target===a&&(e=a.style,f=parseInt(e.width,10),d=parseInt(e.height,10),n=v.get(\"width\"),r=v.get(\"height\"),n<f||r<d||(g=y.getZoom(),p=v.get(\"ratio\"),c=!0,s=t.clientX,u=t.clientY))},!1),t.addEventListener(\"mousemove\",function(t){var e,n,r,i,o;!c||S()(t.clientX)||S()(t.clientY)||(e=v.get(\"width\"),n=v.get(\"height\"),r=a.style,h=parseInt(r.left,10),l=parseInt(r.top,10),f=parseInt(r.width,10),d=parseInt(r.height,10),i=s-t.clientX,o=u-t.clientY,h-i<0?i=h:e<=h-i+f&&(i=0),l-o<0?o=l:n<=l-o+d&&(o=0),h-=i,l-=o,ut()(a,{left:h+\"px\",top:l+\"px\"}),y.translate(i*g/p,o*g/p),s=t.clientX,u=t.clientY)},!1),t.addEventListener(\"mouseleave\",function(){c=!1,i.refresh=!0},!1),t.addEventListener(\"mouseup\",function(){c=!1,i.refresh=!0},!1),this.set(\"viewport\",a),t.appendChild(a))},Sf.prototype.updateViewport=function(){var t,e,n,r,i,o,a,s,u,c,h,l,f,d,p,g,v,y,m,b,x,w,M,S,_;this.destroyed||(t=this.get(\"ratio\"),e=this.get(\"width\"),n=this.get(\"height\"),o=(i=(r=this.get(\"graph\")).get(\"width\"))/r.get(\"height\"),u=[((s=(a=r.getGroup()).getCanvasBBox()).minX+s.maxX)/2,(s.minY+s.maxY)/2],c=[s.maxX-s.minX,s.maxY-s.minY],h={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0},s[0]/s[1]>o?(h.width=c[0],h.height=h.width/o):(h.height=c[1],h.width=h.height*o),h.minX=u[0]-h.width/2,h.minY=u[1]-h.height/2,l=(l=a.getMatrix())||[1,0,0,0,1,0,0,0,1],f=J.invert([],l),d=It({x:h.minX,y:h.minY},f),p=r.getCanvasByPoint(d.x,d.y),(g=this.get(\"viewport\"))||this.initViewport(),y=(v=i/h.width)*e,m=v*n,w=(b=e*-p.x/h.width)+y,M=(x=n*-p.y/h.height)+m,b<0&&(y+=b,b=0),e<w&&(y-=w-e),x<0&&(m+=x,x=0),n<M&&(m-=M-n),this.set(\"ratio\",t),S=b+\"px\",_=x+\"px\",ut()(g,{left:S,top:_,width:y+\"px\",height:m+\"px\"}))},Sf.prototype.init=function(){this.initContainer()},Sf.prototype.initContainer=function(){var t=this.get(\"graph\"),e=t.get(\"width\"),n=t.get(\"height\")/e,r=this.get(\"className\"),i=this.get(\"container\"),o=this.get(\"width\"),a=this.get(\"height\");o||a||(o=200),o?(a=n*o,this.set(\"height\",a)):(o=1/n*a,this.set(\"width\",o));var s=ht()(\"<div class='\"+r+\"' style='width: \"+o+\"px; height: \"+a+\"px; overflow: hidden; position: relative;'></div>\");T()(i)&&(i=document.getElementById(i)),i?i.appendChild(s):t.get(\"container\").appendChild(s),this.set(\"container\",s);var u=ht()('<div class=\"g6-minimap-container\" style=\"position: relative; width: 100%; height: 100%; text-align: center; display: table;\"></div>');s.appendChild(u);var c=ht()('<span style=\"display: table-cell; vertical-align: middle; \"></span>');u.appendChild(c),this.set(\"containerDOM\",u),this.set(\"containerSpan\",c);var h=ht()('<img alt=\"\" src=\"'+this.get(\"graphImg\")+'\" style=\"display: inline-block;\" ondragstart=\"return false;\" onselectstart=\"return false;\"/>');this.set(\"imgDOM\",h),this.updateImgSize(),c.appendChild(h),this.updateCanvas()},Sf.prototype.updateImgSize=function(){var o=this.get(\"imgDOM\"),a=this.get(\"width\"),s=this.get(\"height\");o.onload=function(){var t,e,n,r,i=((t=o).naturalWidth?(e=t.naturalWidth,n=t.naturalHeight):((r=new Image).src=t.src,r.onload=function(){}),[e,n]);i[1]<i[0]?o.width=a:o.height=s}},Sf.prototype.updateCanvas=function(){var t,e;this.get(\"refresh\")&&((t=this.get(\"graph\")).get(\"destroyed\")||(this.get(\"viewportChange\")&&(this.set(\"viewportChange\",!1),this.updateViewport()),e=this.get(\"width\")/t.get(\"canvas\").getCanvasBBox().width,this.set(\"ratio\",e),this.updateViewport()))},Sf.prototype.getViewport=function(){return this.get(\"viewport\")},Sf.prototype.getContainer=function(){return this.get(\"container\")},Sf.prototype.updateGraphImg=function(t){this.get(\"imgDOM\").remove(),this.set(\"graphImg\",t);var e=ht()('<img alt=\"\" src=\"'+t+'\" style=\"display: inline-block;\" ondragstart=\"return false;\" onselectstart=\"return false;\"/>');this.set(\"imgDOM\",e),e.src=t,this.updateImgSize(),this.get(\"containerSpan\").appendChild(e),this.updateCanvas()},Sf.prototype.destroy=function(){var t=this.get(\"container\");t.parentNode.removeChild(t)},Sf)};function Sf(){return null!==xf&&xf.apply(this,arguments)||this}function _f(){return null!==wf&&wf.apply(this,arguments)||this}function Of(t,e,n){var r=t.findById(e);!function e(n,r,i,o){o.enter({current:r,previous:i}),n.getNeighbors(r,\"target\").forEach(function(t){o.allowTraversal({previous:i,current:r,next:t})&&e(n,t,r,o)}),o.leave({current:r,previous:i})}(t,r,null,function(t){void 0===t&&(t={});function e(){}var n,r=t,i=(n={},function(t){var e=t.next;return!n[e.get(\"id\")]&&(n[e.get(\"id\")]=!0)});return r.allowTraversal=t.allowTraversal||i,r.enter=t.enter||e,r.leave=t.leave||e,r}(n))}var Cf=(kf.prototype.isEmpty=function(){return!this.linkedList.head},kf.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},kf.prototype.enqueue=function(t){this.linkedList.append(t)},kf.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},kf.prototype.toString=function(t){return this.linkedList.toString(t)},kf);function kf(){this.linkedList=new Oo}var Ef=function(t,e,n){var r=function(t){void 0===t&&(t={});function e(){}var n,r=t,i=(n={},function(t){var e=t.next.get(\"id\");return!n[e]&&(n[e]=!0)});return r.allowTraversal=t.allowTraversal||i,r.enter=t.enter||e,r.leave=t.leave||e,r}(n),i=new Cf,o=t.findById(e);i.enqueue(o);for(var a=null;!i.isEmpty();)!function(){var e=i.dequeue();r.enter({current:e,previous:a}),t.getNeighbors(e,\"target\").forEach(function(t){r.allowTraversal({previous:a,current:e,next:t})&&i.enqueue(t)}),r.leave({current:e,previous:a}),a=e}()};function jf(a){for(var s=[],u={},c={},h={},l=[],f=0,d=function(t){c[t.get(\"id\")]=f,h[t.get(\"id\")]=f,f+=1,s.push(t),u[t.get(\"id\")]=!0;for(var e=t.getNeighbors(\"target\").filter(function(t){return-1<a.indexOf(t)}),n=0;n<e.length;n++){var r=e[n];c[r.get(\"id\")]||0===c[r.get(\"id\")]?u[r.get(\"id\")]&&(h[t.get(\"id\")]=Math.min(h[t.get(\"id\")],c[r.get(\"id\")])):(d(r),h[t.get(\"id\")]=Math.min(h[t.get(\"id\")],h[r.get(\"id\")]))}if(h[t.get(\"id\")]===c[t.get(\"id\")]){for(var i=[];0<s.length;){var o=s.pop();if(u[o.get(\"id\")]=!1,i.push(o),o===t)break}0<i.length&&l.push(i)}},t=0,e=a;t<e.length;t++){var n=e[t];c[n.get(\"id\")]||0===c[n.get(\"id\")]||d(n)}return l}function Pf(t,e){var n=void 0===e?t.get(\"directed\"):e,r=t.getNodes();return(n?jf:function(t){for(var e=[],i={},o=[],a=function(t){o.push(t),i[t.get(\"id\")]=!0;for(var e=t.getNeighbors(),n=0;n<e.length;++n){var r=e[n];i[r.get(\"id\")]||a(r)}},n=0;n<t.length;n++){var r=t[n];if(!i[r.get(\"id\")]){a(r);for(var s=[];0<o.length;)s.push(o.pop());e.push(s)}}return e})(r)}function If(t,e){return t-e}var Af=function(t,e,n){var r,i,o;void 0===n&&(n=!0);for(var a=[],s=0,u=Pf(t,!1);s<u.length;s++){var c=u[s];if(c.length)for(var h=c[0],l=h.get(\"id\"),f=[h],d=((r={})[l]=h,r),p=((i={})[l]=new Set,i);0<f.length;)for(var g=f.pop(),v=g.get(\"id\"),y=g.getNeighbors(),m=0;m<y.length;m+=1){var b=y[m],x=b.get(\"id\");if(x===v)a.push(((o={})[b.getID()]=g,o));else if(x in p){if(!p[v].has(b)){for(var w=!0,M=[b,g],S=d[v];p[x].size&&!p[x].has(S)&&(M.push(S),S!==d[S.getID()]);)S=d[S.getID()];if(M.push(S),e&&n?(w=!1,-1<M.findIndex(function(t){return-1<e.indexOf(t.get(\"id\"))})&&(w=!0)):e&&!n&&-1<M.findIndex(function(t){return-1<e.indexOf(t.get(\"id\"))})&&(w=!1),w){for(var _={},O=1;O<M.length;O+=1)_[M[O-1].getID()]=M[O];M.length&&(_[M[M.length-1].getID()]=M[0]),a.push(_)}p[x].add(g)}}else d[x]=g,f.push(b),p[x]=new Set([g])}}return a},Tf=function(t,p,g){void 0===g&&(g=!0);for(var c=[],h=new Set,l=[],v=[],f={},y={},d=function(n,t,e){var r=!1;if(p&&!1===g&&-1<p.indexOf(n.get(\"id\")))return r;c.push(n),h.add(n);for(var i=e[n.getID()],o=0;o<i.length;o+=1)if((u=f[i[o]])===t){for(var a={},s=1;s<c.length;s+=1)a[c[s-1].getID()]=c[s];c.length&&(a[c[c.length-1].getID()]=c[0]),v.push(a),r=!0}else h.has(u)||d(u,t,e)&&(r=!0);if(r)!function(){for(var e=[n];0<e.length;){var t=e.pop();h.has(t)&&(h.delete(t),l[t.get(\"id\")].forEach(function(t){e.push(t)}),l[t.get(\"id\")].clear())}}();else for(o=0;o<i.length;o+=1){var u=f[i[o]];l[u.get(\"id\")].has(n)||l[u.get(\"id\")].add(n)}return c.pop(),r},e=t.getNodes(),n=0;n<e.length;n+=1){var r=e[n],i=r.getID();y[i]=n,f[n]=r}if(p&&g)for(n=0;n<p.length;n++)i=p[n],y[e[n].getID()]=y[i],y[i]=0,f[0]=t.findById(i),f[y[e[n].getID()]]=e[n];for(var o=0;o<e.length;){var a=jf(e.filter(function(t){return y[t.getID()]>=o})).filter(function(t){return 1<t.length});if(0===a.length)break;var s=function(t){for(var e,n,r=1/0,i=0;i<t.length;i+=1)for(var o=t[i],a=0;a<o.length;a++){var s=y[o[a].getID()];s<r&&(r=s,n=i)}for(var u=t[n],c=[],i=0;i<u.length;i+=1){var h=u[i];c[h.getID()]=[];for(var l=0,f=h.getNeighbors(\"target\").filter(function(t){return-1<u.indexOf(t)});l<f.length;l++){var d=f[l];d!==h||!1===g&&-1<p.indexOf(h.getId())?c[h.getID()].push(y[d.getID()]):v.push(((e={})[h.getID()]=h,e))}}return{component:u,adjList:c,minIdx:r}}(a),u=s.minIdx,m=s.adjList,b=s.component;if(!(1<b.length))break;b.forEach(function(t){l[t.get(\"id\")]=new Set});var x=f[u];if(p&&g&&-1===p.indexOf(x.get(\"id\")))return v;d(x,x,m),o=u+1}return v},Nf=function(t,e,n,r){return void 0===r&&(r=!0),void 0===e&&(e=t.get(\"directed\")),(e?Tf:Af)(t,n,r)},Bf=function(t){var o=null,a={},s={},u={},n={};t.getNodes().forEach(function(t){s[t.getID()]=t});for(var e={enter:function(t){var e=t.current,n=t.previous;if(u[e.getID()]){o={};for(var r=e,i=n;i.getID()!==e.getID();)o[r.getID()]=i,i=a[(r=i).getID()];o[r.getID()]=i}else u[e.getID()]=e,delete s[e.getID()],a[e.getID()]=n},leave:function(t){var e=t.current;n[e.getID()]=e,delete u[e.getID()]},allowTraversal:function(t){var e=t.next;return!o&&!n[e.getID()]}};Object.keys(s).length;)Of(t,Object.keys(s)[0],e);return o},Df=function(t,e,n,r,i){Object(ot.isString)(e)&&(e=t.findById(e)),Object(ot.isString)(n)&&(n=t.findById(n));var o=function(t,r,e,i){var n=t.getNodes(),o=[],a={},s={},u={};n.forEach(function(t,e){var n=t.getID();o.push(n),s[n]=1/0,n===r&&(s[n]=0)});for(var c=n.length,h=0;h<c;h++)!function(){var r=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].get(\"id\");!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(s,n,a),t=r.get(\"id\");if(a[t]=!0,s[t]===1/0)return;(e?r.getEdges():r.getOutEdges()).forEach(function(t){var e=t.getTarget().getID(),n=i&&t.getModel()[i]?t.getModel()[i]:1;s[e]>s[r.get(\"id\")]+n&&(s[e]=s[r.get(\"id\")]+n,u[e]=r.get(\"id\"))})}();var l,f={};for(l in s){f[l]=[l];for(var d=u[l];void 0!==d;)f[l].unshift(d),d=u[d]}return{length:s,path:f}}(t,e.get(\"id\"),r,i),a=o.length,s=o.path;return{length:a[n.get(\"id\")],path:s[n.get(\"id\")]}},Lf=function(t,e,n,r){var i;if(Object(ot.isString)(e)&&(e=t.findById(e)),Object(ot.isString)(n)&&(n=t.findById(n)),void 0===r&&(r=t.get(\"directed\")),e===n)return[[e.get(\"id\")]];var o=[e],a=((i={})[e.get(\"id\")]=!0,i),s=[],u=[],c=r?e.getNeighbors(\"target\"):e.getNeighbors();for(s.push(c);0<o.length&&0<s.length;){var h,l,f,d=s[s.length-1];d.length?((h=d.shift())&&(o.push(h),a[h.get(\"id\")]=!0,c=r?h.getNeighbors(\"target\"):h.getNeighbors(),s.push(c.filter(function(t){return!a[t.get(\"id\")]}))),o[o.length-1]===n&&(l=o.map(function(t){return t.get(\"id\")}),u.push(l),f=o.pop(),a[f.get(\"id\")]=!1,s.pop())):(f=o.pop(),a[f.get(\"id\")]=!1,s.pop())}return u},Rf=(Gf.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},Gf.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},Gf.prototype.connected=function(t,e){return this.find(t)===this.find(e)},Gf),zf=(Xf.prototype.getLeft=function(t){return 2*t+1},Xf.prototype.getRight=function(t){return 2*t+2},Xf.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},Xf.prototype.isEmpty=function(){return this.list.length<=0},Xf.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},Xf.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return 0<this.list.length&&(this.list[0]=e,this.moveDown(0)),t},Xf.prototype.insert=function(t){if(null===t)return!1;this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0},Xf.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&0<t&&0<this.compareFn(this.list[e],this.list[t]);){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},Xf.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&0<this.compareFn(this.list[n],this.list[r])?n=r:null!==i&&i<o&&0<this.compareFn(this.list[n],this.list[i])&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},Xf),Yf=function(t,n){var e=[],r=t.getNodes();if(0===r.length)return e;var i=r[0],o=new Set;o.add(i);var a=new zf(function(t,e){return n?t.getModel()[n]-e.getModel()[n]:0});for(i.getEdges().forEach(function(t){a.insert(t)});!a.isEmpty();){var s=a.delMin(),u=s.getSource(),c=s.getTarget();o.has(u)&&o.has(c)||(e.push(s),o.has(u)||(o.add(u),u.getEdges().forEach(function(t){a.insert(t)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(t){a.insert(t)})))}return e},Ff=function(t,n){var e=[];if(0===t.getNodes().length)return e;var r=t.getEdges().map(function(t){return t});n&&r.sort(function(t,e){return t.getModel()[n]-e.getModel()[n]});for(var i=new Rf(t.getNodes().map(function(t){return t.get(\"id\")}));0<r.length;){var o=r.shift(),a=o.getSource().get(\"id\"),s=o.getTarget().get(\"id\");i.connected(a,s)||(e.push(o),i.union(a,s))}return e};function Xf(t){void 0===t&&(t=If),this.compareFn=t,this.list=[]}function Gf(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}function Vf(t,e,n){return n?{prim:Yf,kruskal:Ff}[n](t,e):Ff(t,e)}var qf=function(t,e,n){\"number\"!=typeof e&&(e=1e-6),\"number\"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.getNodes(),u=s.length,c={},h={},l=0;l<u;++l)c[f=(r=s[l]).get(\"id\")]=1/u,h[f]=1/u;for(;0<a&&e<i;){for(l=o=0;l<u;++l){var f=(r=s[l]).get(\"id\"),d=0;if(0===t.getNodeDegree(r,\"in\"))c[f]=0;else{for(var p=r.getNeighbors(\"source\"),g=0;g<p.length;++g){var v=p[g],y=t.getNodeDegree(v,\"out\");0<y&&(d+=h[v.get(\"id\")]/y)}c[f]=n*d,o+=c[f]}}for(o=(1-o)/u,l=i=0;l<u;++l){d=c[f=(r=s[l]).get(\"id\")]+o,i+=Math.abs(d-h[f]),h[f]=d}--a}return h},Hf=_a.registerNode,Wf=_a.registerEdge,Uf=_a.registerCombo,Zf=xe.registerBehavior,$f=co.registerLayout,Kf=Mf.Minimap,Qf=Mf.Grid,Jf=Mf.Bundling,td=Mf.Menu,ed=Mf.Fisheye,nd=Mf.ToolBar,rd=Mf.Tooltip,id=Mf.TimeBar,od=Mf.ImageMinimap;e.default={version:g.a,Graph:Go,TreeGraph:Ho,Util:Ca,registerNode:_a.registerNode,registerEdge:_a.registerEdge,registerCombo:_a.registerCombo,registerBehavior:xe.registerBehavior,registerLayout:co.registerLayout,Layout:co,Global:F,Minimap:Mf.Minimap,Grid:Mf.Grid,Bundling:Mf.Bundling,Menu:Mf.Menu,ToolBar:Mf.ToolBar,Tooltip:Mf.Tooltip,TimeBar:id,Fisheye:ed,ImageMinimap:od,Algorithm:d,Arrow:{triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return\"M \"+r+\",0 L \"+(r+e)+\",-\"+t/2+\" L \"+(r+e)+\",\"+t/2+\" Z\"},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var r=2*n;return\"M \"+r+\",0 L \"+(r+e)+\",-\"+t/2+\"\\n        L \"+(r+2*e/3)+\",0 L \"+(r+e)+\",\"+t/2+\" Z\"},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),\"M \"+2*e+\", 0\\n            a \"+t+\",\"+t+\" 0 1,0 \"+2*t+\",0\\n            a \"+t+\",\"+t+\" 0 1,0 \"+2*-t+\",0\"},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var r=2*n;return\"M \"+r+\",\"+-t/2+\" \\n        L \"+(r+e)+\",\"+-t/2+\" \\n        L \"+(r+e)+\",\"+t/2+\" \\n        L \"+r+\",\"+t/2+\" Z\"},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return\"M \"+r+\",0 \\n        L \"+(r+e/2)+\",\"+-t/2+\" \\n        L \"+(r+e)+\",0 \\n        L \"+(r+e/2)+\",\"+t/2+\" Z\"},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+e+i;return\"M \"+a+\",0 L \"+(a+e)+\",-\"+t/2+\" L \"+(a+e)+\",\"+t/2+\" Z\\n            M \"+s+\", -\"+n/2+\"\\n            L \"+(s+r)+\" -\"+n/2+\"\\n            L \"+(s+r)+\" \"+n/2+\"\\n            L \"+s+\" \"+n/2+\"\\n            Z\"}},Marker:Sa}},,,,function(t,e,n){\"use strict\";function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}n.d(e,\"a\",function(){return y});var i,o,a=0,s=0,u=0,c=0,h=0,l=0,f=\"object\"===(\"undefined\"==typeof performance?\"undefined\":r(performance))&&performance.now?performance:Date,d=\"object\"===(\"undefined\"==typeof window?\"undefined\":r(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return h||(d(g),h=f.now()+l)}function g(){h=0}function v(){this._call=this._time=this._next=null}function y(t,e,n){var r=new v;return r.restart(t,e,n),r}function m(){h=(c=f.now())+l,a=s=0;try{!function(){p(),++a;for(var t,e=i;e;)0<=(t=h-e._time)&&e._call.call(null,t),e=e._next;--a}()}finally{a=0,function(){for(var t,e,n=i,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:i=e);o=t,x(r)}(),h=0}}function b(){var t=f.now(),e=t-c;1e3<e&&(l-=e,c=t)}function x(t){a||(s=s&&clearTimeout(s),24<t-h?(t<1/0&&(s=setTimeout(m,t-f.now()-l)),u=u&&clearInterval(u)):(u||(c=f.now(),u=setInterval(b,1e3)),a=1,d(m)))}v.prototype=y.prototype={constructor:v,restart:function(t,e,n){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");n=(null==n?p():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}}}]).default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.default={id:\"root\",name:\"root\",title:\"root\",image:\"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*Q_FQT6nwEC8AAAAAAAAAAABkARQnAQ\",children:[{id:\"c1\",name:\"c1\",title:\"t1\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\",children:[{id:\"c1-1\",name:\"c1-1\",title:\"t1-1\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\"},{id:\"c1-2\",name:\"c1-2\",title:\"t1-2\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\"}]},{id:\"c2\",name:\"c2\",title:\"t2\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\"},{id:\"c3\",name:\"c3\",title:\"t3\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\",children:[{id:\"c3-1\",name:\"c3-1\",title:\"t3-1\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\"},{id:\"c3-2\",name:\"c3-2\",title:\"t3-2\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\"},{id:\"c3-3\",name:\"c3-3\",title:\"t3-3\",image:\"https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png\"}]}]}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=(i.prototype.hex2hsl=function(t){var e=t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(t,e,n,r){return e+e+n+n+r+r}),n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e),r=parseInt(n[1],16),i=parseInt(n[2],16),o=parseInt(n[3],16);r/=255,i/=255,o/=255;var a=Math.max(r,i,o),s=Math.min(r,i,o);if(this.l=(a+s)/2,a==s)this.h=this.s=0;else{var u=a-s;switch(this.s=.5<this.l?u/(2-a-s):u/(a+s),a){case r:this.h=(i-o)/u+(i<o?6:0);break;case i:this.h=(o-r)/u+2;break;case o:this.h=(r-i)/u+4}this.h/=6}},i.prototype.ToRgba=function(t){var e,n,r,i,o;return 0==this.s?r=i=o=this.l:(e=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,n=2*this.l-e,r=this.hue2rgb(n,e,this.h+1/3),i=this.hue2rgb(n,e,this.h),o=this.hue2rgb(n,e,this.h-1/3)),\"rgba(\"+255*r+\",\"+255*i+\",\"+255*o+\",\"+t+\")\"},i.prototype.hue2rgb=function(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},i);function i(t,e){return this.value=t,\"object\"==typeof e?(this.h=(e.h+50/360)%1,this.s=e.s,this.l=e.l,this):\"string\"==typeof e?(this.hex2hsl(e),this):void 0}e.default=r}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=0).default;function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r});","cssContent":""}